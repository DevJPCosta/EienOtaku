"use strict";(self.webpackChunkEienOtaku=self.webpackChunkEienOtaku||[]).push([[179],{853:()=>{function Zd(t,e,n,r,o,i,s){try{var a=t[i](s),c=a.value}catch(u){return void n(u)}a.done?e(c):Promise.resolve(c).then(r,o)}function v(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function s(c){Zd(i,r,o,s,a,"next",c)}function a(c){Zd(i,r,o,s,a,"throw",c)}s(void 0)})}}function qe(t){return"function"==typeof t}function Xd(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const wE=Xd(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function EE(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Ar{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const i of n)i.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(qe(r))try{r()}catch(i){e=i instanceof wE?i.errors:[i]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const i of o)try{E1(i)}catch(s){e=e??[],s instanceof wE?e=[...e,...s.errors]:e.push(s)}}if(e)throw new wE(e)}}add(e){var n;if(e&&e!==this)if(this.closed)E1(e);else{if(e instanceof Ar){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&EE(n,e)}remove(e){const{_finalizers:n}=this;n&&EE(n,e),e instanceof Ar&&e._removeParent(this)}}Ar.EMPTY=(()=>{const t=new Ar;return t.closed=!0,t})();const I1=Ar.EMPTY;function w1(t){return t instanceof Ar||t&&"closed"in t&&qe(t.remove)&&qe(t.add)&&qe(t.unsubscribe)}function E1(t){qe(t)?t():t.unsubscribe()}const Ta={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},em={setTimeout(t,e,...n){const{delegate:r}=em;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=em;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function D1(t){em.setTimeout(()=>{const{onUnhandledError:e}=Ta;if(!e)throw t;e(t)})}function DE(){}const MJ=bE("C",void 0,void 0);function bE(t,e,n){return{kind:t,value:e,error:n}}let Sa=null;function tm(t){if(Ta.useDeprecatedSynchronousErrorHandling){const e=!Sa;if(e&&(Sa={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Sa;if(Sa=null,n)throw r}}else t()}class CE extends Ar{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,w1(e)&&e.add(this)):this.destination=FJ}static create(e,n,r){return new Jd(e,n,r)}next(e){this.isStopped?SE(function NJ(t){return bE("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?SE(function xJ(t){return bE("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?SE(MJ,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const OJ=Function.prototype.bind;function TE(t,e){return OJ.call(t,e)}class PJ{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){nm(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){nm(r)}else nm(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){nm(n)}}}class Jd extends CE{constructor(e,n,r){let o;if(super(),qe(e)||!e)o={next:e??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&Ta.useDeprecatedNextContext?(i=Object.create(e),i.unsubscribe=()=>this.unsubscribe(),o={next:e.next&&TE(e.next,i),error:e.error&&TE(e.error,i),complete:e.complete&&TE(e.complete,i)}):o=e}this.destination=new PJ(o)}}function nm(t){Ta.useDeprecatedSynchronousErrorHandling?function RJ(t){Ta.useDeprecatedSynchronousErrorHandling&&Sa&&(Sa.errorThrown=!0,Sa.error=t)}(t):D1(t)}function SE(t,e){const{onStoppedNotification:n}=Ta;n&&em.setTimeout(()=>n(t,e))}const FJ={closed:!0,next:DE,error:function kJ(t){throw t},complete:DE},AE="function"==typeof Symbol&&Symbol.observable||"@@observable";function Es(t){return t}function b1(t){return 0===t.length?Es:1===t.length?t[0]:function(n){return t.reduce((r,o)=>o(r),n)}}let kt=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,o){const i=function jJ(t){return t&&t instanceof CE||function VJ(t){return t&&qe(t.next)&&qe(t.error)&&qe(t.complete)}(t)&&w1(t)}(n)?n:new Jd(n,r,o);return tm(()=>{const{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=C1(r))((o,i)=>{const s=new Jd({next:a=>{try{n(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[AE](){return this}pipe(...n){return b1(n)(this)}toPromise(n){return new(n=C1(n))((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return t.create=e=>new t(e),t})();function C1(t){var e;return null!==(e=t??Ta.Promise)&&void 0!==e?e:Promise}const UJ=Xd(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let fo=(()=>{class t extends kt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new T1(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new UJ}next(n){tm(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){tm(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){tm(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:o,observers:i}=this;return r||o?I1:(this.currentObservers=null,i.push(n),new Ar(()=>{this.currentObservers=null,EE(i,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:o,isStopped:i}=this;r?n.error(o):i&&n.complete()}asObservable(){const n=new kt;return n.source=this,n}}return t.create=(e,n)=>new T1(e,n),t})();class T1 extends fo{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:I1}}function S1(t){return qe(t?.lift)}function Ht(t){return e=>{if(S1(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ft(t,e,n,r,o){return new $J(t,e,n,r,o)}class $J extends CE{constructor(e,n,r,o,i,s){super(e),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Ve(t,e){return Ht((n,r)=>{let o=0;n.subscribe(Ft(r,i=>{r.next(t.call(e,i,o++))}))})}function Ds(t){return this instanceof Ds?(this.v=t,this):new Ds(t)}function N1(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function RE(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(s){return new Promise(function(a,c){!function o(i,s,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},s)}(a,c,(s=t[i](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const R1=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function O1(t){return qe(t?.then)}function P1(t){return qe(t[AE])}function k1(t){return Symbol.asyncIterator&&qe(t?.[Symbol.asyncIterator])}function F1(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const L1=function uee(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function V1(t){return qe(t?.[L1])}function j1(t){return function x1(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=n.apply(t,e||[]),i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(f){r[f]&&(o[f]=function(h){return new Promise(function(p,g){i.push([f,h,p,g])>1||a(f,h)})})}function a(f,h){try{!function c(f){f.value instanceof Ds?Promise.resolve(f.value.v).then(u,l):d(i[0][2],f)}(r[f](h))}catch(p){d(i[0][3],p)}}function u(f){a("next",f)}function l(f){a("throw",f)}function d(f,h){f(h),i.shift(),i.length&&a(i[0][0],i[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:o}=yield Ds(n.read());if(o)return yield Ds(void 0);yield yield Ds(r)}}finally{n.releaseLock()}})}function U1(t){return qe(t?.getReader)}function Mr(t){if(t instanceof kt)return t;if(null!=t){if(P1(t))return function lee(t){return new kt(e=>{const n=t[AE]();if(qe(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(R1(t))return function dee(t){return new kt(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(O1(t))return function fee(t){return new kt(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,D1)})}(t);if(k1(t))return $1(t);if(V1(t))return function hee(t){return new kt(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(U1(t))return function pee(t){return $1(j1(t))}(t)}throw F1(t)}function $1(t){return new kt(e=>{(function gee(t,e){var n,r,o,i;return function A1(t,e,n,r){return new(n||(n=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):function o(i){return i instanceof n?i:new n(function(s){s(i)})}(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=N1(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(o)throw o.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Ai(t,e,n,r=0,o=!1){const i=e.schedule(function(){n(),o?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(i),!o)return i}function dn(t,e,n=1/0){return qe(e)?dn((r,o)=>Ve((i,s)=>e(r,i,o,s))(Mr(t(r,o))),n):("number"==typeof e&&(n=e),Ht((r,o)=>function mee(t,e,n,r,o,i,s,a){const c=[];let u=0,l=0,d=!1;const f=()=>{d&&!c.length&&!u&&e.complete()},h=g=>u<r?p(g):c.push(g),p=g=>{i&&e.next(g),u++;let m=!1;Mr(n(g,l++)).subscribe(Ft(e,y=>{o?.(y),i?h(y):e.next(y)},()=>{m=!0},void 0,()=>{if(m)try{for(u--;c.length&&u<r;){const y=c.shift();s?Ai(e,s,()=>p(y)):p(y)}f()}catch(y){e.error(y)}}))};return t.subscribe(Ft(e,h,()=>{d=!0,f()})),()=>{a?.()}}(r,o,t,n)))}function Xc(t=1/0){return dn(Es,t)}const Vo=new kt(t=>t.complete());function OE(t){return t[t.length-1]}function B1(t){return qe(OE(t))?t.pop():void 0}function ef(t){return function yee(t){return t&&qe(t.schedule)}(OE(t))?t.pop():void 0}function H1(t,e=0){return Ht((n,r)=>{n.subscribe(Ft(r,o=>Ai(r,t,()=>r.next(o),e),()=>Ai(r,t,()=>r.complete(),e),o=>Ai(r,t,()=>r.error(o),e)))})}function G1(t,e=0){return Ht((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function z1(t,e){if(!t)throw new Error("Iterable cannot be null");return new kt(n=>{Ai(n,e,()=>{const r=t[Symbol.asyncIterator]();Ai(n,e,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function Ct(t,e){return e?function Cee(t,e){if(null!=t){if(P1(t))return function Iee(t,e){return Mr(t).pipe(G1(e),H1(e))}(t,e);if(R1(t))return function Eee(t,e){return new kt(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(O1(t))return function wee(t,e){return Mr(t).pipe(G1(e),H1(e))}(t,e);if(k1(t))return z1(t,e);if(V1(t))return function Dee(t,e){return new kt(n=>{let r;return Ai(n,e,()=>{r=t[L1](),Ai(n,e,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){return void n.error(s)}i?n.complete():n.next(o)},0,!0)}),()=>qe(r?.return)&&r.return()})}(t,e);if(U1(t))return function bee(t,e){return z1(j1(t),e)}(t,e)}throw F1(t)}(t,e):Mr(t)}class Kr extends fo{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function G(...t){return Ct(t,ef(t))}function q1(t={}){const{connector:e=(()=>new fo),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=t;return i=>{let s,a,c,u=0,l=!1,d=!1;const f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),s=c=void 0,l=d=!1},p=()=>{const g=s;h(),g?.unsubscribe()};return Ht((g,m)=>{u++,!d&&!l&&f();const y=c=c??e();m.add(()=>{u--,0===u&&!d&&!l&&(a=PE(p,o))}),y.subscribe(m),!s&&u>0&&(s=new Jd({next:_=>y.next(_),error:_=>{d=!0,f(),a=PE(h,n,_),y.error(_)},complete:()=>{l=!0,f(),a=PE(h,r),y.complete()}}),Mr(g).subscribe(s))})(i)}}function PE(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Jd({next:()=>{r.unsubscribe(),t()}});return Mr(e(...n)).subscribe(r)}function jo(t,e){return Ht((n,r)=>{let o=null,i=0,s=!1;const a=()=>s&&!o&&r.complete();n.subscribe(Ft(r,c=>{o?.unsubscribe();let u=0;const l=i++;Mr(t(c,l)).subscribe(o=Ft(r,d=>r.next(e?e(c,d,l,u++):d),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function Aee(t,e){return t===e}function je(t){for(let e in t)if(t[e]===je)return e;throw Error("Could not find renamed property on target object.")}function rm(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Gt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Gt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function kE(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const Mee=je({__forward_ref__:je});function We(t){return t.__forward_ref__=We,t.toString=function(){return Gt(this())},t}function X(t){return FE(t)?t():t}function FE(t){return"function"==typeof t&&t.hasOwnProperty(Mee)&&t.__forward_ref__===We}function LE(t){return t&&!!t.\u0275providers}const W1="https://g.co/ng/security#xss";class M extends Error{constructor(e,n){super(function om(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function ne(t){return"string"==typeof t?t:null==t?"":String(t)}function VE(t,e){throw new M(-201,!1)}function Qr(t,e){null==t&&function W(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function z(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Yr(t){return{providers:t.providers||[],imports:t.imports||[]}}function im(t){return K1(t,am)||K1(t,Q1)}function K1(t,e){return t.hasOwnProperty(e)?t[e]:null}function sm(t){return t&&(t.hasOwnProperty(jE)||t.hasOwnProperty(Lee))?t[jE]:null}const am=je({\u0275prov:je}),jE=je({\u0275inj:je}),Q1=je({ngInjectableDef:je}),Lee=je({ngInjectorDef:je});var ge=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ge||{});let UE;function lr(t){const e=UE;return UE=t,e}function Z1(t,e,n){const r=im(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&ge.Optional?null:void 0!==e?e:void VE(Gt(t))}const Ke=globalThis,tf={},zE="__NG_DI_FLAG__",cm="ngTempTokenPath",Uee=/\n/gm,J1="__source";let Jc;function bs(t){const e=Jc;return Jc=t,e}function Hee(t,e=ge.Default){if(void 0===Jc)throw new M(-203,!1);return null===Jc?Z1(t,void 0,e):Jc.get(t,e&ge.Optional?null:void 0,e)}function q(t,e=ge.Default){return(function Y1(){return UE}()||Hee)(X(t),e)}function V(t,e=ge.Default){return q(t,um(e))}function um(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function qE(t){const e=[];for(let n=0;n<t.length;n++){const r=X(t[n]);if(Array.isArray(r)){if(0===r.length)throw new M(900,!1);let o,i=ge.Default;for(let s=0;s<r.length;s++){const a=r[s],c=Gee(a);"number"==typeof c?-1===c?o=a.token:i|=c:o=a}e.push(q(o,i))}else e.push(q(r))}return e}function nf(t,e){return t[zE]=e,t.prototype[zE]=e,t}function Gee(t){return t[zE]}function Mi(t){return{toString:t}.toString()}var lm=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(lm||{}),ho=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(ho||{});const Uo={},Ne=[],dm=je({\u0275cmp:je}),WE=je({\u0275dir:je}),KE=je({\u0275pipe:je}),tO=je({\u0275mod:je}),xi=je({\u0275fac:je}),rf=je({__NG_ELEMENT_ID__:je}),nO=je({__NG_ENV_ID__:je});function rO(t,e,n){let r=t.length;for(;;){const o=t.indexOf(e,n);if(-1===o)return o;if(0===o||t.charCodeAt(o-1)<=32){const i=e.length;if(o+i===r||t.charCodeAt(o+i)<=32)return o}n=o+1}}function QE(t,e,n){let r=0;for(;r<n.length;){const o=n[r];if("number"==typeof o){if(0!==o)break;r++;const i=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,i)}else{const i=o,s=n[++r];iO(i)?t.setProperty(e,i,s):t.setAttribute(e,i,s),r++}}return r}function oO(t){return 3===t||4===t||6===t}function iO(t){return 64===t.charCodeAt(0)}function sf(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const o=e[r];"number"==typeof o?n=o:0===n||sO(t,n,o,null,-1===n||2===n?e[++r]:null)}}return t}function sO(t,e,n,r,o){let i=0,s=t.length;if(-1===e)s=-1;else for(;i<t.length;){const a=t[i++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=i-1;break}}}for(;i<t.length;){const a=t[i];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==o&&(t[i+1]=o));if(r===t[i+1])return void(t[i+2]=o)}i++,null!==r&&i++,null!==o&&i++}-1!==s&&(t.splice(s,0,e),i=s+1),t.splice(i++,0,n),null!==r&&t.splice(i++,0,r),null!==o&&t.splice(i++,0,o)}const aO="ng-template";function Wee(t,e,n){let r=0,o=!0;for(;r<t.length;){let i=t[r++];if("string"==typeof i&&o){const s=t[r++];if(n&&"class"===i&&-1!==rO(s.toLowerCase(),e,0))return!0}else{if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}"number"==typeof i&&(o=!1)}}return!1}function cO(t){return 4===t.type&&t.value!==aO}function Kee(t,e,n){return e===(4!==t.type||n?t.value:aO)}function Qee(t,e,n){let r=4;const o=t.attrs||[],i=function Xee(t){for(let e=0;e<t.length;e++)if(oO(t[e]))return e;return t.length}(o);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!Kee(t,c,n)||""===c&&1===e.length){if(po(r))return!1;s=!0}}else{const u=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!Wee(t.attrs,u,n)){if(po(r))return!1;s=!0}continue}const d=Yee(8&r?"class":c,o,cO(t),n);if(-1===d){if(po(r))return!1;s=!0;continue}if(""!==u){let f;f=d>i?"":o[d+1].toLowerCase();const h=8&r?f:null;if(h&&-1!==rO(h,u,0)||2&r&&u!==f){if(po(r))return!1;s=!0}}}}else{if(!s&&!po(r)&&!po(c))return!1;if(s&&po(c))continue;s=!1,r=c|1&r}}return po(r)||s}function po(t){return 0==(1&t)}function Yee(t,e,n,r){if(null===e)return-1;let o=0;if(r||!n){let i=!1;for(;o<e.length;){const s=e[o];if(s===t)return o;if(3===s||6===s)i=!0;else{if(1===s||2===s){let a=e[++o];for(;"string"==typeof a;)a=e[++o];continue}if(4===s)break;if(0===s){o+=4;continue}}o+=i?1:2}return-1}return function Jee(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function uO(t,e,n=!1){for(let r=0;r<e.length;r++)if(Qee(t,e[r],n))return!0;return!1}function lO(t,e){return t?":not("+e.trim()+")":e}function tte(t){let e=t[0],n=1,r=2,o="",i=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?o+="."+s:4&r&&(o+=" "+s);else""!==o&&!po(s)&&(e+=lO(i,o),o=""),r=s,i=i||!po(r);n++}return""!==o&&(e+=lO(i,o)),e}function Cs(t){return Mi(()=>{const e=fO(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===lm.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ho.Emulated,styles:t.styles||Ne,_:null,schemas:t.schemas||null,tView:null,id:""};hO(n);const r=t.dependencies;return n.directiveDefs=fm(r,!1),n.pipeDefs=fm(r,!0),n.id=function ute(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const o of n)e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function ite(t){return Ee(t)||fn(t)}function ste(t){return null!==t}function go(t){return Mi(()=>({type:t.type,bootstrap:t.bootstrap||Ne,declarations:t.declarations||Ne,imports:t.imports||Ne,exports:t.exports||Ne,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function dO(t,e){if(null==t)return Uo;const n={};for(const r in t)if(t.hasOwnProperty(r)){let o=t[r],i=o;Array.isArray(o)&&(i=o[1],o=o[0]),n[o]=r,e&&(e[o]=i)}return n}function J(t){return Mi(()=>{const e=fO(t);return hO(e),e})}function dr(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ee(t){return t[dm]||null}function fn(t){return t[WE]||null}function $n(t){return t[KE]||null}function Nr(t,e){const n=t[tO]||null;if(!n&&!0===e)throw new Error(`Type ${Gt(t)} does not have '\u0275mod' property.`);return n}function fO(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Uo,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Ne,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:dO(t.inputs,e),outputs:dO(t.outputs)}}function hO(t){t.features?.forEach(e=>e(t))}function fm(t,e){if(!t)return null;const n=e?$n:ite;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(ste)}const yt=0,F=1,le=2,at=3,mo=4,af=5,Sn=6,tu=7,Tt=8,Ts=9,nu=10,re=11,cf=12,pO=13,ru=14,St=15,uf=16,ou=17,$o=18,lf=19,gO=20,Ss=21,Ni=22,df=23,ff=24,me=25,YE=1,mO=2,Bo=7,iu=9,hn=11;function fr(t){return Array.isArray(t)&&"object"==typeof t[YE]}function Bn(t){return Array.isArray(t)&&!0===t[YE]}function ZE(t){return 0!=(4&t.flags)}function Ma(t){return t.componentOffset>-1}function pm(t){return 1==(1&t.flags)}function _o(t){return!!t.template}function XE(t){return 0!=(512&t[le])}function xa(t,e){return t.hasOwnProperty(xi)?t[xi]:null}let pn=null,gm=!1;function Zr(t){const e=pn;return pn=t,e}const mm={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function wO(t){if(!pf(t)||t.dirty){if(!t.producerMustRecompute(t)&&!bO(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function DO(t){t.dirty=!0,function EO(t){if(void 0===t.liveConsumerNode)return;const e=gm;gm=!0;try{for(const n of t.liveConsumerNode)n.dirty||DO(n)}finally{gm=e}}(t),t.consumerMarkedDirty?.(t)}function _m(t){return t&&(t.nextProducerIndex=0),Zr(t)}function ym(t,e){if(Zr(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(pf(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)vm(t.producerNode[n],t.producerIndexOfThis[n]);for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function bO(t){su(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(wO(n),r!==n.version))return!0}return!1}function CO(t){if(su(t),pf(t))for(let e=0;e<t.producerNode.length;e++)vm(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function vm(t,e){if(function SO(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),su(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)vm(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],o=t.liveConsumerNode[e];su(o),o.producerIndexOfThis[r]=e}}function pf(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function su(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let AO=null;function NO(t){const e=Zr(null);try{return t()}finally{Zr(e)}}const RO=()=>{},wte={...mm,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:RO};class Ete{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Xr(){return OO}function OO(t){return t.type.prototype.ngOnChanges&&(t.setInput=bte),Dte}function Dte(){const t=kO(this),e=t?.current;if(e){const n=t.previous;if(n===Uo)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function bte(t,e,n,r){const o=this.declaredInputs[n],i=kO(t)||function Cte(t,e){return t[PO]=e}(t,{previous:Uo,current:null}),s=i.current||(i.current={}),a=i.previous,c=a[o];s[o]=new Ete(c&&c.currentValue,e,a===Uo),t[r]=e}Xr.ngInherit=!0;const PO="__ngSimpleChanges__";function kO(t){return t[PO]||null}const Ho=function(t,e,n){};function Qe(t){for(;Array.isArray(t);)t=t[yt];return t}function wm(t,e){return Qe(e[t])}function hr(t,e){return Qe(e[t.index])}function VO(t,e){return t.data[e]}function Rr(t,e){const n=e[t];return fr(n)?n:n[yt]}function Ms(t,e){return null==e?null:t[e]}function jO(t){t[ou]=0}function Nte(t){1024&t[le]||(t[le]|=1024,$O(t,1))}function UO(t){1024&t[le]&&(t[le]&=-1025,$O(t,-1))}function $O(t,e){let n=t[at];if(null===n)return;n[af]+=e;let r=n;for(n=n[at];null!==n&&(1===e&&1===r[af]||-1===e&&0===r[af]);)n[af]+=e,r=n,n=n[at]}const K={lFrame:XO(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function GO(){return K.bindingsEnabled}function b(){return K.lFrame.lView}function De(){return K.lFrame.tView}function sD(t){return K.lFrame.contextLView=t,t[Tt]}function aD(t){return K.lFrame.contextLView=null,t}function gn(){let t=zO();for(;null!==t&&64===t.type;)t=t.parent;return t}function zO(){return K.lFrame.currentTNode}function Go(t,e){const n=K.lFrame;n.currentTNode=t,n.isParent=e}function cD(){return K.lFrame.isParent}function uu(){return K.lFrame.bindingIndex++}function Oi(t){const e=K.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Hte(t,e){const n=K.lFrame;n.bindingIndex=n.bindingRootIndex=t,lD(e)}function lD(t){K.lFrame.currentDirectiveIndex=t}function fD(t){K.lFrame.currentQueryIndex=t}function zte(t){const e=t[F];return 2===e.type?e.declTNode:1===e.type?t[Sn]:null}function YO(t,e,n){if(n&ge.SkipSelf){let o=e,i=t;for(;!(o=o.parent,null!==o||n&ge.Host||(o=zte(i),null===o||(i=i[ru],10&o.type))););if(null===o)return!1;e=o,t=i}const r=K.lFrame=ZO();return r.currentTNode=e,r.lView=t,!0}function hD(t){const e=ZO(),n=t[F];K.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ZO(){const t=K.lFrame,e=null===t?null:t.child;return null===e?XO(t):e}function XO(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function JO(){const t=K.lFrame;return K.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const eP=JO;function pD(){const t=JO();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Gn(){return K.lFrame.selectedIndex}function Na(t){K.lFrame.selectedIndex=t}function ft(){const t=K.lFrame;return VO(t.tView,t.selectedIndex)}let nP=!0;function Em(){return nP}function xs(t){nP=t}function Dm(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const i=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=i;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function bm(t,e,n){rP(t,e,3,n)}function Cm(t,e,n,r){(3&t[le])===n&&rP(t,e,n,r)}function gD(t,e){let n=t[le];(3&n)===e&&(n&=8191,n+=1,t[le]=n)}function rP(t,e,n,r){const i=r??-1,s=e.length-1;let a=0;for(let c=void 0!==r?65535&t[ou]:0;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(t[ou]+=65536),(a<i||-1==i)&&(Jte(t,n,e,c),t[ou]=(4294901760&t[ou])+c+2),c++}function oP(t,e){Ho(4,t,e);const n=Zr(null);try{e.call(t)}finally{Zr(n),Ho(5,t,e)}}function Jte(t,e,n,r){const o=n[r]<0,i=n[r+1],a=t[o?-n[r]:n[r]];o?t[le]>>13<t[ou]>>16&&(3&t[le])===e&&(t[le]+=8192,oP(a,i)):oP(a,i)}const lu=-1;class mf{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function _D(t){return t!==lu}function _f(t){return 32767&t}function yf(t,e){let n=function rne(t){return t>>16}(t),r=e;for(;n>0;)r=r[ru],n--;return r}let yD=!0;function Tm(t){const e=yD;return yD=t,e}const iP=255,sP=5;let one=0;const zo={};function Sm(t,e){const n=aP(t,e);if(-1!==n)return n;const r=e[F];r.firstCreatePass&&(t.injectorIndex=e.length,vD(r.data,t),vD(e,null),vD(r.blueprint,null));const o=Am(t,e),i=t.injectorIndex;if(_D(o)){const s=_f(o),a=yf(o,e),c=a[F].data;for(let u=0;u<8;u++)e[i+u]=a[s+u]|c[s+u]}return e[i+8]=o,i}function vD(t,e){t.push(0,0,0,0,0,0,0,0,e)}function aP(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Am(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,o=e;for(;null!==o;){if(r=pP(o),null===r)return lu;if(n++,o=o[ru],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return lu}function ID(t,e,n){!function ine(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(rf)&&(r=n[rf]),null==r&&(r=n[rf]=one++);const o=r&iP;e.data[t+(o>>sP)]|=1<<o}(t,e,n)}function cP(t,e,n){if(n&ge.Optional||void 0!==t)return t;VE()}function uP(t,e,n,r){if(n&ge.Optional&&void 0===r&&(r=null),!(n&(ge.Self|ge.Host))){const o=t[Ts],i=lr(void 0);try{return o?o.get(e,r,n&ge.Optional):Z1(e,r,n&ge.Optional)}finally{lr(i)}}return cP(r,0,n)}function lP(t,e,n,r=ge.Default,o){if(null!==t){if(2048&e[le]&&!(r&ge.Self)){const s=function dne(t,e,n,r,o){let i=t,s=e;for(;null!==i&&null!==s&&2048&s[le]&&!(512&s[le]);){const a=dP(i,s,n,r|ge.Self,zo);if(a!==zo)return a;let c=i.parent;if(!c){const u=s[gO];if(u){const l=u.get(n,zo,r);if(l!==zo)return l}c=pP(s),s=s[ru]}i=c}return o}(t,e,n,r,zo);if(s!==zo)return s}const i=dP(t,e,n,r,zo);if(i!==zo)return i}return uP(e,n,r,o)}function dP(t,e,n,r,o){const i=function cne(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(rf)?t[rf]:void 0;return"number"==typeof e?e>=0?e&iP:lne:e}(n);if("function"==typeof i){if(!YO(e,t,r))return r&ge.Host?cP(o,0,r):uP(e,n,r,o);try{let s;if(s=i(r),null!=s||r&ge.Optional)return s;VE()}finally{eP()}}else if("number"==typeof i){let s=null,a=aP(t,e),c=lu,u=r&ge.Host?e[St][Sn]:null;for((-1===a||r&ge.SkipSelf)&&(c=-1===a?Am(t,e):e[a+8],c!==lu&&hP(r,!1)?(s=e[F],a=_f(c),e=yf(c,e)):a=-1);-1!==a;){const l=e[F];if(fP(i,a,l.data)){const d=ane(a,e,n,s,r,u);if(d!==zo)return d}c=e[a+8],c!==lu&&hP(r,e[F].data[a+8]===u)&&fP(i,a,e)?(s=l,a=_f(c),e=yf(c,e)):a=-1}}return o}function ane(t,e,n,r,o,i){const s=e[F],a=s.data[t+8],l=function Mm(t,e,n,r,o){const i=t.providerIndexes,s=e.data,a=1048575&i,c=t.directiveStart,l=i>>20,f=o?a+l:t.directiveEnd;for(let h=r?a:a+l;h<f;h++){const p=s[h];if(h<c&&n===p||h>=c&&p.type===n)return h}if(o){const h=s[c];if(h&&_o(h)&&h.type===n)return c}return null}(a,s,n,null==r?Ma(a)&&yD:r!=s&&0!=(3&a.type),o&ge.Host&&i===a);return null!==l?Ra(e,s,l,a):zo}function Ra(t,e,n,r){let o=t[n];const i=e.data;if(function ene(t){return t instanceof mf}(o)){const s=o;s.resolving&&function xee(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new M(-200,`Circular dependency in DI detected for ${t}${n}`)}(function Fe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ne(t)}(i[n]));const a=Tm(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?lr(s.injectImpl):null;YO(t,r,ge.Default);try{o=t[n]=s.factory(void 0,i,t,r),e.firstCreatePass&&n>=r.directiveStart&&function Xte(t,e,n){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=e.type.prototype;if(r){const s=OO(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}o&&(n.preOrderHooks??=[]).push(0-t,o),i&&((n.preOrderHooks??=[]).push(t,i),(n.preOrderCheckHooks??=[]).push(t,i))}(n,i[n],e)}finally{null!==u&&lr(u),Tm(a),s.resolving=!1,eP()}}return o}function fP(t,e,n){return!!(n[e+(t>>sP)]&1<<t)}function hP(t,e){return!(t&ge.Self||t&ge.Host&&e)}class zn{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return lP(this._tNode,this._lView,e,um(r),n)}}function lne(){return new zn(gn(),b())}function mn(t){return Mi(()=>{const e=t.prototype.constructor,n=e[xi]||wD(e),r=Object.prototype;let o=Object.getPrototypeOf(t.prototype).constructor;for(;o&&o!==r;){const i=o[xi]||wD(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function wD(t){return FE(t)?()=>{const e=wD(X(t));return e&&e()}:xa(t)}function pP(t){const e=t[F],n=e.type;return 2===n?e.declTNode:1===n?t[Sn]:null}const fu="__parameters__";function pu(t,e,n){return Mi(()=>{const r=function ED(t){return function(...n){if(t){const r=t(...n);for(const o in r)this[o]=r[o]}}}(e);function o(...i){if(this instanceof o)return r.apply(this,i),this;const s=new o(...i);return a.annotation=s,a;function a(c,u,l){const d=c.hasOwnProperty(fu)?c[fu]:Object.defineProperty(c,fu,{value:[]})[fu];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),c}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o})}function mu(t,e){t.forEach(n=>Array.isArray(n)?mu(n,e):e(n))}function mP(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Nm(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Or(t,e,n){let r=_u(t,e);return r>=0?t[1|r]=n:(r=~r,function yne(t,e,n,r){let o=t.length;if(o==e)t.push(n,r);else if(1===o)t.push(r,t[0]),t[0]=n;else{for(o--,t.push(t[o-1],t[o]);o>e;)t[o]=t[o-2],o--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function DD(t,e){const n=_u(t,e);if(n>=0)return t[1|n]}function _u(t,e){return function _P(t,e,n){let r=0,o=t.length>>n;for(;o!==r;){const i=r+(o-r>>1),s=t[i<<n];if(e===s)return i<<n;s>e?o=i:r=i+1}return~(o<<n)}(t,e,1)}const Om=nf(pu("Optional"),8),Pm=nf(pu("SkipSelf"),4);function jm(t){return 128==(128&t.flags)}var Ns=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ns||{});const AD=new Map;let Bne=0;const xD="__ngContext__";function An(t,e){fr(e)?(t[xD]=e[lf],function Gne(t){AD.set(t[lf],t)}(e)):t[xD]=e}let ND;function RD(t,e){return ND(t,e)}function bf(t){const e=t[at];return Bn(e)?e[at]:e}function LP(t){return jP(t[cf])}function VP(t){return jP(t[mo])}function jP(t){for(;null!==t&&!Bn(t);)t=t[mo];return t}function Iu(t,e,n,r,o){if(null!=r){let i,s=!1;Bn(r)?i=r:fr(r)&&(s=!0,r=r[yt]);const a=Qe(r);0===t&&null!==n?null==o?HP(e,n,a):Oa(e,n,a,o||null,!0):1===t&&null!==n?Oa(e,n,a,o||null,!0):2===t?function qm(t,e,n){const r=Gm(t,e);r&&function ure(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=i&&function fre(t,e,n,r,o){const i=n[Bo];i!==Qe(n)&&Iu(e,t,r,i,o);for(let a=hn;a<n.length;a++){const c=n[a];Tf(c[F],c,t,e,r,i)}}(e,t,i,n,o)}}function Bm(t,e,n){return t.createElement(e,n)}function $P(t,e){const n=t[iu],r=n.indexOf(e);UO(e),n.splice(r,1)}function Hm(t,e){if(t.length<=hn)return;const n=hn+e,r=t[n];if(r){const o=r[uf];null!==o&&o!==t&&$P(o,r),e>0&&(t[n-1][mo]=r[mo]);const i=Nm(t,hn+e);!function tre(t,e){Tf(t,e,e[re],2,null,null),e[yt]=null,e[Sn]=null}(r[F],r);const s=i[$o];null!==s&&s.detachView(i[F]),r[at]=null,r[mo]=null,r[le]&=-129}return r}function PD(t,e){if(!(256&e[le])){const n=e[re];e[df]&&CO(e[df]),e[ff]&&CO(e[ff]),n.destroyNode&&Tf(t,e,n,3,null,null),function ore(t){let e=t[cf];if(!e)return kD(t[F],t);for(;e;){let n=null;if(fr(e))n=e[cf];else{const r=e[hn];r&&(n=r)}if(!n){for(;e&&!e[mo]&&e!==t;)fr(e)&&kD(e[F],e),e=e[at];null===e&&(e=t),fr(e)&&kD(e[F],e),n=e&&e[mo]}e=n}}(e)}}function kD(t,e){if(!(256&e[le])){e[le]&=-129,e[le]|=256,function cre(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const o=e[n[r]];if(!(o instanceof mf)){const i=n[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){const a=o[i[s]],c=i[s+1];Ho(4,a,c);try{c.call(a)}finally{Ho(5,a,c)}}else{Ho(4,o,i);try{i.call(o)}finally{Ho(5,o,i)}}}}}(t,e),function are(t,e){const n=t.cleanup,r=e[tu];if(null!==n)for(let i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){const s=n[i+3];s>=0?r[s]():r[-s].unsubscribe(),i+=2}else n[i].call(r[n[i+1]]);null!==r&&(e[tu]=null);const o=e[Ss];if(null!==o){e[Ss]=null;for(let i=0;i<o.length;i++)(0,o[i])()}}(t,e),1===e[F].type&&e[re].destroy();const n=e[uf];if(null!==n&&Bn(e[at])){n!==e[at]&&$P(n,e);const r=e[$o];null!==r&&r.detachView(t)}!function zne(t){AD.delete(t[lf])}(e)}}function FD(t,e,n){return function BP(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[yt];{const{componentOffset:o}=r;if(o>-1){const{encapsulation:i}=t.data[r.directiveStart+o];if(i===ho.None||i===ho.Emulated)return null}return hr(r,n)}}(t,e.parent,n)}function Oa(t,e,n,r,o){t.insertBefore(e,n,r,o)}function HP(t,e,n){t.appendChild(e,n)}function GP(t,e,n,r,o){null!==r?Oa(t,e,n,r,o):HP(t,e,n)}function Gm(t,e){return t.parentNode(e)}let LD,$D,WP=function qP(t,e,n){return 40&t.type?hr(t,n):null};function zm(t,e,n,r){const o=FD(t,r,e),i=e[re],a=function zP(t,e,n){return WP(t,e,n)}(r.parent||e[Sn],r,e);if(null!=o)if(Array.isArray(n))for(let c=0;c<n.length;c++)GP(i,o,n[c],a,!1);else GP(i,o,n,a,!1);void 0!==LD&&LD(i,r,e,n,o)}function Cf(t,e){if(null!==e){const n=e.type;if(3&n)return hr(e,t);if(4&n)return VD(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Cf(t,r);{const o=t[e.index];return Bn(o)?VD(-1,o):Qe(o)}}if(32&n)return RD(e,t)()||Qe(t[e.index]);{const r=QP(t,e);return null!==r?Array.isArray(r)?r[0]:Cf(bf(t[St]),r):Cf(t,e.next)}}return null}function QP(t,e){return null!==e?t[St][Sn].projection[e.projection]:null}function VD(t,e){const n=hn+t+1;if(n<e.length){const r=e[n],o=r[F].firstChild;if(null!==o)return Cf(r,o)}return e[Bo]}function jD(t,e,n,r,o,i,s){for(;null!=n;){const a=r[n.index],c=n.type;if(s&&0===e&&(a&&An(Qe(a),r),n.flags|=2),32!=(32&n.flags))if(8&c)jD(t,e,n.child,r,o,i,!1),Iu(e,t,o,a,i);else if(32&c){const u=RD(n,r);let l;for(;l=u();)Iu(e,t,o,l,i);Iu(e,t,o,a,i)}else 16&c?ZP(t,e,r,n,o,i):Iu(e,t,o,a,i);n=s?n.projectionNext:n.next}}function Tf(t,e,n,r,o,i){jD(n,r,t.firstChild,e,o,i,!1)}function ZP(t,e,n,r,o,i){const s=n[St],c=s[Sn].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++)Iu(e,t,o,c[u],i);else{let u=c;const l=s[at];jm(r)&&(u.flags|=128),jD(t,e,u,l,o,i,!0)}}function XP(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function JP(t,e,n){const{mergedAttrs:r,classes:o,styles:i}=n;null!==r&&QE(t,e,r),null!==o&&XP(t,e,o),null!==i&&function pre(t,e,n){t.setAttribute(e,"style",n)}(t,e,i)}class rk{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${W1})`}}function Rs(t){return t instanceof rk?t.changingThisBreaksApplicationSecurity:t}const Are=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Du=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Du||{});function Mf(t){const e=function xf(){const t=b();return t&&t[nu].sanitizer}();return e?e.sanitize(Du.URL,t)||"":function Sf(t,e){const n=function bre(t){return t instanceof rk&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${W1})`)}return n===e}(t,"URL")?Rs(t):function HD(t){return(t=String(t)).match(Are)?t:"unsafe:"+t}(ne(t))}class U{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=z({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Nf=new U("ENVIRONMENT_INITIALIZER"),fk=new U("INJECTOR",-1),hk=new U("INJECTOR_DEF_TYPES");class WD{get(e,n=tf){if(n===tf){const r=new Error(`NullInjectorError: No provider for ${Gt(e)}!`);throw r.name="NullInjectorError",r}return n}}function $re(...t){return{\u0275providers:gk(0,t),\u0275fromNgModule:!0}}function gk(t,...e){const n=[],r=new Set;let o;const i=s=>{n.push(s)};return mu(e,s=>{const a=s;Ym(a,i,[],r)&&(o||=[],o.push(a))}),void 0!==o&&mk(o,i),n}function mk(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:o}=t[n];KD(o,i=>{e(i,r)})}}function Ym(t,e,n,r){if(!(t=X(t)))return!1;let o=null,i=sm(t);const s=!i&&Ee(t);if(i||s){if(s&&!s.standalone)return!1;o=t}else{const c=t.ngModule;if(i=sm(c),!i)return!1;o=c}const a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const u of c)Ym(u,e,n,r)}}else{if(!i)return!1;{if(null!=i.imports&&!a){let u;r.add(o);try{mu(i.imports,l=>{Ym(l,e,n,r)&&(u||=[],u.push(l))})}finally{}void 0!==u&&mk(u,e)}if(!a){const u=xa(o)||(()=>new o);e({provide:o,useFactory:u,deps:Ne},o),e({provide:hk,useValue:o,multi:!0},o),e({provide:Nf,useValue:()=>q(o),multi:!0},o)}const c=i.providers;if(null!=c&&!a){const u=t;KD(c,l=>{e(l,u)})}}}return o!==t&&void 0!==t.providers}function KD(t,e){for(let n of t)LE(n)&&(n=n.\u0275providers),Array.isArray(n)?KD(n,e):e(n)}const Bre=je({provide:String,useValue:je});function QD(t){return null!==t&&"object"==typeof t&&Bre in t}function Pa(t){return"function"==typeof t}const YD=new U("Set Injector scope."),Zm={},Gre={};let ZD;function Xm(){return void 0===ZD&&(ZD=new WD),ZD}class eo{}class Jm extends eo{get destroyed(){return this._destroyed}constructor(e,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,JD(e,s=>this.processProvider(s)),this.records.set(fk,bu(void 0,this)),o.has("environment")&&this.records.set(eo,bu(void 0,this));const i=this.records.get(YD);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(hk.multi,Ne,ge.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=bs(this),r=lr(void 0);try{return e()}finally{bs(n),lr(r)}}get(e,n=tf,r=ge.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(nO))return e[nO](this);r=um(r);const i=bs(this),s=lr(void 0);try{if(!(r&ge.SkipSelf)){let c=this.records.get(e);if(void 0===c){const u=function Qre(t){return"function"==typeof t||"object"==typeof t&&t instanceof U}(e)&&im(e);c=u&&this.injectableDefInScope(u)?bu(XD(e),Zm):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&ge.Self?Xm():this.parent).get(e,n=r&ge.Optional&&n===tf?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[cm]=a[cm]||[]).unshift(Gt(e)),i)throw a;return function zee(t,e,n,r){const o=t[cm];throw e[J1]&&o.unshift(e[J1]),t.message=function qee(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let o=Gt(e);if(Array.isArray(e))o=e.map(Gt).join(" -> ");else if("object"==typeof e){let i=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];i.push(s+":"+("string"==typeof a?JSON.stringify(a):Gt(a)))}o=`{${i.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${t.replace(Uee,"\n  ")}`}("\n"+t.message,o,n,r),t.ngTokenPath=o,t[cm]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{lr(s),bs(i)}}resolveInjectorInitializers(){const e=bs(this),n=lr(void 0);try{const o=this.get(Nf.multi,Ne,ge.Self);for(const i of o)i()}finally{bs(e),lr(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Gt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new M(205,!1)}processProvider(e){let n=Pa(e=X(e))?e:X(e&&e.provide);const r=function qre(t){return QD(t)?bu(void 0,t.useValue):bu(vk(t),Zm)}(e);if(Pa(e)||!0!==e.multi)this.records.get(n);else{let o=this.records.get(n);o||(o=bu(void 0,Zm,!0),o.factory=()=>qE(o.multi),this.records.set(n,o)),n=e,o.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Zm&&(n.value=Gre,n.value=n.factory()),"object"==typeof n.value&&n.value&&function Kre(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=X(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function XD(t){const e=im(t),n=null!==e?e.factory:xa(t);if(null!==n)return n;if(t instanceof U)throw new M(204,!1);if(t instanceof Function)return function zre(t){const e=t.length;if(e>0)throw function wf(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new M(204,!1);const n=function Fee(t){return t&&(t[am]||t[Q1])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new M(204,!1)}function vk(t,e,n){let r;if(Pa(t)){const o=X(t);return xa(o)||XD(o)}if(QD(t))r=()=>X(t.useValue);else if(function yk(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...qE(t.deps||[]));else if(function _k(t){return!(!t||!t.useExisting)}(t))r=()=>q(X(t.useExisting));else{const o=X(t&&(t.useClass||t.provide));if(!function Wre(t){return!!t.deps}(t))return xa(o)||XD(o);r=()=>new o(...qE(t.deps))}return r}function bu(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function JD(t,e){for(const n of t)Array.isArray(n)?JD(n,e):n&&LE(n)?JD(n.\u0275providers,e):e(n)}const e_=new U("AppId",{providedIn:"root",factory:()=>Yre}),Yre="ng",Ik=new U("Platform Initializer"),Cu=new U("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),wk=new U("CSP nonce",{providedIn:"root",factory:()=>function Eu(){if(void 0!==$D)return $D;if(typeof document<"u")return document;throw new M(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Ek=(t,e,n)=>null;function ab(t,e,n=!1){return Ek(t,e,n)}class soe{}class Ck{}class coe{resolveComponentFactory(e){throw function aoe(t){const e=Error(`No component factory found for ${Gt(t)}.`);return e.ngComponent=t,e}(e)}}let s_=(()=>{class e{}return e.NULL=new coe,e})();function uoe(){return Au(gn(),b())}function Au(t,e){return new Pr(hr(t,e))}let Pr=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=uoe,e})();class Sk{}let ki=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function doe(){const t=b(),n=Rr(gn().index,t);return(fr(n)?n:t)[re]}(),e})(),foe=(()=>{var t;class e{}return(t=e).\u0275prov=z({token:t,providedIn:"root",factory:()=>null}),e})();class Pf{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const hoe=new Pf("16.2.4"),lb={};function Nk(t,e=null,n=null,r){const o=Rk(t,e,n,r);return o.resolveInjectorInitializers(),o}function Rk(t,e=null,n=null,r,o=new Set){const i=[n||Ne,$re(t)];return r=r||("object"==typeof t?void 0:Gt(t)),new Jm(i,e||Xm(),r||null,o)}let kr=(()=>{var t;class e{static create(r,o){if(Array.isArray(r))return Nk({name:""},o,r,"");{const i=r.name??"";return Nk({name:i},r.parent,r.providers,i)}}}return(t=e).THROW_IF_NOT_FOUND=tf,t.NULL=new WD,t.\u0275prov=z({token:t,providedIn:"any",factory:()=>q(fk)}),t.__NG_ELEMENT_ID__=-1,e})();function hb(t){return e=>{setTimeout(t,void 0,e)}}const vt=class Ioe extends fo{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let o=e,i=n||(()=>null),s=r;if(e&&"object"==typeof e){const c=e;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=hb(i),o&&(o=hb(o)),s&&(s=hb(s)));const a=super.subscribe({next:o,error:i,complete:s});return e instanceof Ar&&e.add(a),a}};function Ok(...t){}class Ye{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new vt(!1),this.onMicrotaskEmpty=new vt(!1),this.onStable=new vt(!1),this.onError=new vt(!1),typeof Zone>"u")throw new M(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&n,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function woe(){const t="function"==typeof Ke.requestAnimationFrame;let e=Ke[t?"requestAnimationFrame":"setTimeout"],n=Ke[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function boe(t){const e=()=>{!function Doe(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ke,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,gb(t),t.isCheckStableRunning=!0,pb(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),gb(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,o,i,s,a)=>{if(function Toe(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(o,i,s,a);try{return Pk(t),n.invokeTask(o,i,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||t.shouldCoalesceRunChangeDetection)&&e(),kk(t)}},onInvoke:(n,r,o,i,s,a,c)=>{try{return Pk(t),n.invoke(o,i,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),kk(t)}},onHasTask:(n,r,o,i)=>{n.hasTask(o,i),r===o&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,gb(t),pb(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(n,r,o,i)=>(n.handleError(o,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ye.isInAngularZone())throw new M(909,!1)}static assertNotInAngularZone(){if(Ye.isInAngularZone())throw new M(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,o){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,e,Eoe,Ok,Ok);try{return i.runTask(s,n,r)}finally{i.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const Eoe={};function pb(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function gb(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Pk(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function kk(t){t._nesting--,pb(t)}class Coe{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new vt,this.onMicrotaskEmpty=new vt,this.onStable=new vt,this.onError=new vt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,o){return e.apply(n,r)}}const Fk=new U("",{providedIn:"root",factory:Lk});function Lk(){const t=V(Ye);let e=!0;return function Tee(...t){const e=ef(t),n=function vee(t,e){return"number"==typeof OE(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Mr(r[0]):Xc(n)(Ct(r,e)):Vo}(new kt(o=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{o.next(e),o.complete()})}),new kt(o=>{let i;t.runOutsideAngular(()=>{i=t.onStable.subscribe(()=>{Ye.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,o.next(!0))})})});const s=t.onUnstable.subscribe(()=>{Ye.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{o.next(!1)}))});return()=>{i.unsubscribe(),s.unsubscribe()}}).pipe(q1()))}function Fi(t){return t instanceof Function?t():t}let mb=(()=>{var t;class e{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new M(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const r of this.callbacks)r.invoke()}finally{this.runningCallbacks=!1;for(const r of this.deferredCallbacks)this.callbacks.add(r);this.deferredCallbacks.clear()}}register(r){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(r)}unregister(r){this.callbacks.delete(r),this.deferredCallbacks.delete(r)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(t=e).\u0275prov=z({token:t,providedIn:"root",factory:()=>new t}),e})();function kf(t){for(;t;){t[le]|=64;const e=bf(t);if(XE(t)&&!e)return t;t=e}return null}function _b(t){return t.ngOriginalError}class ka{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&_b(e);for(;n&&_b(n);)n=_b(n);return n||null}}const Bk=new U("",{providedIn:"root",factory:()=>!1});let c_=null;function qk(t,e){return t[e]??Qk()}function Wk(t,e){const n=Qk();n.producerNode?.length&&(t[e]=c_,n.lView=t,c_=Kk())}const Foe={...mm,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{kf(t.lView)},lView:null};function Kk(){return Object.create(Foe)}function Qk(){return c_??=Kk(),c_}const ae={};function Oe(t){Yk(De(),b(),Gn()+t,!1)}function Yk(t,e,n,r){if(!r)if(3==(3&e[le])){const i=t.preOrderCheckHooks;null!==i&&bm(e,i,n)}else{const i=t.preOrderHooks;null!==i&&Cm(e,i,0,n)}Na(n)}function A(t,e=ge.Default){const n=b();return null===n?q(t,e):lP(gn(),n,X(t),e)}function u_(t,e,n,r,o,i,s,a,c,u,l){const d=e.blueprint.slice();return d[yt]=o,d[le]=140|r,(null!==u||t&&2048&t[le])&&(d[le]|=2048),jO(d),d[at]=d[ru]=t,d[Tt]=n,d[nu]=s||t&&t[nu],d[re]=a||t&&t[re],d[Ts]=c||t&&t[Ts]||null,d[Sn]=i,d[lf]=function Hne(){return Bne++}(),d[Ni]=l,d[gO]=u,d[St]=2==e.type?t[St]:d,d}function Nu(t,e,n,r,o){let i=t.data[e];if(null===i)i=function yb(t,e,n,r,o){const i=zO(),s=cD(),c=t.data[e]=function Goe(t,e,n,r,o,i){let s=e?e.injectorIndex:-1,a=0;return function cu(){return null!==K.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,n,e,r,o);return null===t.firstChild&&(t.firstChild=c),null!==i&&(s?null==i.child&&null!==c.parent&&(i.child=c):null===i.next&&(i.next=c,c.prev=i)),c}(t,e,n,r,o),function Bte(){return K.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=n,i.value=r,i.attrs=o;const s=function gf(){const t=K.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();i.injectorIndex=null===s?-1:s.injectorIndex}return Go(i,!0),i}function Ff(t,e,n,r){if(0===n)return-1;const o=e.length;for(let i=0;i<n;i++)e.push(r),t.blueprint.push(r),t.data.push(null);return o}function Xk(t,e,n,r,o){const i=qk(e,df),s=Gn(),a=2&r;try{Na(-1),a&&e.length>me&&Yk(t,e,me,!1),Ho(a?2:0,o);const u=a?i:null,l=_m(u);try{null!==u&&(u.dirty=!1),n(r,o)}finally{ym(u,l)}}finally{a&&null===e[df]&&Wk(e,df),Na(s),Ho(a?3:1,o)}}function vb(t,e,n){if(ZE(e)){const r=Zr(null);try{const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{Zr(r)}}}function Ib(t,e,n){GO()&&(function Zoe(t,e,n,r){const o=n.directiveStart,i=n.directiveEnd;Ma(n)&&function oie(t,e,n){const r=hr(e,t),o=Jk(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=l_(t,u_(t,o,null,s,r,e,null,t[nu].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[o+n.componentOffset]),t.firstCreatePass||Sm(n,e),An(r,e);const s=n.initialInputs;for(let a=o;a<i;a++){const c=t.data[a],u=Ra(e,t,a,n);An(u,e),null!==s&&iie(0,a-o,u,c,0,s),_o(c)&&(Rr(n.index,e)[Tt]=Ra(e,t,a,n))}}(t,e,n,hr(n,e)),64==(64&n.flags)&&oF(t,e,n))}function wb(t,e,n=hr){const r=e.localNames;if(null!==r){let o=e.index+1;for(let i=0;i<r.length;i+=2){const s=r[i+1],a=-1===s?n(e,t):t[s];t[o++]=a}}}function Jk(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Eb(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Eb(t,e,n,r,o,i,s,a,c,u,l){const d=me+r,f=d+o,h=function Voe(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ae);return n}(d,f),p="function"==typeof u?u():u;return h[F]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:l}}let eF=t=>null;function tF(t,e,n,r){for(let o in t)if(t.hasOwnProperty(o)){n=null===n?{}:n;const i=t[o];null===r?nF(n,e,o,i):r.hasOwnProperty(o)&&nF(n,e,r[o],i)}return n}function nF(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Fr(t,e,n,r,o,i,s,a){const c=hr(e,n);let l,u=e.inputs;!a&&null!=u&&(l=u[r])?(Sb(t,n,l,r,o),Ma(e)&&function Woe(t,e){const n=Rr(e,t);16&n[le]||(n[le]|=64)}(n,e.index)):3&e.type&&(r=function qoe(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),o=null!=s?s(o,e.value||"",r):o,i.setProperty(c,r,o))}function Db(t,e,n,r){if(GO()){const o=null===r?null:{"":-1},i=function Joe(t,e){const n=t.directiveRegistry;let r=null,o=null;if(n)for(let i=0;i<n.length;i++){const s=n[i];if(uO(e,s.selectors,!1))if(r||(r=[]),_o(s))if(null!==s.findHostDirectiveDefs){const a=[];o=o||new Map,s.findHostDirectiveDefs(s,a,o),r.unshift(...a,s),bb(t,e,a.length)}else r.unshift(s),bb(t,e,0);else o=o||new Map,s.findHostDirectiveDefs?.(s,r,o),r.push(s)}return null===r?null:[r,o]}(t,n);let s,a;null===i?s=a=null:[s,a]=i,null!==s&&rF(t,e,n,s,o,a),o&&function eie(t,e,n){if(e){const r=t.localNames=[];for(let o=0;o<e.length;o+=2){const i=n[e[o+1]];if(null==i)throw new M(-301,!1);r.push(e[o],i)}}}(n,r,o)}n.mergedAttrs=sf(n.mergedAttrs,n.attrs)}function rF(t,e,n,r,o,i){for(let u=0;u<r.length;u++)ID(Sm(n,e),t,r[u].type);!function nie(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let u=0;u<r.length;u++){const l=r[u];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,c=Ff(t,e,r.length,null);for(let u=0;u<r.length;u++){const l=r[u];n.mergedAttrs=sf(n.mergedAttrs,l.hostAttrs),rie(t,n,e,c,l),tie(c,l,o),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function zoe(t,e,n){const o=e.directiveEnd,i=t.data,s=e.attrs,a=[];let c=null,u=null;for(let l=e.directiveStart;l<o;l++){const d=i[l],f=n?n.get(d):null,p=f?f.outputs:null;c=tF(d.inputs,l,c,f?f.inputs:null),u=tF(d.outputs,l,u,p);const g=null===c||null===s||cO(e)?null:sie(c,l,s);a.push(g)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}(t,n,i)}function oF(t,e,n){const r=n.directiveStart,o=n.directiveEnd,i=n.index,s=function Gte(){return K.lFrame.currentDirectiveIndex}();try{Na(i);for(let a=r;a<o;a++){const c=t.data[a],u=e[a];lD(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&Xoe(c,u)}}finally{Na(-1),lD(s)}}function Xoe(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function bb(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function tie(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;_o(e)&&(n[""]=t)}}function rie(t,e,n,r,o){t.data[r]=o;const i=o.factory||(o.factory=xa(o.type)),s=new mf(i,_o(o),A);t.blueprint[r]=s,n[r]=s,function Qoe(t,e,n,r,o){const i=o.hostBindings;if(i){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function Yoe(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,i)}}(t,e,r,Ff(t,n,o.hostVars,ae),o)}function iie(t,e,n,r,o,i){const s=i[e];if(null!==s)for(let a=0;a<s.length;)iF(r,n,s[a++],s[a++],s[a++])}function iF(t,e,n,r,o){const i=Zr(null);try{const s=t.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(o=s[r].call(e,o)),null!==t.setInput?t.setInput(e,o,n,r):e[r]=o}finally{Zr(i)}}function sie(t,e,n){let r=null,o=0;for(;o<n.length;){const i=n[o];if(0!==i)if(5!==i){if("number"==typeof i)break;if(t.hasOwnProperty(i)){null===r&&(r=[]);const s=t[i];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(i,s[a+1],n[o+1]);break}}o+=2}else o+=2;else o+=4}return r}function sF(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function aF(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r+1];if(-1!==i){const s=t.data[i];fD(n[r]),s.contentQueries(2,e[i],i)}}}function l_(t,e){return t[cf]?t[pO][mo]=e:t[cf]=e,t[pO]=e,e}function Tb(t,e,n){fD(0);const r=Zr(null);try{e(t,n)}finally{Zr(r)}}function dF(t,e){const n=t[Ts],r=n?n.get(ka,null):null;r&&r.handleError(e)}function Sb(t,e,n,r,o){for(let i=0;i<n.length;){const s=n[i++],a=n[i++];iF(t.data[s],e[s],r,a,o)}}function Li(t,e,n){const r=wm(e,t);!function UP(t,e,n){t.setValue(e,n)}(t[re],r,n)}function aie(t,e){const n=Rr(e,t),r=n[F];!function cie(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const o=n[yt];null!==o&&null===n[Ni]&&(n[Ni]=ab(o,n[Ts])),Ab(r,n,n[Tt])}function Ab(t,e,n){hD(e);try{const r=t.viewQuery;null!==r&&Tb(1,r,n);const o=t.template;null!==o&&Xk(t,e,o,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&aF(t,e),t.staticViewQueries&&Tb(2,t.viewQuery,n);const i=t.components;null!==i&&function uie(t,e){for(let n=0;n<e.length;n++)aie(t,e[n])}(e,i)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[le]&=-5,pD()}}let fF=(()=>{var t;class e{constructor(){this.all=new Set,this.queue=new Map}create(r,o,i){const s=typeof Zone>"u"?null:Zone.current,a=function Ite(t,e,n){const r=Object.create(wte);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const o=s=>{r.cleanupFn=s};return r.ref={notify:()=>DO(r),run:()=>{if(r.dirty=!1,r.hasRun&&!bO(r))return;r.hasRun=!0;const s=_m(r);try{r.cleanupFn(),r.cleanupFn=RO,r.fn(o)}finally{ym(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(r,l=>{this.all.has(l)&&this.queue.set(l,s)},i);let c;this.all.add(a),a.notify();const u=()=>{a.cleanup(),c?.(),this.all.delete(a),this.queue.delete(a)};return c=o?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[r,o]of this.queue)this.queue.delete(r),o?o.run(()=>r.run()):r.run()}get isQueueEmpty(){return 0===this.queue.size}}return(t=e).\u0275prov=z({token:t,providedIn:"root",factory:()=>new t}),e})();function d_(t,e,n){let r=n?t.styles:null,o=n?t.classes:null,i=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?i=a:1==i?o=kE(o,a):2==i&&(r=kE(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=o:t.classesWithoutHost=o}function Lf(t,e,n,r,o=!1){for(;null!==n;){const i=e[n.index];null!==i&&r.push(Qe(i)),Bn(i)&&hF(i,r);const s=n.type;if(8&s)Lf(t,e,n.child,r);else if(32&s){const a=RD(n,e);let c;for(;c=a();)r.push(c)}else if(16&s){const a=QP(e,n);if(Array.isArray(a))r.push(...a);else{const c=bf(e[St]);Lf(c[F],c,a,r,!0)}}n=o?n.projectionNext:n.next}return r}function hF(t,e){for(let n=hn;n<t.length;n++){const r=t[n],o=r[F].firstChild;null!==o&&Lf(r[F],r,o,e)}t[Bo]!==t[yt]&&e.push(t[Bo])}function f_(t,e,n,r=!0){const o=e[nu],i=o.rendererFactory,s=o.afterRenderEventManager;i.begin?.(),s?.begin();try{pF(t,e,t.template,n)}catch(c){throw r&&dF(e,c),c}finally{i.end?.(),o.effectManager?.flush(),s?.end()}}function pF(t,e,n,r){const o=e[le];if(256!=(256&o)){e[nu].effectManager?.flush(),hD(e);try{jO(e),function WO(t){return K.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&Xk(t,e,n,2,r);const s=3==(3&o);if(s){const u=t.preOrderCheckHooks;null!==u&&bm(e,u,null)}else{const u=t.preOrderHooks;null!==u&&Cm(e,u,0,null),gD(e,0)}if(function fie(t){for(let e=LP(t);null!==e;e=VP(e)){if(!e[mO])continue;const n=e[iu];for(let r=0;r<n.length;r++){Nte(n[r])}}}(e),gF(e,2),null!==t.contentQueries&&aF(t,e),s){const u=t.contentCheckHooks;null!==u&&bm(e,u)}else{const u=t.contentHooks;null!==u&&Cm(e,u,1),gD(e,1)}!function Loe(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=qk(e,ff);try{for(let o=0;o<n.length;o++){const i=n[o];if(i<0)Na(~i);else{const s=i,a=n[++o],c=n[++o];Hte(a,s),r.dirty=!1;const u=_m(r);try{c(2,e[s])}finally{ym(r,u)}}}}finally{null===e[ff]&&Wk(e,ff),Na(-1)}}(t,e);const a=t.components;null!==a&&_F(e,a,0);const c=t.viewQuery;if(null!==c&&Tb(2,c,r),s){const u=t.viewCheckHooks;null!==u&&bm(e,u)}else{const u=t.viewHooks;null!==u&&Cm(e,u,2),gD(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[le]&=-73,UO(e)}finally{pD()}}}function gF(t,e){for(let n=LP(t);null!==n;n=VP(n))for(let r=hn;r<n.length;r++)mF(n[r],e)}function hie(t,e,n){mF(Rr(e,t),n)}function mF(t,e){if(!function Mte(t){return 128==(128&t[le])}(t))return;const n=t[F],r=t[le];if(80&r&&0===e||1024&r||2===e)pF(n,t,n.template,t[Tt]);else if(t[af]>0){gF(t,1);const o=n.components;null!==o&&_F(t,o,1)}}function _F(t,e,n){for(let r=0;r<e.length;r++)hie(t,e[r],n)}class Vf{get rootNodes(){const e=this._lView,n=e[F];return Lf(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Tt]}set context(e){this._lView[Tt]=e}get destroyed(){return 256==(256&this._lView[le])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[at];if(Bn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Hm(e,r),Nm(n,r))}this._attachedToViewContainer=!1}PD(this._lView[F],this._lView)}onDestroy(e){!function BO(t,e){if(256==(256&t[le]))throw new M(911,!1);null===t[Ss]&&(t[Ss]=[]),t[Ss].push(e)}(this._lView,e)}markForCheck(){kf(this._cdRefInjectingView||this._lView)}detach(){this._lView[le]&=-129}reattach(){this._lView[le]|=128}detectChanges(){f_(this._lView[F],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new M(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function rre(t,e){Tf(t,e,e[re],2,null,null)}(this._lView[F],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new M(902,!1);this._appRef=e}}class pie extends Vf{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;f_(e[F],e,e[Tt],!1)}checkNoChanges(){}get context(){return null}}class yF extends s_{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Ee(e);return new jf(n,this.ngModule)}}function vF(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class mie{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=um(r);const o=this.injector.get(e,lb,r);return o!==lb||n===lb?o:this.parentInjector.get(e,n,r)}}class jf extends Ck{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=vF(e.inputs);if(null!==n)for(const o of r)n.hasOwnProperty(o.propName)&&(o.transform=n[o.propName]);return r}get outputs(){return vF(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function nte(t){return t.map(tte).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,o){let i=(o=o||this.ngModule)instanceof eo?o:o?.injector;i&&null!==this.componentDef.getStandaloneInjector&&(i=this.componentDef.getStandaloneInjector(i)||i);const s=i?new mie(e,i):e,a=s.get(Sk,null);if(null===a)throw new M(407,!1);const d={rendererFactory:a,sanitizer:s.get(foe,null),effectManager:s.get(fF,null),afterRenderEventManager:s.get(mb,null)},f=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=r?function joe(t,e,n,r){const i=r.get(Bk,!1)||n===ho.ShadowDom,s=t.selectRootElement(e,i);return function Uoe(t){eF(t)}(s),s}(f,r,this.componentDef.encapsulation,s):Bm(f,h,function gie(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),y=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let _=null;null!==p&&(_=ab(p,s,!0));const I=Eb(0,null,null,1,0,null,null,null,null,null,null),w=u_(null,I,null,y,null,null,d,f,s,null,_);let T,j;hD(w);try{const he=this.componentDef;let xe,st=null;he.findHostDirectiveDefs?(xe=[],st=new Map,he.findHostDirectiveDefs(he,xe,st),xe.push(he)):xe=[he];const Zc=function yie(t,e){const n=t[F],r=me;return t[r]=e,Nu(n,r,2,"#host",null)}(w,p),Yd=function vie(t,e,n,r,o,i,s){const a=o[F];!function Iie(t,e,n,r){for(const o of t)e.mergedAttrs=sf(e.mergedAttrs,o.hostAttrs);null!==e.mergedAttrs&&(d_(e,e.mergedAttrs,!0),null!==n&&JP(r,n,e))}(r,t,e,s);let c=null;null!==e&&(c=ab(e,o[Ts]));const u=i.rendererFactory.createRenderer(e,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const d=u_(o,Jk(n),null,l,o[t.index],t,i,u,null,null,c);return a.firstCreatePass&&bb(a,t,r.length-1),l_(o,d),o[t.index]=d}(Zc,p,he,xe,w,d,f);j=VO(I,me),p&&function Eie(t,e,n,r){if(r)QE(t,n,["ng-version",hoe.full]);else{const{attrs:o,classes:i}=function rte(t){const e=[],n=[];let r=1,o=2;for(;r<t.length;){let i=t[r];if("string"==typeof i)2===o?""!==i&&e.push(i,t[++r]):8===o&&n.push(i);else{if(!po(o))break;o=i}r++}return{attrs:e,classes:n}}(e.selectors[0]);o&&QE(t,n,o),i&&i.length>0&&XP(t,n,i.join(" "))}}(f,he,p,r),void 0!==n&&function Die(t,e,n){const r=t.projection=[];for(let o=0;o<e.length;o++){const i=n[o];r.push(null!=i?Array.from(i):null)}}(j,this.ngContentSelectors,n),T=function wie(t,e,n,r,o,i){const s=gn(),a=o[F],c=hr(s,o);rF(a,o,s,n,null,r);for(let l=0;l<n.length;l++)An(Ra(o,a,s.directiveStart+l,s),o);oF(a,o,s),c&&An(c,o);const u=Ra(o,a,s.directiveStart+s.componentOffset,s);if(t[Tt]=o[Tt]=u,null!==i)for(const l of i)l(u,e);return vb(a,s,t),u}(Yd,he,xe,st,w,[bie]),Ab(I,w,null)}finally{pD()}return new _ie(this.componentType,T,Au(j,w),w,j)}}class _ie extends soe{constructor(e,n,r,o,i){super(),this.location=r,this._rootLView=o,this._tNode=i,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new pie(o),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let o;if(null!==r&&(o=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const i=this._rootLView;Sb(i[F],i,o,e,n),this.previousInputValues.set(e,n),kf(Rr(this._tNode.index,i))}}get injector(){return new zn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function bie(){const t=gn();Dm(b()[F],t)}function Ue(t){let e=function IF(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let o;if(_o(t))o=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new M(903,!1);o=e.\u0275dir}if(o){if(n){r.push(o);const s=t;s.inputs=h_(t.inputs),s.inputTransforms=h_(t.inputTransforms),s.declaredInputs=h_(t.declaredInputs),s.outputs=h_(t.outputs);const a=o.hostBindings;a&&Aie(t,a);const c=o.viewQuery,u=o.contentQueries;if(c&&Tie(t,c),u&&Sie(t,u),rm(t.inputs,o.inputs),rm(t.declaredInputs,o.declaredInputs),rm(t.outputs,o.outputs),null!==o.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),rm(s.inputTransforms,o.inputTransforms)),_o(o)&&o.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(o.data.animation)}}const i=o.features;if(i)for(let s=0;s<i.length;s++){const a=i[s];a&&a.ngInherit&&a(t),a===Ue&&(n=!1)}}e=Object.getPrototypeOf(e)}!function Cie(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const o=t[r];o.hostVars=e+=o.hostVars,o.hostAttrs=sf(o.hostAttrs,n=sf(n,o.hostAttrs))}}(r)}function h_(t){return t===Uo?{}:t===Ne?[]:t}function Tie(t,e){const n=t.viewQuery;t.viewQuery=n?(r,o)=>{e(r,o),n(r,o)}:e}function Sie(t,e){const n=t.contentQueries;t.contentQueries=n?(r,o,i)=>{e(r,o,i),n(r,o,i)}:e}function Aie(t,e){const n=t.hostBindings;t.hostBindings=n?(r,o)=>{e(r,o),n(r,o)}:e}function p_(t){return!!function Mb(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Mn(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ou(t,e,n,r){return Mn(t,uu(),n)?e+ne(n)+r:ae}function Pu(t,e,n,r,o,i){const a=function Fa(t,e,n,r){const o=Mn(t,e,n);return Mn(t,e+1,r)||o}(t,function Ri(){return K.lFrame.bindingIndex}(),n,o);return Oi(2),a?e+ne(n)+r+ne(o)+i:ae}function Jt(t,e,n,r,o,i,s,a){const c=b(),u=De(),l=t+me,d=u.firstCreatePass?function Jie(t,e,n,r,o,i,s,a,c){const u=e.consts,l=Nu(e,t,4,s||null,Ms(u,a));Db(e,n,l,Ms(u,c)),Dm(e,l);const d=l.tView=Eb(2,l,r,o,i,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,u,c,e,n,r,o,i,s):u.data[l];Go(d,!1);const f=LF(u,c,d,t);Em()&&zm(u,c,f,d),An(f,c),l_(c,c[l]=sF(f,c,f,d)),pm(d)&&Ib(u,c,d),null!=s&&wb(c,d,a)}let LF=function VF(t,e,n,r){return xs(!0),e[re].createComment("")};function ht(t,e,n){const r=b();return Mn(r,uu(),e)&&Fr(De(),ft(),r,t,e,r[re],n,!1),ht}function kb(t,e,n,r,o){const s=o?"class":"style";Sb(t,n,e.inputs[s],s,r)}function pe(t,e,n,r){const o=b(),i=De(),s=me+t,a=o[re],c=i.firstCreatePass?function ose(t,e,n,r,o,i){const s=e.consts,c=Nu(e,t,2,r,Ms(s,o));return Db(e,n,c,Ms(s,i)),null!==c.attrs&&d_(c,c.attrs,!1),null!==c.mergedAttrs&&d_(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,i,o,e,n,r):i.data[s],u=jF(i,o,c,a,e,t);o[s]=u;const l=pm(c);return Go(c,!0),JP(a,u,c),32!=(32&c.flags)&&Em()&&zm(i,o,u,c),0===function Ote(){return K.lFrame.elementDepthCount}()&&An(u,o),function Pte(){K.lFrame.elementDepthCount++}(),l&&(Ib(i,o,c),vb(i,c,o)),null!==r&&wb(o,c),pe}function Q(){let t=gn();cD()?function uD(){K.lFrame.isParent=!1}():(t=t.parent,Go(t,!1));const e=t;(function Fte(t){return K.skipHydrationRootTNode===t})(e)&&function Ute(){K.skipHydrationRootTNode=null}(),function kte(){K.lFrame.elementDepthCount--}();const n=De();return n.firstCreatePass&&(Dm(n,t),ZE(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function tne(t){return 0!=(8&t.flags)}(e)&&kb(n,e,b(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function nne(t){return 0!=(16&t.flags)}(e)&&kb(n,e,b(),e.stylesWithoutHost,!1),Q}function no(t,e,n,r){return pe(t,e,n,r),Q(),no}let jF=(t,e,n,r,o,i)=>(xs(!0),Bm(r,o,function tP(){return K.lFrame.currentNamespace}()));function Vb(){return b()}function Gf(t){return!!t&&"function"==typeof t.then}function BF(t){return!!t&&"function"==typeof t.subscribe}function qn(t,e,n,r){const o=b(),i=De(),s=gn();return function GF(t,e,n,r,o,i,s){const a=pm(r),u=t.firstCreatePass&&function uF(t){return t.cleanup||(t.cleanup=[])}(t),l=e[Tt],d=function cF(t){return t[tu]||(t[tu]=[])}(e);let f=!0;if(3&r.type||s){const g=hr(r,e),m=s?s(g):g,y=d.length,_=s?w=>s(Qe(w[r.index])):r.index;let I=null;if(!s&&a&&(I=function lse(t,e,n,r){const o=t.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const s=o[i];if(s===n&&o[i+1]===r){const a=e[tu],c=o[i+2];return a.length>c?a[c]:null}"string"==typeof s&&(i+=2)}return null}(t,e,o,r.index)),null!==I)(I.__ngLastListenerFn__||I).__ngNextListenerFn__=i,I.__ngLastListenerFn__=i,f=!1;else{i=qF(r,e,l,i,!1);const w=n.listen(m,o,i);d.push(i,w),u&&u.push(o,_,y,y+1)}}else i=qF(r,e,l,i,!1);const h=r.outputs;let p;if(f&&null!==h&&(p=h[o])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const T=e[p[m]][p[m+1]].subscribe(i),j=d.length;d.push(i,T),u&&u.push(o,r.index,j,-(j+1))}}}(i,o,o[re],s,t,e,r),qn}function zF(t,e,n,r){try{return Ho(6,e,n),!1!==n(r)}catch(o){return dF(t,o),!1}finally{Ho(7,e,n)}}function qF(t,e,n,r,o){return function i(s){if(s===Function)return r;kf(t.componentOffset>-1?Rr(t.index,e):e);let c=zF(e,n,r,s),u=i.__ngNextListenerFn__;for(;u;)c=zF(e,n,u,s)&&c,u=u.__ngNextListenerFn__;return o&&!1===c&&s.preventDefault(),c}}function zf(t=1){return function qte(t){return(K.lFrame.contextLView=function Wte(t,e){for(;t>0;)e=e[ru],t--;return e}(t,K.lFrame.contextLView))[Tt]}(t)}function v_(t,e,n){return jb(t,"",e,"",n),v_}function jb(t,e,n,r,o){const i=b(),s=Ou(i,e,n,r);return s!==ae&&Fr(De(),ft(),i,t,s,i[re],o,!1),jb}function I_(t,e){return t<<17|e<<2}function Os(t){return t>>17&32767}function Ub(t){return 2|t}function La(t){return(131068&t)>>2}function $b(t,e){return-131069&t|e<<2}function Bb(t){return 1|t}function tL(t,e,n,r,o){const i=t[n+1],s=null===e;let a=r?Os(i):La(i),c=!1;for(;0!==a&&(!1===c||s);){const l=t[a+1];vse(t[a],e)&&(c=!0,t[a+1]=r?Bb(l):Ub(l)),a=r?Os(l):La(l)}c&&(t[n+1]=r?Ub(i):Bb(i))}function vse(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&_u(t,e)>=0}function w_(t,e){return function yo(t,e,n,r){const o=b(),i=De(),s=Oi(2);i.firstUpdatePass&&function lL(t,e,n,r){const o=t.data;if(null===o[n+1]){const i=o[Gn()],s=function uL(t,e){return e>=t.expandoStartIndex}(t,n);(function pL(t,e){return 0!=(t.flags&(e?8:16))})(i,r)&&null===e&&!s&&(e=!1),e=function Ase(t,e,n,r){const o=function dD(t){const e=K.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let i=r?e.residualClasses:e.residualStyles;if(null===o)0===(r?e.classBindings:e.styleBindings)&&(n=qf(n=Hb(null,t,e,n,r),e.attrs,r),i=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==o)if(n=Hb(o,t,e,n,r),null===i){let c=function Mse(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==La(r))return t[Os(r)]}(t,e,r);void 0!==c&&Array.isArray(c)&&(c=Hb(null,t,e,c[1],r),c=qf(c,e.attrs,r),function xse(t,e,n,r){t[Os(n?e.classBindings:e.styleBindings)]=r}(t,e,r,c))}else i=function Nse(t,e,n){let r;const o=e.directiveEnd;for(let i=1+e.directiveStylingLast;i<o;i++)r=qf(r,t[i].hostAttrs,n);return qf(r,e.attrs,n)}(t,e,r)}return void 0!==i&&(r?e.residualClasses=i:e.residualStyles=i),n}(o,i,e,r),function _se(t,e,n,r,o,i){let s=i?e.classBindings:e.styleBindings,a=Os(s),c=La(s);t[r]=n;let l,u=!1;if(Array.isArray(n)?(l=n[1],(null===l||_u(n,l)>0)&&(u=!0)):l=n,o)if(0!==c){const f=Os(t[a+1]);t[r+1]=I_(f,a),0!==f&&(t[f+1]=$b(t[f+1],r)),t[a+1]=function gse(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=I_(a,0),0!==a&&(t[a+1]=$b(t[a+1],r)),a=r;else t[r+1]=I_(c,0),0===a?a=r:t[c+1]=$b(t[c+1],r),c=r;u&&(t[r+1]=Ub(t[r+1])),tL(t,l,r,!0),tL(t,l,r,!1),function yse(t,e,n,r,o){const i=o?t.residualClasses:t.residualStyles;null!=i&&"string"==typeof e&&_u(i,e)>=0&&(n[r+1]=Bb(n[r+1]))}(e,l,t,r,i),s=I_(a,c),i?e.classBindings=s:e.styleBindings=s}(o,i,e,n,s,r)}}(i,t,s,r),e!==ae&&Mn(o,s,e)&&function fL(t,e,n,r,o,i,s,a){if(!(3&e.type))return;const c=t.data,u=c[a+1],l=function mse(t){return 1==(1&t)}(u)?hL(c,e,n,o,La(u),s):void 0;E_(l)||(E_(i)||function pse(t){return 2==(2&t)}(u)&&(i=hL(c,null,n,o,a,s)),function hre(t,e,n,r,o){if(e)o?t.addClass(n,r):t.removeClass(n,r);else{let i=-1===r.indexOf("-")?void 0:Ns.DashCase;null==o?t.removeStyle(n,r,i):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=Ns.Important),t.setStyle(n,r,o,i))}}(r,s,wm(Gn(),n),o,i))}(i,i.data[Gn()],o,o[re],t,o[s+1]=function kse(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Gt(Rs(t)))),t}(e,n),r,s)}(t,e,null,!0),w_}function Hb(t,e,n,r,o){let i=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(i=e[a],r=qf(r,i.hostAttrs,o),i!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function qf(t,e,n){const r=n?1:2;let o=-1;if(null!==e)for(let i=0;i<e.length;i++){const s=e[i];"number"==typeof s?o=s:o===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Or(t,s,!!n||e[++i]))}return void 0===t?null:t}function hL(t,e,n,r,o,i){const s=null===e;let a;for(;o>0;){const c=t[o],u=Array.isArray(c),l=u?c[1]:c,d=null===l;let f=n[o+1];f===ae&&(f=d?Ne:void 0);let h=d?DD(f,r):l===r?f:void 0;if(u&&!E_(h)&&(h=DD(c,r)),E_(h)&&(a=h,s))return a;const p=t[o+1];o=s?Os(p):La(p)}if(null!==e){let c=i?e.residualClasses:e.residualStyles;null!=c&&(a=DD(c,r))}return a}function E_(t){return void 0!==t}function ye(t,e=""){const n=b(),r=De(),o=t+me,i=r.firstCreatePass?Nu(r,o,1,e,null):r.data[o],s=gL(r,n,i,e,t);n[o]=s,Em()&&zm(r,n,s,i),Go(i,!1)}let gL=(t,e,n,r,o)=>(xs(!0),function $m(t,e){return t.createText(e)}(e[re],r));function Va(t){return ja("",t,""),Va}function ja(t,e,n){const r=b(),o=Ou(r,t,e,n);return o!==ae&&Li(r,Gn(),o),ja}function Gb(t,e,n,r,o){const i=b(),s=Pu(i,t,e,n,r,o);return s!==ae&&Li(i,Gn(),s),Gb}const Hu="en-US";let FL=Hu;function Wb(t,e,n,r,o){if(t=X(t),Array.isArray(t))for(let i=0;i<t.length;i++)Wb(t[i],e,n,r,o);else{const i=De(),s=b(),a=gn();let c=Pa(t)?t:X(t.provide);const u=vk(t),l=1048575&a.providerIndexes,d=a.directiveStart,f=a.providerIndexes>>20;if(Pa(t)||!t.multi){const h=new mf(u,o,A),p=Qb(c,e,o?l:l+f,d);-1===p?(ID(Sm(a,s),i,c),Kb(i,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[p]=h,s[p]=h)}else{const h=Qb(c,e,l+f,d),p=Qb(c,e,l,l+f),m=p>=0&&n[p];if(o&&!m||!o&&!(h>=0&&n[h])){ID(Sm(a,s),i,c);const y=function nce(t,e,n,r,o){const i=new mf(t,n,A);return i.multi=[],i.index=e,i.componentProviders=0,a2(i,o,r&&!n),i}(o?tce:ece,n.length,o,r,u);!o&&m&&(n[p].providerFactory=y),Kb(i,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(y),s.push(y)}else Kb(i,t,h>-1?h:p,a2(n[o?p:h],u,!o&&r));!o&&r&&m&&n[p].componentProviders++}}}function Kb(t,e,n,r){const o=Pa(e),i=function Hre(t){return!!t.useClass}(e);if(o||i){const c=(i?X(e.useClass):e).prototype.ngOnDestroy;if(c){const u=t.destroyHooks||(t.destroyHooks=[]);if(!o&&e.multi){const l=u.indexOf(n);-1===l?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function a2(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Qb(t,e,n,r){for(let o=n;o<r;o++)if(e[o]===t)return o;return-1}function ece(t,e,n,r){return Yb(this.multi,[])}function tce(t,e,n,r){const o=this.multi;let i;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Ra(n,n[F],this.providerFactory.index,r);i=a.slice(0,s),Yb(o,i);for(let c=s;c<a.length;c++)i.push(a[c])}else i=[],Yb(o,i);return i}function Yb(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function ct(t,e=[]){return n=>{n.providersResolver=(r,o)=>function Jae(t,e,n){const r=De();if(r.firstCreatePass){const o=_o(t);Wb(n,r.data,r.blueprint,o,!0),Wb(e,r.data,r.blueprint,o,!1)}}(r,o?o(t):t,e)}}class $a{}class c2{}class Zb extends $a{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new yF(this);const o=Nr(e);this._bootstrapComponents=Fi(o.bootstrap),this._r3Injector=Rk(e,n,[{provide:$a,useValue:this},{provide:s_,useValue:this.componentFactoryResolver},...r],Gt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Xb extends c2{constructor(e){super(),this.moduleType=e}create(e){return new Zb(this.moduleType,e,[])}}class u2 extends $a{constructor(e){super(),this.componentFactoryResolver=new yF(this),this.instance=null;const n=new Jm([...e.providers,{provide:$a,useValue:this},{provide:s_,useValue:this.componentFactoryResolver}],e.parent||Xm(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Jb(t,e,n=null){return new u2({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let ice=(()=>{var t;class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const o=gk(0,r.type),i=o.length>0?Jb([o],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,i)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}}return(t=e).\u0275prov=z({token:t,providedIn:"environment",factory:()=>new t(q(eo))}),e})();function l2(t){t.getStandaloneInjector=e=>e.get(ice).getOrCreateStandaloneInjector(t)}function _2(t,e,n,r,o,i){const s=e+n;return Mn(t,s,o)?function Wo(t,e,n){return t[e]=n}(t,s+1,i?r.call(i,o):r(o)):function Xf(t,e){const n=t[e];return n===ae?void 0:n}(t,s+1)}function tC(t,e){const n=De();let r;const o=t+me;n.firstCreatePass?(r=function bce(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[o]=r,r.onDestroy&&(n.destroyHooks??=[]).push(o,r.onDestroy)):r=n.data[o];const i=r.factory||(r.factory=xa(r.type)),a=lr(A);try{const c=Tm(!1),u=i();return Tm(c),function nse(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,b(),o,u),u}finally{lr(a)}}function nC(t,e,n){const r=t+me,o=b(),i=function au(t,e){return t[e]}(o,r);return function Jf(t,e){return t[F].data[e].pure}(o,r)?_2(o,function Hn(){const t=K.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),e,i.transform,n,i):i.transform(n)}function Nce(t,e,n,r=!0){const o=e[F];if(function ire(t,e,n,r){const o=hn+r,i=n.length;r>0&&(n[o-1][mo]=e),r<i-hn?(e[mo]=n[o],mP(n,hn+r,e)):(n.push(e),e[mo]=null),e[at]=n;const s=e[uf];null!==s&&n!==s&&function sre(t,e){const n=t[iu];e[St]!==e[at][at][St]&&(t[mO]=!0),null===n?t[iu]=[e]:n.push(e)}(s,e);const a=e[$o];null!==a&&a.insertView(t),e[le]|=128}(o,e,t,n),r){const i=VD(n,t),s=e[re],a=Gm(s,t[Bo]);null!==a&&function nre(t,e,n,r,o,i){r[yt]=o,r[Sn]=e,Tf(t,r,n,1,o,i)}(o,t[Sn],s,e,a,i)}}let Vi=(()=>{class e{}return e.__NG_ELEMENT_ID__=Pce,e})();const Rce=Vi,Oce=class extends Rce{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const o=function xce(t,e,n,r){const o=e.tView,a=u_(t,o,n,4096&t[le]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[uf]=t[e.index];const u=t[$o];return null!==u&&(a[$o]=u.createEmbeddedView(o)),Ab(o,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new Vf(o)}};function Pce(){return function S_(t,e){return 4&t.type?new Oce(e,t,Au(t,e)):null}(gn(),b())}let Io=(()=>{class e{}return e.__NG_ELEMENT_ID__=Uce,e})();function Uce(){return function A2(t,e){let n;const r=e[t.index];return Bn(r)?n=r:(n=sF(r,e,null,t),e[t.index]=n,l_(e,n)),M2(n,e,t,r),new T2(n,t,e)}(gn(),b())}const $ce=Io,T2=class extends $ce{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Au(this._hostTNode,this._hostLView)}get injector(){return new zn(this._hostTNode,this._hostLView)}get parentInjector(){const e=Am(this._hostTNode,this._hostLView);if(_D(e)){const n=yf(e,this._hostLView),r=_f(e);return new zn(n[F].data[r+8],n)}return new zn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=S2(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-hn}createEmbeddedView(e,n,r){let o,i;"number"==typeof r?o=r:null!=r&&(o=r.index,i=r.injector);const a=e.createEmbeddedViewImpl(n||{},i,null);return this.insertImpl(a,o,false),a}createComponent(e,n,r,o,i){const s=e&&!function If(t){return"function"==typeof t}(e);let a;if(s)a=n;else{const g=n||{};a=g.index,r=g.injector,o=g.projectableNodes,i=g.environmentInjector||g.ngModuleRef}const c=s?e:new jf(Ee(e)),u=r||this.parentInjector;if(!i&&null==c.ngModule){const m=(s?u:this.parentInjector).get(eo,null);m&&(i=m)}Ee(c.componentType??{});const h=c.create(u,o,null,i);return this.insertImpl(h.hostView,a,false),h}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const o=e._lView;if(function xte(t){return Bn(t[at])}(o)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const u=o[at],l=new T2(u,u[Sn],u[at]);l.detach(l.indexOf(e))}}const s=this._adjustIndex(n),a=this._lContainer;return Nce(a,o,s,!r),e.attachToViewContainerRef(),mP(oC(a),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=S2(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Hm(this._lContainer,n);r&&(Nm(oC(this._lContainer),n),PD(r[F],r))}detach(e){const n=this._adjustIndex(e,-1),r=Hm(this._lContainer,n);return r&&null!=Nm(oC(this._lContainer),n)?new Vf(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function S2(t){return t[8]}function oC(t){return t[8]||(t[8]=[])}let M2=function x2(t,e,n,r){if(t[Bo])return;let o;o=8&n.type?Qe(r):function Bce(t,e){const n=t[re],r=n.createComment(""),o=hr(e,t);return Oa(n,Gm(n,o),r,function lre(t,e){return t.nextSibling(e)}(n,o),!1),r}(e,n),t[Bo]=o};const gC=new U("Application Initializer");let mC=(()=>{var t;class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o}),this.appInits=V(gC,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const i of this.appInits){const s=i();if(Gf(s))r.push(s);else if(BF(s)){const a=new Promise((c,u)=>{s.subscribe({complete:c,error:u})});r.push(a)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{o()}).catch(i=>{this.reject(i)}),0===r.length&&o(),this.initialized=!0}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),tV=(()=>{var t;class e{log(r){console.log(r)}warn(r){console.warn(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();const ji=new U("LocaleId",{providedIn:"root",factory:()=>V(ji,ge.Optional|ge.SkipSelf)||function vue(){return typeof $localize<"u"&&$localize.locale||Hu}()});let nV=(()=>{var t;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Kr(!1)}add(){this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class Eue{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let rV=(()=>{var t;class e{compileModuleSync(r){return new Xb(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const o=this.compileModuleSync(r),s=Fi(Nr(r).declarations).reduce((a,c)=>{const u=Ee(c);return u&&a.push(new jf(u)),a},[]);return new Eue(o,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const aV=new U(""),N_=new U("");let wC,vC=(()=>{var t;class e{constructor(r,o,i){this._ngZone=r,this.registry=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,wC||(function Bue(t){wC=t}(i),i.addToWindow(o)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ye.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(r)||(clearTimeout(o.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,o,i){let s=-1;o&&o>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),r(this._didWork,this.getPendingTasks())},o)),this._callbacks.push({doneCb:r,timeoutId:s,updateCb:i})}whenStable(r,o,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,o,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,o,i){return[]}}return(t=e).\u0275fac=function(r){return new(r||t)(q(Ye),q(IC),q(N_))},t.\u0275prov=z({token:t,factory:t.\u0275fac}),e})(),IC=(()=>{var t;class e{constructor(){this._applications=new Map}registerApplication(r,o){this._applications.set(r,o)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,o=!0){return wC?.findTestabilityInTree(this,r,o)??null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),Ps=null;const cV=new U("AllowMultipleToken"),EC=new U("PlatformDestroyListeners"),DC=new U("appBootstrapListener");class lV{constructor(e,n){this.name=e,this.token=n}}function fV(t,e,n=[]){const r=`Platform: ${e}`,o=new U(r);return(i=[])=>{let s=bC();if(!s||s.injector.get(cV,!1)){const a=[...n,...i,{provide:o,useValue:!0}];t?t(a):function zue(t){if(Ps&&!Ps.get(cV,!1))throw new M(400,!1);(function uV(){!function gte(t){AO=t}(()=>{throw new M(600,!1)})})(),Ps=t;const e=t.get(pV);(function dV(t){t.get(Ik,null)?.forEach(n=>n())})(t)}(function hV(t=[],e){return kr.create({name:e,providers:[{provide:YD,useValue:"platform"},{provide:EC,useValue:new Set([()=>Ps=null])},...t]})}(a,r))}return function Wue(t){const e=bC();if(!e)throw new M(401,!1);return e}()}}function bC(){return Ps?.get(pV)??null}let pV=(()=>{var t;class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,o){const i=function Kue(t="zone.js",e){return"noop"===t?new Coe:"zone.js"===t?new Ye(e):t}(o?.ngZone,function gV(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:o?.ngZoneEventCoalescing,runCoalescing:o?.ngZoneRunCoalescing}));return i.run(()=>{const s=function oce(t,e,n){return new Zb(t,e,n)}(r.moduleType,this.injector,function IV(t){return[{provide:Ye,useFactory:t},{provide:Nf,multi:!0,useFactory:()=>{const e=V(Yue,{optional:!0});return()=>e.initialize()}},{provide:vV,useFactory:Que},{provide:Fk,useFactory:Lk}]}(()=>i)),a=s.injector.get(ka,null);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:u=>{a.handleError(u)}});s.onDestroy(()=>{R_(this._modules,s),c.unsubscribe()})}),function mV(t,e,n){try{const r=n();return Gf(r)?r.catch(o=>{throw e.runOutsideAngular(()=>t.handleError(o)),o}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(a,i,()=>{const c=s.injector.get(mC);return c.runInitializers(),c.donePromise.then(()=>(function LL(t){Qr(t,"Expected localeId to be defined"),"string"==typeof t&&(FL=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(ji,Hu)||Hu),this._moduleDoBootstrap(s),s))})})}bootstrapModule(r,o=[]){const i=_V({},o);return function Hue(t,e,n){const r=new Xb(n);return Promise.resolve(r)}(0,0,r).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(r){const o=r.injector.get(qu);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(i=>o.bootstrap(i));else{if(!r.instance.ngDoBootstrap)throw new M(-403,!1);r.instance.ngDoBootstrap(o)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new M(404,!1);this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o());const r=this._injector.get(EC,null);r&&(r.forEach(o=>o()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=e).\u0275fac=function(r){return new(r||t)(q(kr))},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function _V(t,e){return Array.isArray(e)?e.reduce(_V,t):{...t,...e}}let qu=(()=>{var t;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=V(vV),this.zoneIsStable=V(Fk),this.componentTypes=[],this.components=[],this.isStable=V(nV).hasPendingTasks.pipe(jo(r=>r?G(!1):this.zoneIsStable),function See(t,e=Es){return t=t??Aee,Ht((n,r)=>{let o,i=!0;n.subscribe(Ft(r,s=>{const a=e(s);(i||!t(o,a))&&(i=!1,o=a,r.next(s))}))})}(),q1()),this._injector=V(eo)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,o){const i=r instanceof Ck;if(!this._injector.get(mC).done)throw!i&&function eu(t){const e=Ee(t)||fn(t)||$n(t);return null!==e&&e.standalone}(r),new M(405,!1);let a;a=i?r:this._injector.get(s_).resolveComponentFactory(r),this.componentTypes.push(a.componentType);const c=function Gue(t){return t.isBoundToModule}(a)?void 0:this._injector.get($a),l=a.create(kr.NULL,[],o||a.selector,c),d=l.location.nativeElement,f=l.injector.get(aV,null);return f?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),R_(this.components,l),f?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new M(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){const o=r;this._views.push(o),o.attachToAppRef(this)}detachView(r){const o=r;R_(this._views,o),o.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const o=this._injector.get(DC,[]);o.push(...this._bootstrapListeners),o.forEach(i=>i(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>R_(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new M(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function R_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const vV=new U("",{providedIn:"root",factory:()=>V(ka).handleError.bind(void 0)});function Que(){const t=V(Ye),e=V(ka);return n=>t.runOutsideAngular(()=>e.handleError(n))}let Yue=(()=>{var t;class e{constructor(){this.zone=V(Ye),this.applicationRef=V(qu)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();let O_=(()=>{class e{}return e.__NG_ELEMENT_ID__=Xue,e})();function Xue(t){return function Jue(t,e,n){if(Ma(t)&&!n){const r=Rr(t.index,e);return new Vf(r,r)}return 47&t.type?new Vf(e[St],e):null}(gn(),b(),16==(16&t))}class bV{constructor(){}supports(e){return p_(e)}create(e){return new ile(e)}}const ole=(t,e)=>e;class ile{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||ole}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,o=0,i=null;for(;n||r;){const s=!r||n&&n.currentIndex<TV(r,o,i)?n:r,a=TV(s,o,i),c=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)o++;else{i||(i=[]);const u=a-o,l=c-o;if(u!=l){for(let f=0;f<u;f++){const h=f<i.length?i[f]:i[f]=0,p=h+f;l<=p&&p<u&&(i[f]=h+1)}i[s.previousIndex]=l-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!p_(e))throw new M(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let o,i,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)i=e[a],s=this._trackByFn(a,i),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,i,s,a)),Object.is(n.item,i)||this._addIdentityChange(n,i)):(n=this._mismatch(n,i,s,a),r=!0),n=n._next}else o=0,function kie(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(o,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,o)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,o),r=!0),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,o){let i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,i,o)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,i,o)):e=this._addAfter(new sle(n,r),i,o),e}_verifyReinsertion(e,n,r,o){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==i?e=this._reinsertAfter(i,e._prev,o):e.currentIndex!=o&&(e.currentIndex=o,this._addToMoves(e,o)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const o=e._prevRemoved,i=e._nextRemoved;return null===o?this._removalsHead=i:o._nextRemoved=i,null===i?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const o=null===n?this._itHead:n._next;return e._next=o,e._prev=n,null===o?this._itTail=e:o._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new CV),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new CV),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class sle{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ale{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class CV{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new ale,this.map.set(n,r)),r.add(e)}get(e,n){const o=this.map.get(e);return o?o.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function TV(t,e,n){const r=t.previousIndex;if(null===r)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+e+o}function AV(){return new F_([new bV])}let F_=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,o){if(null!=o){const i=o.factories.slice();r=r.concat(i)}return new e(r)}static extend(r){return{provide:e,useFactory:o=>e.create(r,o||AV()),deps:[[e,new Pm,new Om]]}}find(r){const o=this.factories.find(i=>i.supports(r));if(null!=o)return o;throw new M(901,!1)}}return(t=e).\u0275prov=z({token:t,providedIn:"root",factory:AV}),e})();const fle=fV(null,"core",[]);let hle=(()=>{var t;class e{constructor(r){}}return(t=e).\u0275fac=function(r){return new(r||t)(q(qu))},t.\u0275mod=go({type:t}),t.\u0275inj=Yr({}),e})(),xC=null;function ks(){return xC}class Sle{}const ro=new U("DocumentToken");let NC=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=z({token:t,factory:function(){return V(Mle)},providedIn:"platform"}),e})();const Ale=new U("Location Initialized");let Mle=(()=>{var t;class e extends NC{constructor(){super(),this._doc=V(ro),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ks().getBaseHref(this._doc)}onPopState(r){const o=ks().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",r,!1),()=>o.removeEventListener("popstate",r)}onHashChange(r){const o=ks().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",r,!1),()=>o.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,o,i){this._history.pushState(r,o,i)}replaceState(r,o,i){this._history.replaceState(r,o,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=z({token:t,factory:function(){return new t},providedIn:"platform"}),e})();function RC(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function VV(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Ui(t){return t&&"?"!==t[0]?"?"+t:t}let Ha=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=z({token:t,factory:function(){return V(UV)},providedIn:"root"}),e})();const jV=new U("appBaseHref");let UV=(()=>{var t;class e extends Ha{constructor(r,o){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=o??this._platformLocation.getBaseHrefFromDOM()??V(ro).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return RC(this._baseHref,r)}path(r=!1){const o=this._platformLocation.pathname+Ui(this._platformLocation.search),i=this._platformLocation.hash;return i&&r?`${o}${i}`:o}pushState(r,o,i,s){const a=this.prepareExternalUrl(i+Ui(s));this._platformLocation.pushState(r,o,a)}replaceState(r,o,i,s){const a=this.prepareExternalUrl(i+Ui(s));this._platformLocation.replaceState(r,o,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(q(NC),q(jV,8))},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),xle=(()=>{var t;class e extends Ha{constructor(r,o){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(r){const o=RC(this._baseHref,r);return o.length>0?"#"+o:o}pushState(r,o,i,s){let a=this.prepareExternalUrl(i+Ui(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,o,a)}replaceState(r,o,i,s){let a=this.prepareExternalUrl(i+Ui(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,o,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(q(NC),q(jV,8))},t.\u0275prov=z({token:t,factory:t.\u0275fac}),e})(),OC=(()=>{var t;class e{constructor(r){this._subject=new vt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const o=this._locationStrategy.getBaseHref();this._basePath=function Ole(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(VV($V(o))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,o=""){return this.path()==this.normalize(r+Ui(o))}normalize(r){return e.stripTrailingSlash(function Rle(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,$V(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,o="",i=null){this._locationStrategy.pushState(i,"",r,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Ui(o)),i)}replaceState(r,o="",i=null){this._locationStrategy.replaceState(i,"",r,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Ui(o)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)})),()=>{const o=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(o,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",o){this._urlChangeListeners.forEach(i=>i(r,o))}subscribe(r,o,i){return this._subject.subscribe({next:r,error:o,complete:i})}}return(t=e).normalizeQueryParams=Ui,t.joinWithSlash=RC,t.stripTrailingSlash=VV,t.\u0275fac=function(r){return new(r||t)(q(Ha))},t.\u0275prov=z({token:t,factory:function(){return function Nle(){return new OC(q(Ha))}()},providedIn:"root"}),e})();function $V(t){return t.replace(/\/index.html$/,"")}class Ide{constructor(e,n,r,o){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let GC=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,o,i){this._viewContainer=r,this._template=o,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const o=this._viewContainer;r.forEachOperation((i,s,a)=>{if(null==i.previousIndex)o.createEmbeddedView(this._template,new Ide(i.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)o.remove(null===s?void 0:s);else if(null!==s){const c=o.get(s);o.move(c,a),XV(c,i)}});for(let i=0,s=o.length;i<s;i++){const c=o.get(i).context;c.index=i,c.count=s,c.ngForOf=this._ngForOf}r.forEachIdentityChange(i=>{XV(o.get(i.currentIndex),i)})}static ngTemplateContextGuard(r,o){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(A(Io),A(Vi),A(F_))},t.\u0275dir=J({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function XV(t,e){t.context.$implicit=e.item}let ih=(()=>{var t;class e{constructor(r,o){this._viewContainer=r,this._context=new wde,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){JV("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){JV("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,o){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(A(Io),A(Vi))},t.\u0275dir=J({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class wde{constructor(){this.$implicit=null,this.ngIf=null}}function JV(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Gt(e)}'.`)}class bde{createSubscription(e,n){return NO(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){NO(()=>e.unsubscribe())}}class Cde{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}}const Tde=new Cde,Sde=new bde;let WC=(()=>{var t;class e{constructor(r){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){return this._obj?r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue:(r&&this._subscribe(r),this._latestValue)}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,o=>this._updateLatestValue(r,o))}_selectStrategy(r){if(Gf(r))return Tde;if(BF(r))return Sde;throw function Eo(t,e){return new M(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,o){r===this._obj&&(this._latestValue=o,this._ref.markForCheck())}}return(t=e).\u0275fac=function(r){return new(r||t)(A(O_,16))},t.\u0275pipe=dr({name:"async",type:t,pure:!1,standalone:!0}),e})(),zde=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=go({type:t}),t.\u0275inj=Yr({}),e})();function rj(t){return"server"===t}let Qde=(()=>{var t;class e{}return(t=e).\u0275prov=z({token:t,providedIn:"root",factory:()=>new Yde(q(ro),window)}),e})();class Yde{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function Zde(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const i=o.shadowRoot;if(i){const s=i.getElementById(e)||i.querySelector(`[name="${e}"]`);if(s)return s}o=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,o=n.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(r-i[0],o-i[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class wfe extends Sle{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class XC extends wfe{static makeCurrent(){!function Tle(t){xC||(xC=t)}(new XC)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function Efe(){return ah=ah||document.querySelector("base"),ah?ah.getAttribute("href"):null}();return null==n?null:function Dfe(t){Y_=Y_||document.createElement("a"),Y_.setAttribute("href",t);const e=Y_.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){ah=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function _de(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[o,i]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,e)}}let Y_,ah=null,Cfe=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac}),e})();const JC=new U("EventManagerPlugins");let cj=(()=>{var t;class e{constructor(r,o){this._zone=o,this._eventNameToPlugin=new Map,r.forEach(i=>{i.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,o,i){return this._findPluginFor(o).addEventListener(r,o,i)}getZone(){return this._zone}_findPluginFor(r){let o=this._eventNameToPlugin.get(r);if(o)return o;if(o=this._plugins.find(s=>s.supports(r)),!o)throw new M(5101,!1);return this._eventNameToPlugin.set(r,o),o}}return(t=e).\u0275fac=function(r){return new(r||t)(q(JC),q(Ye))},t.\u0275prov=z({token:t,factory:t.\u0275fac}),e})();class uj{constructor(e){this._doc=e}}const eT="ng-app-id";let lj=(()=>{var t;class e{constructor(r,o,i,s={}){this.doc=r,this.appId=o,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=rj(s),this.resetHostNodes()}addStyles(r){for(const o of r)1===this.changeUsageCount(o,1)&&this.onStyleAdded(o)}removeStyles(r){for(const o of r)this.changeUsageCount(o,-1)<=0&&this.onStyleRemoved(o)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(o=>o.remove()),r.clear());for(const o of this.getAllStyles())this.onStyleRemoved(o);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const o of this.getAllStyles())this.addStyleToHost(r,o)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const o of this.hostNodes)this.addStyleToHost(o,r)}onStyleRemoved(r){const o=this.styleRef;o.get(r)?.elements?.forEach(i=>i.remove()),o.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${eT}="${this.appId}"]`);if(r?.length){const o=new Map;return r.forEach(i=>{null!=i.textContent&&o.set(i.textContent,i)}),o}return null}changeUsageCount(r,o){const i=this.styleRef;if(i.has(r)){const s=i.get(r);return s.usage+=o,s.usage}return i.set(r,{usage:o,elements:[]}),o}getStyleElement(r,o){const i=this.styleNodesInDOM,s=i?.get(o);if(s?.parentNode===r)return i.delete(o),s.removeAttribute(eT),s;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=o,this.platformIsServer&&a.setAttribute(eT,this.appId),a}}addStyleToHost(r,o){const i=this.getStyleElement(r,o);r.appendChild(i);const s=this.styleRef,a=s.get(o)?.elements;a?a.push(i):s.set(o,{elements:[i],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(q(ro),q(e_),q(wk,8),q(Cu))},t.\u0275prov=z({token:t,factory:t.\u0275fac}),e})();const tT={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},nT=/%COMP%/g,Mfe=new U("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function fj(t,e){return e.map(n=>n.replace(nT,t))}let hj=(()=>{var t;class e{constructor(r,o,i,s,a,c,u,l=null){this.eventManager=r,this.sharedStylesHost=o,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=rj(c),this.defaultRenderer=new rT(r,a,u,this.platformIsServer)}createRenderer(r,o){if(!r||!o)return this.defaultRenderer;this.platformIsServer&&o.encapsulation===ho.ShadowDom&&(o={...o,encapsulation:ho.Emulated});const i=this.getOrCreateRenderer(r,o);return i instanceof gj?i.applyToHost(r):i instanceof oT&&i.applyStyles(),i}getOrCreateRenderer(r,o){const i=this.rendererByCompId;let s=i.get(o.id);if(!s){const a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(o.encapsulation){case ho.Emulated:s=new gj(u,l,o,this.appId,d,a,c,f);break;case ho.ShadowDom:return new Ofe(u,l,r,o,a,c,this.nonce,f);default:s=new oT(u,l,o,d,a,c,f)}i.set(o.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(q(cj),q(lj),q(e_),q(Mfe),q(ro),q(Cu),q(Ye),q(wk))},t.\u0275prov=z({token:t,factory:t.\u0275fac}),e})();class rT{constructor(e,n,r,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=o,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(tT[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(pj(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(pj(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new M(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,o){if(o){n=o+":"+n;const i=tT[o];i?e.setAttributeNS(i,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const o=tT[r];o?e.removeAttributeNS(o,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,o){o&(Ns.DashCase|Ns.Important)?e.style.setProperty(n,r,o&Ns.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Ns.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=ks().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function pj(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class Ofe extends rT{constructor(e,n,r,o,i,s,a,c){super(e,i,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=fj(o.id,o.styles);for(const l of u){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class oT extends rT{constructor(e,n,r,o,i,s,a,c){super(e,i,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o,this.styles=c?fj(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class gj extends oT{constructor(e,n,r,o,i,s,a,c){const u=o+"-"+r.id;super(e,n,r,i,s,a,c,u),this.contentAttr=function xfe(t){return"_ngcontent-%COMP%".replace(nT,t)}(u),this.hostAttr=function Nfe(t){return"_nghost-%COMP%".replace(nT,t)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let Pfe=(()=>{var t;class e extends uj{constructor(r){super(r)}supports(r){return!0}addEventListener(r,o,i){return r.addEventListener(o,i,!1),()=>this.removeEventListener(r,o,i)}removeEventListener(r,o,i){return r.removeEventListener(o,i)}}return(t=e).\u0275fac=function(r){return new(r||t)(q(ro))},t.\u0275prov=z({token:t,factory:t.\u0275fac}),e})();const mj=["alt","control","meta","shift"],kfe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ffe={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Lfe=(()=>{var t;class e extends uj{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,o,i){const s=e.parseEventName(o),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ks().onAndCancel(r,s.domEventName,a))}static parseEventName(r){const o=r.toLowerCase().split("."),i=o.shift();if(0===o.length||"keydown"!==i&&"keyup"!==i)return null;const s=e._normalizeKey(o.pop());let a="",c=o.indexOf("code");if(c>-1&&(o.splice(c,1),a="code."),mj.forEach(l=>{const d=o.indexOf(l);d>-1&&(o.splice(d,1),a+=l+".")}),a+=s,0!=o.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=a,u}static matchEventFullKeyCode(r,o){let i=kfe[r.key]||r.key,s="";return o.indexOf("code.")>-1&&(i=r.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),mj.forEach(a=>{a!==i&&(0,Ffe[a])(r)&&(s+=a+".")}),s+=i,s===o)}static eventCallback(r,o,i){return s=>{e.matchEventFullKeyCode(s,r)&&i.runGuarded(()=>o(s))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(q(ro))},t.\u0275prov=z({token:t,factory:t.\u0275fac}),e})();const yj=[{provide:Cu,useValue:"browser"},{provide:Ik,useValue:function Vfe(){XC.makeCurrent()},multi:!0},{provide:ro,useFactory:function Ufe(){return function yre(t){$D=t}(document),document},deps:[]}],$fe=fV(fle,"browser",yj),Bfe=new U(""),vj=[{provide:N_,useClass:class bfe{addToWindow(e){Ke.getAngularTestability=(r,o=!0)=>{const i=e.findTestabilityInTree(r,o);if(null==i)throw new M(5103,!1);return i},Ke.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ke.getAllAngularRootElements=()=>e.getAllRootElements(),Ke.frameworkStabilizers||(Ke.frameworkStabilizers=[]),Ke.frameworkStabilizers.push(r=>{const o=Ke.getAllAngularTestabilities();let i=o.length,s=!1;const a=function(c){s=s||c,i--,0==i&&r(s)};o.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?ks().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:aV,useClass:vC,deps:[Ye,IC,N_]},{provide:vC,useClass:vC,deps:[Ye,IC,N_]}],Ij=[{provide:YD,useValue:"root"},{provide:ka,useFactory:function jfe(){return new ka},deps:[]},{provide:JC,useClass:Pfe,multi:!0,deps:[ro,Ye,Cu]},{provide:JC,useClass:Lfe,multi:!0,deps:[ro]},hj,lj,cj,{provide:Sk,useExisting:hj},{provide:class Xde{},useClass:Cfe,deps:[]},[]];let Hfe=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:e_,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(q(Bfe,12))},t.\u0275mod=go({type:t}),t.\u0275inj=Yr({providers:[...Ij,...vj],imports:[zde,hle]}),e})(),wj=(()=>{var t;class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}}return(t=e).\u0275fac=function(r){return new(r||t)(q(ro))},t.\u0275prov=z({token:t,factory:function(r){let o=null;return o=r?new r:function zfe(){return new wj(q(ro))}(),o},providedIn:"root"}),e})();typeof window<"u"&&window;const{isArray:Yfe}=Array,{getPrototypeOf:Zfe,prototype:Xfe,keys:Jfe}=Object;function Cj(t){if(1===t.length){const e=t[0];if(Yfe(e))return{args:e,keys:null};if(function ehe(t){return t&&"object"==typeof t&&Zfe(t)===Xfe}(e)){const n=Jfe(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:the}=Array;function Tj(t){return Ve(e=>function nhe(t,e){return the(e)?t(...e):t(e)}(t,e))}function Sj(t,e){return t.reduce((n,r,o)=>(n[r]=e[o],n),{})}let Aj=(()=>{var t;class e{constructor(r,o){this._renderer=r,this._elementRef=o,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(r,o){this._renderer.setProperty(this._elementRef.nativeElement,r,o)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return(t=e).\u0275fac=function(r){return new(r||t)(A(ki),A(Pr))},t.\u0275dir=J({type:t}),e})(),Ga=(()=>{var t;class e extends Aj{}return(t=e).\u0275fac=function(){let n;return function(o){return(n||(n=mn(t)))(o||t)}}(),t.\u0275dir=J({type:t,features:[Ue]}),e})();const Zo=new U("NgValueAccessor"),ihe={provide:Zo,useExisting:We(()=>Z_),multi:!0},ahe=new U("CompositionEventMode");let Z_=(()=>{var t;class e extends Aj{constructor(r,o,i){super(r,o),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function she(){const t=ks()?ks().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(r){this.setProperty("value",r??"")}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(A(ki),A(Pr),A(ahe,8))},t.\u0275dir=J({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){1&r&&qn("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},features:[ct([ihe]),Ue]}),e})();function Ls(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function xj(t){return null!=t&&"number"==typeof t.length}const xn=new U("NgValidators"),Vs=new U("NgAsyncValidators"),che=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Hi{static min(e){return function Nj(t){return e=>{if(Ls(e.value)||Ls(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function Rj(t){return e=>{if(Ls(e.value)||Ls(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return function Oj(t){return Ls(t.value)?{required:!0}:null}(e)}static requiredTrue(e){return function Pj(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function kj(t){return Ls(t.value)||che.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function Fj(t){return e=>Ls(e.value)||!xj(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Lj(t){return e=>xj(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Vj(t){if(!t)return X_;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Ls(r.value))return null;const o=r.value;return e.test(o)?null:{pattern:{requiredPattern:n,actualValue:o}}}}(e)}static nullValidator(e){return null}static compose(e){return Gj(e)}static composeAsync(e){return zj(e)}}function X_(t){return null}function jj(t){return null!=t}function Uj(t){return Gf(t)?Ct(t):t}function $j(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function Bj(t,e){return e.map(n=>n(t))}function Hj(t){return t.map(e=>function uhe(t){return!t.validate}(e)?e:n=>e.validate(n))}function Gj(t){if(!t)return null;const e=t.filter(jj);return 0==e.length?null:function(n){return $j(Bj(n,e))}}function sT(t){return null!=t?Gj(Hj(t)):null}function zj(t){if(!t)return null;const e=t.filter(jj);return 0==e.length?null:function(n){return function rhe(...t){const e=B1(t),{args:n,keys:r}=Cj(t),o=new kt(i=>{const{length:s}=n;if(!s)return void i.complete();const a=new Array(s);let c=s,u=s;for(let l=0;l<s;l++){let d=!1;Mr(n[l]).subscribe(Ft(i,f=>{d||(d=!0,u--),a[l]=f},()=>c--,void 0,()=>{(!c||!d)&&(u||i.next(r?Sj(r,a):a),i.complete())}))}});return e?o.pipe(Tj(e)):o}(Bj(n,e).map(Uj)).pipe(Ve($j))}}function aT(t){return null!=t?zj(Hj(t)):null}function qj(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Wj(t){return t._rawValidators}function Kj(t){return t._rawAsyncValidators}function cT(t){return t?Array.isArray(t)?t:[t]:[]}function J_(t,e){return Array.isArray(t)?t.includes(e):t===e}function Qj(t,e){const n=cT(e);return cT(t).forEach(o=>{J_(n,o)||n.push(o)}),n}function Yj(t,e){return cT(e).filter(n=>!J_(t,n))}class Zj{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=sT(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=aT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Yn extends Zj{get formDirective(){return null}get path(){return null}}class js extends Zj{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Xj{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Jj=(()=>{var t;class e extends Xj{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(A(js,2))},t.\u0275dir=J({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){2&r&&w_("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Ue]}),e})(),eU=(()=>{var t;class e extends Xj{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(A(Yn,10))},t.\u0275dir=J({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){2&r&&w_("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[Ue]}),e})();const ch="VALID",ty="INVALID",Qu="PENDING",uh="DISABLED";function dT(t){return(ny(t)?t.validators:t)||null}function fT(t,e){return(ny(e)?e.asyncValidators:t)||null}function ny(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function nU(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new M(1e3,"");if(!r[n])throw new M(1001,"")}function rU(t,e,n){t._forEachChild((r,o)=>{if(void 0===n[o])throw new M(1002,"")})}class ry{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ch}get invalid(){return this.status===ty}get pending(){return this.status==Qu}get disabled(){return this.status===uh}get enabled(){return this.status!==uh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Qj(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Qj(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Yj(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Yj(e,this._rawAsyncValidators))}hasValidator(e){return J_(this._rawValidators,e)}hasAsyncValidator(e){return J_(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Qu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=uh,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=ch,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ch||this.status===Qu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?uh:ch}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Qu,this._hasOwnPendingAsyncValidator=!0;const n=Uj(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,o)=>r&&r._find(o),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new vt,this.statusChanges=new vt}_calculateStatus(){return this._allControlsDisabled()?uh:this.errors?ty:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Qu)?Qu:this._anyControlsHaveStatus(ty)?ty:ch}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ny(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function hhe(t){return Array.isArray(t)?sT(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function phe(t){return Array.isArray(t)?aT(t):t||null}(this._rawAsyncValidators)}}class lh extends ry{constructor(e,n,r){super(dT(n),fT(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){rU(this,0,e),Object.keys(e).forEach(r=>{nU(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,o)=>((r.enabled||this.disabled)&&(n[o]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((o,i)=>{r=n(r,o,i)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class oU extends lh{}const Yu=new U("CallSetDisabledState",{providedIn:"root",factory:()=>oy}),oy="always";function dh(t,e,n=oy){hT(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function mhe(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&iU(t,e)})}(t,e),function yhe(t,e){const n=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function _he(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&iU(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function ghe(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function sy(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),cy(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function ay(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function hT(t,e){const n=Wj(t);null!==e.validator?t.setValidators(qj(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=Kj(t);null!==e.asyncValidator?t.setAsyncValidators(qj(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const o=()=>t.updateValueAndValidity();ay(e._rawValidators,o),ay(e._rawAsyncValidators,o)}function cy(t,e){let n=!1;if(null!==t){if(null!==e.validator){const o=Wj(t);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==e.validator);i.length!==o.length&&(n=!0,t.setValidators(i))}}if(null!==e.asyncValidator){const o=Kj(t);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==e.asyncValidator);i.length!==o.length&&(n=!0,t.setAsyncValidators(i))}}}const r=()=>{};return ay(e._rawValidators,r),ay(e._rawAsyncValidators,r),n}function iU(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function cU(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function uU(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const hh=class extends ry{constructor(e=null,n,r){super(dT(n),fT(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ny(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=uU(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){cU(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){cU(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){uU(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let pU=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=J({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),mU=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=go({type:t}),t.\u0275inj=Yr({}),e})();const yT=new U("NgModelWithFormControlWarning"),Rhe={provide:Yn,useExisting:We(()=>uy)};let uy=(()=>{var t;class e extends Yn{constructor(r,o,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new vt,this._setValidators(r),this._setAsyncValidators(o)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(cy(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){const o=this.form.get(r.path);return dh(o,r,this.callSetDisabledState),o.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),o}getControl(r){return this.form.get(r.path)}removeControl(r){sy(r.control||null,r,!1),function Ehe(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,o){this.form.get(r.path).setValue(o)}onSubmit(r){return this.submitted=!0,function aU(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(r),"dialog"===r?.target?.method}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{const o=r.control,i=this.form.get(r.path);o!==i&&(sy(o||null,r),(t=>t instanceof hh)(i)&&(dh(i,r,this.callSetDisabledState),r.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){const o=this.form.get(r.path);(function sU(t,e){hT(t,e)})(o,r),o.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){const o=this.form.get(r.path);o&&function vhe(t,e){return cy(t,e)}(o,r)&&o.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){hT(this.form,this),this._oldForm&&cy(this._oldForm,this)}_checkFormPresent(){}}return(t=e).\u0275fac=function(r){return new(r||t)(A(xn,10),A(Vs,10),A(Yu,8))},t.\u0275dir=J({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,o){1&r&&qn("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ct([Rhe]),Ue,Xr]}),e})();const khe={provide:js,useExisting:We(()=>wT)};let wT=(()=>{var t;class e extends js{set isDisabled(r){}constructor(r,o,i,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new vt,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(o),this._setAsyncValidators(i),this.valueAccessor=function mT(t,e){if(!e)return null;let n,r,o;return Array.isArray(e),e.forEach(i=>{i.constructor===Z_?n=i:function whe(t){return Object.getPrototypeOf(t.constructor)===Ga}(i)?r=i:o=i}),o||r||n||null}(0,s)}ngOnChanges(r){this._added||this._setUpControl(),function gT(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return function iy(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(t=e)._ngModelWarningSentOnce=!1,t.\u0275fac=function(r){return new(r||t)(A(Yn,13),A(xn,10),A(Vs,10),A(Zo,10),A(yT,8))},t.\u0275dir=J({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[ct([khe]),Ue,Xr]}),e})(),Yhe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=go({type:t}),t.\u0275inj=Yr({imports:[mU]}),e})();class RU extends ry{constructor(e,n,r){super(dT(n),fT(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let o=this._adjustIndex(e);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),n&&(this.controls.splice(o,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){rU(this,0,e),e.forEach((r,o)=>{nU(this,!1,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function OU(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let Zhe=(()=>{var t;class e{constructor(){this.useNonNullable=!1}get nonNullable(){const r=new e;return r.useNonNullable=!0,r}group(r,o=null){const i=this._reduceControls(r);let s={};return OU(o)?s=o:null!==o&&(s.validators=o.validator,s.asyncValidators=o.asyncValidator),new lh(i,s)}record(r,o=null){const i=this._reduceControls(r);return new oU(i,o)}control(r,o,i){let s={};return this.useNonNullable?(OU(o)?s=o:(s.validators=o,s.asyncValidators=i),new hh(r,{...s,nonNullable:!0})):new hh(r,o,i)}array(r,o,i){const s=r.map(a=>this._createControl(a));return new RU(s,o,i)}_reduceControls(r){const o={};return Object.keys(r).forEach(i=>{o[i]=this._createControl(r[i])}),o}_createControl(r){return r instanceof hh||r instanceof ry?r:Array.isArray(r)?this.control(r[0],r.length>1?r[1]:null,r.length>2?r[2]:null):this.control(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Xhe=(()=>{var t;class e{static withConfig(r){return{ngModule:e,providers:[{provide:yT,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:Yu,useValue:r.callSetDisabledState??oy}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=go({type:t}),t.\u0275inj=Yr({imports:[Yhe]}),e})();function CT(...t){const e=ef(t),n=B1(t),{args:r,keys:o}=Cj(t);if(0===r.length)return Ct([],e);const i=new kt(function epe(t,e,n=Es){return r=>{PU(e,()=>{const{length:o}=t,i=new Array(o);let s=o,a=o;for(let c=0;c<o;c++)PU(e,()=>{const u=Ct(t[c],e);let l=!1;u.subscribe(Ft(r,d=>{i[c]=d,l||(l=!0,a--),a||r.next(n(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,o?s=>Sj(o,s):Es));return n?i.pipe(Tj(n)):i}function PU(t,e,n){t?Ai(n,t,e):e()}const ly=Xd(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function TT(...t){return function tpe(){return Xc(1)}()(Ct(t,ef(t)))}function kU(t){return new kt(e=>{Mr(t()).subscribe(e)})}function ph(t,e){const n=qe(t)?t:()=>t,r=o=>o.error(n());return new kt(e?o=>e.schedule(r,0,o):r)}function ST(){return Ht((t,e)=>{let n=null;t._refCount++;const r=Ft(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const o=t._connection,i=n;n=null,o&&(!i||o===i)&&o.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class FU extends kt{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,S1(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ar;const n=this.getSubject();e.add(this.source.subscribe(Ft(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ar.EMPTY)}return e}refCount(){return ST()(this)}}function Zu(t){return t<=0?()=>Vo:Ht((e,n)=>{let r=0;e.subscribe(Ft(n,o=>{++r<=t&&(n.next(o),t<=r&&n.complete())}))})}function Us(t,e){return Ht((n,r)=>{let o=0;n.subscribe(Ft(r,i=>t.call(e,i,o++)&&r.next(i)))})}function dy(t){return Ht((e,n)=>{let r=!1;e.subscribe(Ft(n,o=>{r=!0,n.next(o)},()=>{r||n.next(t),n.complete()}))})}function LU(t=rpe){return Ht((e,n)=>{let r=!1;e.subscribe(Ft(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(t())))})}function rpe(){return new ly}function qa(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Us((o,i)=>t(o,i,r)):Es,Zu(1),n?dy(e):LU(()=>new ly))}function gh(t,e){return qe(e)?dn(t,e,1):dn(t,1)}function Nn(t,e,n){const r=qe(t)||e||n?{next:t,error:e,complete:n}:t;return r?Ht((o,i)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;o.subscribe(Ft(i,c=>{var u;null===(u=r.next)||void 0===u||u.call(r,c),i.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),i.complete()},c=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,c),i.error(c)},()=>{var c,u;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):Es}function Wa(t){return Ht((e,n)=>{let i,r=null,o=!1;r=e.subscribe(Ft(n,void 0,void 0,s=>{i=Mr(t(s,Wa(t)(e))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function AT(t){return t<=0?()=>Vo:Ht((e,n)=>{let r=[];e.subscribe(Ft(n,o=>{r.push(o),t<r.length&&r.shift()},()=>{for(const o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function MT(t){return Ht((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const de="primary",mh=Symbol("RouteTitle");class upe{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Xu(t){return new upe(t)}function lpe(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const o={};for(let i=0;i<r.length;i++){const s=r[i],a=t[i];if(s.startsWith(":"))o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:o}}function Xo(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let i=0;i<n.length;i++)if(o=n[i],!VU(t[o],e[o]))return!1;return!0}function VU(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((o,i)=>r[i]===o)}return t===e}function jU(t){return t.length>0?t[t.length-1]:null}function $s(t){return function Jhe(t){return!!t&&(t instanceof kt||qe(t.lift)&&qe(t.subscribe))}(t)?t:Gf(t)?Ct(Promise.resolve(t)):G(t)}const fpe={exact:function BU(t,e,n){if(!Ka(t.segments,e.segments)||!fy(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!BU(t.children[r],e.children[r],n))return!1;return!0},subset:HU},UU={exact:function hpe(t,e){return Xo(t,e)},subset:function ppe(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>VU(t[n],e[n]))},ignored:()=>!0};function $U(t,e,n){return fpe[n.paths](t.root,e.root,n.matrixParams)&&UU[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function HU(t,e,n){return GU(t,e,e.segments,n)}function GU(t,e,n,r){if(t.segments.length>n.length){const o=t.segments.slice(0,n.length);return!(!Ka(o,n)||e.hasChildren()||!fy(o,n,r))}if(t.segments.length===n.length){if(!Ka(t.segments,n)||!fy(t.segments,n,r))return!1;for(const o in e.children)if(!t.children[o]||!HU(t.children[o],e.children[o],r))return!1;return!0}{const o=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!(Ka(t.segments,o)&&fy(t.segments,o,r)&&t.children[de])&&GU(t.children[de],e,i,r)}}function fy(t,e,n){return e.every((r,o)=>UU[n](t[o].parameters,r.parameters))}class Ju{constructor(e=new $e([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xu(this.queryParams)),this._queryParamMap}toString(){return _pe.serialize(this)}}class $e{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return hy(this)}}class _h{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Xu(this.parameters)),this._parameterMap}toString(){return WU(this)}}function Ka(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let yh=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=z({token:t,factory:function(){return new xT},providedIn:"root"}),e})();class xT{parse(e){const n=new Ape(e);return new Ju(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${vh(e.root,!0)}`,r=function Ipe(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(o=>`${py(n)}=${py(o)}`).join("&"):`${py(n)}=${py(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function ype(t){return encodeURI(t)}(e.fragment)}`:""}`}}const _pe=new xT;function hy(t){return t.segments.map(e=>WU(e)).join("/")}function vh(t,e){if(!t.hasChildren())return hy(t);if(e){const n=t.children[de]?vh(t.children[de],!1):"",r=[];return Object.entries(t.children).forEach(([o,i])=>{o!==de&&r.push(`${o}:${vh(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function mpe(t,e){let n=[];return Object.entries(t.children).forEach(([r,o])=>{r===de&&(n=n.concat(e(o,r)))}),Object.entries(t.children).forEach(([r,o])=>{r!==de&&(n=n.concat(e(o,r)))}),n}(t,(r,o)=>o===de?[vh(t.children[de],!1)]:[`${o}:${vh(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[de]?`${hy(t)}/${n[0]}`:`${hy(t)}/(${n.join("//")})`}}function zU(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function py(t){return zU(t).replace(/%3B/gi,";")}function NT(t){return zU(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gy(t){return decodeURIComponent(t)}function qU(t){return gy(t.replace(/\+/g,"%20"))}function WU(t){return`${NT(t.path)}${function vpe(t){return Object.keys(t).map(e=>`;${NT(e)}=${NT(t[e])}`).join("")}(t.parameters)}`}const wpe=/^[^\/()?;#]+/;function RT(t){const e=t.match(wpe);return e?e[0]:""}const Epe=/^[^\/()?;=#]+/,bpe=/^[^=?&#]+/,Tpe=/^[^&#]+/;class Ape{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new $e([],{}):new $e([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[de]=new $e(e,n)),r}parseSegment(){const e=RT(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new M(4009,!1);return this.capture(e),new _h(gy(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function Dpe(t){const e=t.match(Epe);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=RT(this.remaining);o&&(r=o,this.capture(r))}e[gy(n)]=gy(r)}parseQueryParam(e){const n=function Cpe(t){const e=t.match(bpe);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function Spe(t){const e=t.match(Tpe);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const o=qU(n),i=qU(r);if(e.hasOwnProperty(o)){let s=e[o];Array.isArray(s)||(s=[s],e[o]=s),s.push(i)}else e[o]=i}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=RT(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new M(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=de);const s=this.parseChildren();n[i]=1===Object.keys(s).length?s[de]:new $e([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new M(4011,!1)}}function KU(t){return t.segments.length>0?new $e([],{[de]:t}):t}function QU(t){const e={};for(const r of Object.keys(t.children)){const i=QU(t.children[r]);if(r===de&&0===i.segments.length&&i.hasChildren())for(const[s,a]of Object.entries(i.children))e[s]=a;else(i.segments.length>0||i.hasChildren())&&(e[r]=i)}return function Mpe(t){if(1===t.numberOfChildren&&t.children[de]){const e=t.children[de];return new $e(t.segments.concat(e.segments),e.children)}return t}(new $e(t.segments,e))}function Qa(t){return t instanceof Ju}function YU(t){let e;const o=KU(function n(i){const s={};for(const c of i.children){const u=n(c);s[c.outlet]=u}const a=new $e(i.url,s);return i===t&&(e=a),a}(t.root));return e??o}function ZU(t,e,n,r){let o=t;for(;o.parent;)o=o.parent;if(0===e.length)return OT(o,o,o,n,r);const i=function Npe(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new JU(!0,0,t);let e=0,n=!1;const r=t.reduce((o,i,s)=>{if("object"==typeof i&&null!=i){if(i.outlets){const a={};return Object.entries(i.outlets).forEach(([c,u])=>{a[c]="string"==typeof u?u.split("/"):u}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return"string"!=typeof i?[...o,i]:0===s?(i.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?e++:""!=a&&o.push(a))}),o):[...o,i]},[]);return new JU(n,e,r)}(e);if(i.toRoot())return OT(o,o,new $e([],{}),n,r);const s=function Rpe(t,e,n){if(t.isAbsolute)return new _y(e,!0,0);if(!n)return new _y(e,!1,NaN);if(null===n.parent)return new _y(n,!0,0);const r=my(t.commands[0])?0:1;return function Ope(t,e,n){let r=t,o=e,i=n;for(;i>o;){if(i-=o,r=r.parent,!r)throw new M(4005,!1);o=r.segments.length}return new _y(r,!1,o-i)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(i,o,t),a=s.processChildren?wh(s.segmentGroup,s.index,i.commands):e$(s.segmentGroup,s.index,i.commands);return OT(o,s.segmentGroup,a,n,r)}function my(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ih(t){return"object"==typeof t&&null!=t&&t.outlets}function OT(t,e,n,r,o){let s,i={};r&&Object.entries(r).forEach(([c,u])=>{i[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),s=t===e?n:XU(t,e,n);const a=KU(QU(s));return new Ju(a,i,o)}function XU(t,e,n){const r={};return Object.entries(t.children).forEach(([o,i])=>{r[o]=i===e?n:XU(i,e,n)}),new $e(t.segments,r)}class JU{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&my(r[0]))throw new M(4003,!1);const o=r.find(Ih);if(o&&o!==jU(r))throw new M(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class _y{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function e$(t,e,n){if(t||(t=new $e([],{})),0===t.segments.length&&t.hasChildren())return wh(t,e,n);const r=function kpe(t,e,n){let r=0,o=e;const i={match:!1,pathIndex:0,commandIndex:0};for(;o<t.segments.length;){if(r>=n.length)return i;const s=t.segments[o],a=n[r];if(Ih(a))break;const c=`${a}`,u=r<n.length-1?n[r+1]:null;if(o>0&&void 0===c)break;if(c&&u&&"object"==typeof u&&void 0===u.outlets){if(!n$(c,u,s))return i;r+=2}else{if(!n$(c,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(t,e,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const i=new $e(t.segments.slice(0,r.pathIndex),{});return i.children[de]=new $e(t.segments.slice(r.pathIndex),t.children),wh(i,0,o)}return r.match&&0===o.length?new $e(t.segments,{}):r.match&&!t.hasChildren()?PT(t,e,n):r.match?wh(t,0,o):PT(t,e,n)}function wh(t,e,n){if(0===n.length)return new $e(t.segments,{});{const r=function Ppe(t){return Ih(t[0])?t[0].outlets:{[de]:t}}(n),o={};if(Object.keys(r).some(i=>i!==de)&&t.children[de]&&1===t.numberOfChildren&&0===t.children[de].segments.length){const i=wh(t.children[de],e,n);return new $e(t.segments,i.children)}return Object.entries(r).forEach(([i,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(o[i]=e$(t.children[i],e,s))}),Object.entries(t.children).forEach(([i,s])=>{void 0===r[i]&&(o[i]=s)}),new $e(t.segments,o)}}function PT(t,e,n){const r=t.segments.slice(0,e);let o=0;for(;o<n.length;){const i=n[o];if(Ih(i)){const c=Fpe(i.outlets);return new $e(r,c)}if(0===o&&my(n[0])){r.push(new _h(t.segments[e].path,t$(n[0]))),o++;continue}const s=Ih(i)?i.outlets[de]:`${i}`,a=o<n.length-1?n[o+1]:null;s&&a&&my(a)?(r.push(new _h(s,t$(a))),o+=2):(r.push(new _h(s,{})),o++)}return new $e(r,{})}function Fpe(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=PT(new $e([],{}),0,r))}),e}function t$(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function n$(t,e,n){return t==n.path&&Xo(e,n.parameters)}const Eh="imperative";class Jo{constructor(e,n){this.id=e,this.url=n}}class yy extends Jo{constructor(e,n,r="imperative",o=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Bs extends Jo{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Dh extends Jo{constructor(e,n,r,o){super(e,n),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class el extends Jo{constructor(e,n,r,o){super(e,n),this.reason=r,this.code=o,this.type=16}}class vy extends Jo{constructor(e,n,r,o){super(e,n),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class r$ extends Jo{constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lpe extends Jo{constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vpe extends Jo{constructor(e,n,r,o,i){super(e,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class jpe extends Jo{constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Upe extends Jo{constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $pe{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Bpe{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Hpe{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gpe{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zpe{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qpe{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class o${constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class kT{}class FT{constructor(e){this.url=e}}class Wpe{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new bh,this.attachRef=null}}let bh=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,o){const i=this.getOrCreateContext(r);i.outlet=o,this.contexts.set(r,i)}onChildOutletDestroyed(r){const o=this.getContext(r);o&&(o.outlet=null,o.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let o=this.getContext(r);return o||(o=new Wpe,this.contexts.set(r,o)),o}getContext(r){return this.contexts.get(r)||null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class i${constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=LT(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=LT(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=VT(e,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return VT(e,this._root).map(n=>n.value)}}function LT(t,e){if(t===e.value)return e;for(const n of e.children){const r=LT(t,n);if(r)return r}return null}function VT(t,e){if(t===e.value)return[e];for(const n of e.children){const r=VT(t,n);if(r.length)return r.unshift(e),r}return[]}class Gi{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function tl(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class s$ extends i${constructor(e,n){super(e),this.snapshot=n,jT(this,e)}toString(){return this.snapshot.toString()}}function a$(t,e){const n=function Kpe(t,e){const s=new Iy([],{},{},"",{},de,e,null,{});return new u$("",new Gi(s,[]))}(0,e),r=new Kr([new _h("",{})]),o=new Kr({}),i=new Kr({}),s=new Kr({}),a=new Kr(""),c=new Ya(r,o,s,a,i,de,e,n.root);return c.snapshot=n.root,new s$(new Gi(c,[]),n)}class Ya{constructor(e,n,r,o,i,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Ve(u=>u[mh]))??G(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ve(e=>Xu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ve(e=>Xu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function c$(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const o=n[r],i=n[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(i.component)break;r--}}return function Qpe(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Iy{get title(){return this.data?.[mh]}constructor(e,n,r,o,i,s,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Xu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class u$ extends i${constructor(e,n){super(n),this.url=e,jT(this,n)}toString(){return l$(this._root)}}function jT(t,e){e.value._routerState=t,e.children.forEach(n=>jT(t,n))}function l$(t){const e=t.children.length>0?` { ${t.children.map(l$).join(", ")} } `:"";return`${t.value}${e}`}function UT(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Xo(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Xo(e.params,n.params)||t.paramsSubject.next(n.params),function dpe(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Xo(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Xo(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function $T(t,e){const n=Xo(t.params,e.params)&&function gpe(t,e){return Ka(t,e)&&t.every((n,r)=>Xo(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||$T(t.parent,e.parent))}let BT=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=de,this.activateEvents=new vt,this.deactivateEvents=new vt,this.attachEvents=new vt,this.detachEvents=new vt,this.parentContexts=V(bh),this.location=V(Io),this.changeDetector=V(O_),this.environmentInjector=V(eo),this.inputBinder=V(wy,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:o,previousValue:i}=r.name;if(o)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new M(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new M(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new M(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,o){this.activated=r,this._activatedRoute=o,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,o){if(this.isActivated)throw new M(4013,!1);this._activatedRoute=r;const i=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Ype(r,c,i.injector);this.activated=i.createComponent(a,{index:i.length,injector:u,environmentInjector:o??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=J({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Xr]}),e})();class Ype{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Ya?this.route:e===bh?this.childContexts:this.parent.get(e,n)}}const wy=new U("");let d$=(()=>{var t;class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){const{activatedRoute:o}=r,i=CT([o.queryParams,o.params,o.data]).pipe(jo(([s,a,c],u)=>(c={...s,...a,...c},0===u?G(c):Promise.resolve(c)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==o||null===o.component)return void this.unsubscribeFromRouteData(r);const a=function Cle(t){const e=Ee(t);if(!e)return null;const n=new jf(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(o.component);if(a)for(const{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,s[c]);else this.unsubscribeFromRouteData(r)});this.outletDataSubscriptions.set(r,i)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac}),e})();function Ch(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const o=function Xpe(t,e,n){return e.children.map(r=>{for(const o of n.children)if(t.shouldReuseRoute(r.value,o.value.snapshot))return Ch(t,r,o);return Ch(t,r)})}(t,e,n);return new Gi(r,o)}{if(t.shouldAttach(e.value)){const i=t.retrieve(e.value);if(null!==i){const s=i.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Ch(t,a)),s}}const r=function Jpe(t){return new Ya(new Kr(t.url),new Kr(t.params),new Kr(t.queryParams),new Kr(t.fragment),new Kr(t.data),t.outlet,t.component,t)}(e.value),o=e.children.map(i=>Ch(t,i));return new Gi(r,o)}}const HT="ngNavigationCancelingError";function f$(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Qa(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=h$(!1,0,e);return o.url=n,o.navigationBehaviorOptions=r,o}function h$(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[HT]=!0,r.cancellationCode=e,n&&(r.url=n),r}function p$(t){return t&&t[HT]}let g$=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Cs({type:t,selectors:[["ng-component"]],standalone:!0,features:[l2],decls:1,vars:0,template:function(r,o){1&r&&no(0,"router-outlet")},dependencies:[BT],encapsulation:2}),e})();function GT(t){const e=t.children&&t.children.map(GT),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==de&&(n.component=g$),n}function Do(t){return t.outlet||de}function Th(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class age{constructor(e,n,r,o,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),UT(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const o=tl(n);e.children.forEach(i=>{const s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(e,n,r){const o=e.value,i=n?n.value:null;if(o===i)if(o.component){const s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else i&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),o=r&&e.value.component?r.children:n,i=tl(e);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),o=r&&e.value.component?r.children:n,i=tl(e);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const o=tl(n);e.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new qpe(i.value.snapshot))}),e.children.length&&this.forwardEvent(new Gpe(e.value.snapshot))}activateRoutes(e,n,r){const o=e.value,i=n?n.value:null;if(UT(o),o===i)if(o.component){const s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(o.component){const s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),UT(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=Th(o.snapshot);s.attachRef=null,s.route=o,s.injector=a,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class m${constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ey{constructor(e,n){this.component=e,this.route=n}}function cge(t,e,n){const r=t._root;return Sh(r,e?e._root:null,n,[r.value])}function nl(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function kee(t){return null!==im(t)}(t)?e.get(t):t:r}function Sh(t,e,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=tl(e);return t.children.forEach(s=>{(function lge(t,e,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){const c=function dge(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Ka(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ka(t.url,e.url)||!Xo(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$T(t,e)||!Xo(t.queryParams,e.queryParams);default:return!$T(t,e)}}(s,i,i.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new m$(r)):(i.data=s.data,i._resolvedData=s._resolvedData),Sh(t,e,i.component?a?a.children:null:n,r,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new Ey(a.outlet.component,s))}else s&&Ah(e,a,o),o.canActivateChecks.push(new m$(r)),Sh(t,null,i.component?a?a.children:null:n,r,o)})(s,i[s.value.outlet],n,r.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>Ah(a,n.getContext(s),o)),o}function Ah(t,e,n){const r=tl(t),o=t.value;Object.entries(r).forEach(([i,s])=>{Ah(s,o.component?e?e.children.getContext(i):null:e,n)}),n.canDeactivateChecks.push(new Ey(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}function Mh(t){return"function"==typeof t}function _$(t){return t instanceof ly||"EmptyError"===t?.name}const Dy=Symbol("INITIAL_VALUE");function rl(){return jo(t=>CT(t.map(e=>e.pipe(Zu(1),function npe(...t){const e=ef(t);return Ht((n,r)=>{(e?TT(t,n,e):TT(t,n)).subscribe(r)})}(Dy)))).pipe(Ve(e=>{for(const n of e)if(!0!==n){if(n===Dy)return Dy;if(!1===n||n instanceof Ju)return n}return!0}),Us(e=>e!==Dy),Zu(1)))}function y$(t){return function LJ(...t){return b1(t)}(Nn(e=>{if(Qa(e))throw f$(0,e)}),Ve(e=>!0===e))}class by{constructor(e){this.segmentGroup=e||null}}class v${constructor(e){this.urlTree=e}}function ol(t){return ph(new by(t))}function I$(t){return ph(new v$(t))}class Nge{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new M(4002,!1)}lineralizeSegments(e,n){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return G(r);if(o.numberOfChildren>1||!o.children[de])return ph(new M(4e3,!1));o=o.children[de]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,o){const i=this.createSegmentGroup(e,n.root,r,o);return new Ju(i,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([o,i])=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[o]=n[a]}else r[o]=i}),r}createSegmentGroup(e,n,r,o){const i=this.createSegments(e,n.segments,r,o);let s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,o)}),new $e(i,s)}createSegments(e,n,r,o){return n.map(i=>i.path.startsWith(":")?this.findPosParam(e,i,o):this.findOrReturn(i,r))}findPosParam(e,n,r){const o=r[n.path.substring(1)];if(!o)throw new M(4001,!1);return o}findOrReturn(e,n){let r=0;for(const o of n){if(o.path===e.path)return n.splice(r),o;r++}return e}}const zT={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Rge(t,e,n,r,o){const i=qT(t,e,n);return i.matched?(r=function tge(t,e){return t.providers&&!t._injector&&(t._injector=Jb(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function Age(t,e,n,r){const o=e.canMatch;return o&&0!==o.length?G(o.map(s=>{const a=nl(s,t);return $s(function _ge(t){return t&&Mh(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(rl(),y$()):G(!0)}(r,e,n).pipe(Ve(s=>!0===s?i:{...zT}))):G(i)}function qT(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...zT}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const o=(e.matcher||lpe)(n,t,e);if(!o)return{...zT};const i={};Object.entries(o.posParams??{}).forEach(([a,c])=>{i[a]=c.path});const s=o.consumed.length>0?{...i,...o.consumed[o.consumed.length-1].parameters}:i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function w$(t,e,n,r){return n.length>0&&function kge(t,e,n){return n.some(r=>Cy(t,e,r)&&Do(r)!==de)}(t,n,r)?{segmentGroup:new $e(e,Pge(r,new $e(n,t.children))),slicedSegments:[]}:0===n.length&&function Fge(t,e,n){return n.some(r=>Cy(t,e,r))}(t,n,r)?{segmentGroup:new $e(t.segments,Oge(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new $e(t.segments,t.children),slicedSegments:n}}function Oge(t,e,n,r,o){const i={};for(const s of r)if(Cy(t,n,s)&&!o[Do(s)]){const a=new $e([],{});i[Do(s)]=a}return{...o,...i}}function Pge(t,e){const n={};n[de]=e;for(const r of t)if(""===r.path&&Do(r)!==de){const o=new $e([],{});n[Do(r)]=o}return n}function Cy(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class Uge{constructor(e,n,r,o,i,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new Nge(this.urlSerializer,this.urlTree)}noMatchError(e){return new M(4002,!1)}recognize(){const e=w$(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,de).pipe(Wa(n=>{if(n instanceof v$)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof by?this.noMatchError(n):n}),Ve(n=>{const r=new Iy([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},de,this.rootComponentType,null,{}),o=new Gi(r,n),i=new u$("",o),s=function xpe(t,e,n=null,r=null){return ZU(YU(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(i._root),{state:i,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,de).pipe(Wa(r=>{throw r instanceof by?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=c$(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,n,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,o,!0)}processChildren(e,n,r){const o=[];for(const i of Object.keys(r.children))"primary"===i?o.unshift(i):o.push(i);return Ct(o).pipe(gh(i=>{const s=r.children[i],a=function ige(t,e){const n=t.filter(r=>Do(r)===e);return n.push(...t.filter(r=>Do(r)!==e)),n}(n,i);return this.processSegmentGroup(e,a,s,i)}),function ipe(t,e){return Ht(function ope(t,e,n,r,o){return(i,s)=>{let a=n,c=e,u=0;i.subscribe(Ft(s,l=>{const d=u++;c=a?t(c,l,d):(a=!0,l),r&&s.next(c)},o&&(()=>{a&&s.next(c),s.complete()})))}}(t,e,arguments.length>=2,!0))}((i,s)=>(i.push(...s),i)),dy(null),function spe(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Us((o,i)=>t(o,i,r)):Es,AT(1),n?dy(e):LU(()=>new ly))}(),dn(i=>{if(null===i)return ol(r);const s=E$(i);return function $ge(t){t.sort((e,n)=>e.value.outlet===de?-1:n.value.outlet===de?1:e.value.outlet.localeCompare(n.value.outlet))}(s),G(s)}))}processSegment(e,n,r,o,i,s){return Ct(n).pipe(gh(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,o,i,s).pipe(Wa(c=>{if(c instanceof by)return G(null);throw c}))),qa(a=>!!a),Wa(a=>{if(_$(a))return function Vge(t,e,n){return 0===e.length&&!t.children[n]}(r,o,i)?G([]):ol(r);throw a}))}processSegmentAgainstRoute(e,n,r,o,i,s,a){return function Lge(t,e,n,r){return!!(Do(t)===r||r!==de&&Cy(e,n,t))&&("**"===t.path||qT(e,t,n).matched)}(r,o,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,o,r,i,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,o,n,r,i,s):ol(o):ol(o)}expandSegmentAgainstRouteUsingRedirect(e,n,r,o,i,s){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,o,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,o){const i=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?I$(i):this.applyRedirects.lineralizeSegments(r,i).pipe(dn(s=>{const a=new $e(s,{});return this.processSegment(e,n,a,s,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,o,i,s){const{matched:a,consumedSegments:c,remainingSegments:u,positionalParamSegments:l}=qT(n,o,i);if(!a)return ol(n);const d=this.applyRedirects.applyRedirectCommands(c,o.redirectTo,l);return o.redirectTo.startsWith("/")?I$(d):this.applyRedirects.lineralizeSegments(o,d).pipe(dn(f=>this.processSegment(e,r,n,f.concat(u),s,!1)))}matchSegmentAgainstRoute(e,n,r,o,i,s){let a;if("**"===r.path){const c=o.length>0?jU(o).parameters:{};a=G({snapshot:new Iy(o,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,D$(r),Do(r),r.component??r._loadedComponent??null,r,b$(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=Rge(n,r,o,e).pipe(Ve(({matched:c,consumedSegments:u,remainingSegments:l,parameters:d})=>c?{snapshot:new Iy(u,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,D$(r),Do(r),r.component??r._loadedComponent??null,r,b$(r)),consumedSegments:u,remainingSegments:l}:null));return a.pipe(jo(c=>null===c?ol(n):this.getChildConfig(e=r._injector??e,r,o).pipe(jo(({routes:u})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:f,remainingSegments:h}=c,{segmentGroup:p,slicedSegments:g}=w$(n,f,h,u);if(0===g.length&&p.hasChildren())return this.processChildren(l,u,p).pipe(Ve(y=>null===y?null:[new Gi(d,y)]));if(0===u.length&&0===g.length)return G([new Gi(d,[])]);const m=Do(r)===i;return this.processSegment(l,u,p,g,m?de:i,!0).pipe(Ve(y=>[new Gi(d,y)]))}))))}getChildConfig(e,n,r){return n.children?G({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?G({routes:n._loadedRoutes,injector:n._loadedInjector}):function Sge(t,e,n,r){const o=e.canLoad;return void 0===o||0===o.length?G(!0):G(o.map(s=>{const a=nl(s,t);return $s(function hge(t){return t&&Mh(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(rl(),y$())}(e,n,r).pipe(dn(o=>o?this.configLoader.loadChildren(e,n).pipe(Nn(i=>{n._loadedRoutes=i.routes,n._loadedInjector=i.injector})):function xge(t){return ph(h$(!1,3))}())):G({routes:[],injector:e})}}function Bge(t){const e=t.value.routeConfig;return e&&""===e.path}function E$(t){const e=[],n=new Set;for(const r of t){if(!Bge(r)){e.push(r);continue}const o=e.find(i=>r.value.routeConfig===i.value.routeConfig);void 0!==o?(o.children.push(...r.children),n.add(o)):e.push(r)}for(const r of n){const o=E$(r.children);e.push(new Gi(r.value,o))}return e.filter(r=>!n.has(r))}function D$(t){return t.data||{}}function b$(t){return t.resolve||{}}function C$(t){return"string"==typeof t.title||null===t.title}function WT(t){return jo(e=>{const n=t(e);return n?Ct(n).pipe(Ve(()=>e)):G(e)})}const il=new U("ROUTES");let KT=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=V(rV)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return G(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const o=$s(r.loadComponent()).pipe(Ve(T$),Nn(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),MT(()=>{this.componentLoaders.delete(r)})),i=new FU(o,()=>new fo).pipe(ST());return this.componentLoaders.set(r,i),i}loadChildren(r,o){if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return G({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);const s=this.loadModuleFactoryOrRoutes(o.loadChildren).pipe(Ve(c=>{this.onLoadEndListener&&this.onLoadEndListener(o);let u,l;return Array.isArray(c)?l=c:(u=c.create(r).injector,l=u.get(il,[],ge.Self|ge.Optional).flat()),{routes:l.map(GT),injector:u}}),MT(()=>{this.childrenLoaders.delete(o)})),a=new FU(s,()=>new fo).pipe(ST());return this.childrenLoaders.set(o,a),a}loadModuleFactoryOrRoutes(r){return $s(r()).pipe(Ve(T$),dn(o=>o instanceof c2||Array.isArray(o)?G(o):Ct(this.compiler.compileModuleAsync(o))))}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function T$(t){return function Qge(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Ty=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new fo,this.transitionAbortSubject=new fo,this.configLoader=V(KT),this.environmentInjector=V(eo),this.urlSerializer=V(yh),this.rootContexts=V(bh),this.inputBindingEnabled=null!==V(wy,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>G(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Bpe(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new $pe(i))}complete(){this.transitions?.complete()}handleNavigationRequest(r){const o=++this.navigationId;this.transitions?.next({...this.transitions.value,...r,id:o})}setupNavigations(r,o,i){return this.transitions=new Kr({id:0,currentUrlTree:o,currentRawUrl:o,currentBrowserUrl:o,extractedUrl:r.urlHandlingStrategy.extract(o),urlAfterRedirects:r.urlHandlingStrategy.extract(o),rawUrl:o,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Eh,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Us(s=>0!==s.id),Ve(s=>({...s,extractedUrl:r.urlHandlingStrategy.extract(s.rawUrl)})),jo(s=>{this.currentTransition=s;let a=!1,c=!1;return G(s).pipe(Nn(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),jo(u=>{const l=u.currentBrowserUrl.toString(),d=!r.navigated||u.extractedUrl.toString()!==l||l!==u.currentUrlTree.toString();if(!d&&"reload"!==(u.extras.onSameUrlNavigation??r.onSameUrlNavigation)){const h="";return this.events.next(new el(u.id,this.urlSerializer.serialize(u.rawUrl),h,0)),u.resolve(null),Vo}if(r.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return G(u).pipe(jo(h=>{const p=this.transitions?.getValue();return this.events.next(new yy(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),p!==this.transitions?.getValue()?Vo:Promise.resolve(h)}),function Hge(t,e,n,r,o,i){return dn(s=>function jge(t,e,n,r,o,i,s="emptyOnly"){return new Uge(t,e,n,r,o,s,i).recognize()}(t,e,n,r,s.extractedUrl,o,i).pipe(Ve(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,r.paramsInheritanceStrategy),Nn(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const p=new r$(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}));if(d&&r.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:h,extractedUrl:p,source:g,restoredState:m,extras:y}=u,_=new yy(h,this.urlSerializer.serialize(p),g,m);this.events.next(_);const I=a$(0,this.rootComponentType).snapshot;return this.currentTransition=s={...u,targetSnapshot:I,urlAfterRedirects:p,extras:{...y,skipLocationChange:!1,replaceUrl:!1}},G(s)}{const h="";return this.events.next(new el(u.id,this.urlSerializer.serialize(u.extractedUrl),h,1)),u.resolve(null),Vo}}),Nn(u=>{const l=new Lpe(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),Ve(u=>(this.currentTransition=s={...u,guards:cge(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},s)),function vge(t,e){return dn(n=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=n;return 0===s.length&&0===i.length?G({...n,guardsResult:!0}):function Ige(t,e,n,r){return Ct(t).pipe(dn(o=>function Tge(t,e,n,r,o){const i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return i&&0!==i.length?G(i.map(a=>{const c=Th(e)??o,u=nl(a,c);return $s(function mge(t){return t&&Mh(t.canDeactivate)}(u)?u.canDeactivate(t,e,n,r):c.runInContext(()=>u(t,e,n,r))).pipe(qa())})).pipe(rl()):G(!0)}(o.component,o.route,n,e,r)),qa(o=>!0!==o,!0))}(s,r,o,t).pipe(dn(a=>a&&function fge(t){return"boolean"==typeof t}(a)?function wge(t,e,n,r){return Ct(e).pipe(gh(o=>TT(function Dge(t,e){return null!==t&&e&&e(new Hpe(t)),G(!0)}(o.route.parent,r),function Ege(t,e){return null!==t&&e&&e(new zpe(t)),G(!0)}(o.route,r),function Cge(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(s=>function uge(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>kU(()=>G(s.guards.map(c=>{const u=Th(s.node)??n,l=nl(c,u);return $s(function gge(t){return t&&Mh(t.canActivateChild)}(l)?l.canActivateChild(r,t):u.runInContext(()=>l(r,t))).pipe(qa())})).pipe(rl())));return G(i).pipe(rl())}(t,o.path,n),function bge(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return G(!0);const o=r.map(i=>kU(()=>{const s=Th(e)??n,a=nl(i,s);return $s(function pge(t){return t&&Mh(t.canActivate)}(a)?a.canActivate(e,t):s.runInContext(()=>a(e,t))).pipe(qa())}));return G(o).pipe(rl())}(t,o.route,n))),qa(o=>!0!==o,!0))}(r,i,t,e):G(a)),Ve(a=>({...n,guardsResult:a})))})}(this.environmentInjector,u=>this.events.next(u)),Nn(u=>{if(s.guardsResult=u.guardsResult,Qa(u.guardsResult))throw f$(0,u.guardsResult);const l=new Vpe(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),Us(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",3),!1)),WT(u=>{if(u.guards.canActivateChecks.length)return G(u).pipe(Nn(l=>{const d=new jpe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),jo(l=>{let d=!1;return G(l).pipe(function Gge(t,e){return dn(n=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=n;if(!o.length)return G(n);let i=0;return Ct(o).pipe(gh(s=>function zge(t,e,n,r){const o=t.routeConfig,i=t._resolve;return void 0!==o?.title&&!C$(o)&&(i[mh]=o.title),function qge(t,e,n,r){const o=function Wge(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===o.length)return G({});const i={};return Ct(o).pipe(dn(s=>function Kge(t,e,n,r){const o=Th(e)??r,i=nl(t,o);return $s(i.resolve?i.resolve(e,n):o.runInContext(()=>i(e,n)))}(t[s],e,n,r).pipe(qa(),Nn(a=>{i[s]=a}))),AT(1),function ape(t){return Ve(()=>t)}(i),Wa(s=>_$(s)?Vo:ph(s)))}(i,t,e,r).pipe(Ve(s=>(t._resolvedData=s,t.data=c$(t,n).resolve,o&&C$(o)&&(t.data[mh]=o.title),null)))}(s.route,r,t,e)),Nn(()=>i++),AT(1),dn(s=>i===o.length?G(n):Vo))})}(r.paramsInheritanceStrategy,this.environmentInjector),Nn({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",2)}}))}),Nn(l=>{const d=new Upe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),WT(u=>{const l=d=>{const f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(Nn(h=>{d.component=h}),Ve(()=>{})));for(const h of d.children)f.push(...l(h));return f};return CT(l(u.targetSnapshot.root)).pipe(dy(),Zu(1))}),WT(()=>this.afterPreactivation()),Ve(u=>{const l=function Zpe(t,e,n){const r=Ch(t,e._root,n?n._root:void 0);return new s$(r,e)}(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s={...u,targetRouterState:l},s}),Nn(()=>{this.events.next(new kT)}),((t,e,n,r)=>Ve(o=>(new age(e,o.targetRouterState,o.currentRouterState,n,r).activate(t),o)))(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Zu(1),Nn({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Bs(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),r.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),function cpe(t){return Ht((e,n)=>{Mr(t).subscribe(Ft(n,()=>n.complete(),DE)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(Nn(u=>{throw u}))),MT(()=>{a||c||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Wa(u=>{if(c=!0,p$(u))this.events.next(new Dh(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),function ege(t){return p$(t)&&Qa(t.url)}(u)?this.events.next(new FT(u.url)):s.resolve(!1);else{this.events.next(new vy(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(u))}catch(l){s.reject(l)}}return Vo}))}))}cancelNavigationTransition(r,o,i){const s=new Dh(r.id,this.urlSerializer.serialize(r.extractedUrl),o,i);this.events.next(s),r.resolve(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function S$(t){return t!==Eh}let A$=(()=>{var t;class e{buildTitle(r){let o,i=r.root;for(;void 0!==i;)o=this.getResolvedTitleForRoute(i)??o,i=i.children.find(s=>s.outlet===de);return o}getResolvedTitleForRoute(r){return r.data[mh]}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=z({token:t,factory:function(){return V(Yge)},providedIn:"root"}),e})(),Yge=(()=>{var t;class e extends A${constructor(r){super(),this.title=r}updateTitle(r){const o=this.buildTitle(r);void 0!==o&&this.title.setTitle(o)}}return(t=e).\u0275fac=function(r){return new(r||t)(q(wj))},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Zge=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=z({token:t,factory:function(){return V(Jge)},providedIn:"root"}),e})();class Xge{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let Jge=(()=>{var t;class e extends Xge{}return(t=e).\u0275fac=function(){let n;return function(o){return(n||(n=mn(t)))(o||t)}}(),t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const Sy=new U("",{providedIn:"root",factory:()=>({})});let eme=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=z({token:t,factory:function(){return V(tme)},providedIn:"root"}),e})(),tme=(()=>{var t;class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,o){return r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var xh=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(xh||{});function M$(t,e){t.events.pipe(Us(n=>n instanceof Bs||n instanceof Dh||n instanceof vy||n instanceof el),Ve(n=>n instanceof Bs||n instanceof el?xh.COMPLETE:n instanceof Dh&&(0===n.code||1===n.code)?xh.REDIRECTING:xh.FAILED),Us(n=>n!==xh.REDIRECTING),Zu(1)).subscribe(()=>{e()})}function nme(t){throw t}function rme(t,e,n){return e.parse("/")}const ome={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ime={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Vr=(()=>{var t;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=V(tV),this.isNgZoneEnabled=!1,this._events=new fo,this.options=V(Sy,{optional:!0})||{},this.pendingTasks=V(nV),this.errorHandler=this.options.errorHandler||nme,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||rme,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=V(eme),this.routeReuseStrategy=V(Zge),this.titleStrategy=V(A$),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=V(il,{optional:!0})?.flat()??[],this.navigationTransitions=V(Ty),this.urlSerializer=V(yh),this.location=V(OC),this.componentInputBindingEnabled=!!V(wy,{optional:!0}),this.eventsSubscription=new Ar,this.isNgZoneEnabled=V(Ye)instanceof Ye&&Ye.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ju,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=a$(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(r=>{this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(o=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(x$(o)&&this._events.next(o));if(o instanceof yy)S$(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(o instanceof el)this.rawUrlTree=i.rawUrl;else if(o instanceof r$){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(s,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(o instanceof kT)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(o instanceof Dh)0!==o.code&&1!==o.code&&(this.navigated=!0),(3===o.code||2===o.code)&&this.restoreHistory(i);else if(o instanceof FT){const s=this.urlHandlingStrategy.merge(o.url,i.currentRawUrl),a={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||S$(i.source)};this.scheduleNavigation(s,Eh,null,a,{resolve:i.resolve,reject:i.reject,promise:i.promise})}o instanceof vy&&this.restoreHistory(i,!0),o instanceof Bs&&(this.navigated=!0),x$(o)&&this._events.next(o)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const r=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Eh,r)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const o="popstate"===r.type?"popstate":"hashchange";"popstate"===o&&setTimeout(()=>{this.navigateToSyncWithBrowser(r.url,o,r.state)},0)}))}navigateToSyncWithBrowser(r,o,i){const s={replaceUrl:!0},a=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const c=this.parseUrl(r);this.scheduleNavigation(c,o,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(GT),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,o={}){const{relativeTo:i,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:u}=o,l=u?this.currentUrlTree.fragment:a;let f,d=null;switch(c){case"merge":d={...this.currentUrlTree.queryParams,...s};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}null!==d&&(d=this.removeEmptyProps(d));try{f=YU(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),f=this.currentUrlTree.root}return ZU(f,r,d,l??null)}navigateByUrl(r,o={skipLocationChange:!1}){const i=Qa(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Eh,null,o)}navigate(r,o={skipLocationChange:!1}){return function sme(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new M(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,o),o)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let o;try{o=this.urlSerializer.parse(r)}catch(i){o=this.malformedUriErrorHandler(i,this.urlSerializer,r)}return o}isActive(r,o){let i;if(i=!0===o?{...ome}:!1===o?{...ime}:o,Qa(r))return $U(this.currentUrlTree,r,i);const s=this.parseUrl(r);return $U(this.currentUrlTree,s,i)}removeEmptyProps(r){return Object.keys(r).reduce((o,i)=>{const s=r[i];return null!=s&&(o[i]=s),o},{})}scheduleNavigation(r,o,i,s,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((f,h)=>{c=f,u=h});const d=this.pendingTasks.add();return M$(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:o,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:r,extras:s,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(f=>Promise.reject(f))}setBrowserUrl(r,o){const i=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(i)||o.extras.replaceUrl){const a={...o.extras.state,...this.generateNgRouterState(o.id,this.browserPageId)};this.location.replaceState(i,"",a)}else{const s={...o.extras.state,...this.generateNgRouterState(o.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(r,o=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,o){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:o}:{navigationId:r}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function x$(t){return!(t instanceof kT||t instanceof FT)}class N${}let ume=(()=>{var t;class e{constructor(r,o,i,s,a){this.router=r,this.injector=i,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Us(r=>r instanceof Bs),gh(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,o){const i=[];for(const s of o){s.providers&&!s._injector&&(s._injector=Jb(s.providers,r,`Route: ${s.path}`));const a=s._injector??r,c=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(c,s.children??s._loadedRoutes))}return Ct(i).pipe(Xc())}preloadConfig(r,o){return this.preloadingStrategy.preload(o,()=>{let i;i=o.loadChildren&&void 0===o.canLoad?this.loader.loadChildren(r,o):G(null);const s=i.pipe(dn(a=>null===a?G(void 0):(o._loadedRoutes=a.routes,o._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));return o.loadComponent&&!o._loadedComponent?Ct([s,this.loader.loadComponent(o)]).pipe(Xc()):s})}}return(t=e).\u0275fac=function(r){return new(r||t)(q(Vr),q(rV),q(eo),q(N$),q(KT))},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const YT=new U("");let R$=(()=>{var t;class e{constructor(r,o,i,s,a={}){this.urlSerializer=r,this.transitions=o,this.viewportScroller=i,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof yy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Bs?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof el&&0===r.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof o$&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,o){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new o$(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){!function Zk(){throw new Error("invalid")}()},t.\u0275prov=z({token:t,factory:t.\u0275fac}),e})();function zi(t,e){return{\u0275kind:t,\u0275providers:e}}function P$(){const t=V(kr);return e=>{const n=t.get(qu);if(e!==n.components[0])return;const r=t.get(Vr),o=t.get(k$);1===t.get(ZT)&&r.initialNavigation(),t.get(F$,null,ge.Optional)?.setUpPreloading(),t.get(YT,null,ge.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const k$=new U("",{factory:()=>new fo}),ZT=new U("",{providedIn:"root",factory:()=>1}),F$=new U("");function hme(t){return zi(0,[{provide:F$,useExisting:ume},{provide:N$,useExisting:t}])}const L$=new U("ROUTER_FORROOT_GUARD"),gme=[OC,{provide:yh,useClass:xT},Vr,bh,{provide:Ya,useFactory:function O$(t){return t.routerState.root},deps:[Vr]},KT,[]];function mme(){return new lV("Router",Vr)}let V$=(()=>{var t;class e{constructor(r){}static forRoot(r,o){return{ngModule:e,providers:[gme,[],{provide:il,multi:!0,useValue:r},{provide:L$,useFactory:Ime,deps:[[Vr,new Om,new Pm]]},{provide:Sy,useValue:o||{}},o?.useHash?{provide:Ha,useClass:xle}:{provide:Ha,useClass:UV},{provide:YT,useFactory:()=>{const t=V(Qde),e=V(Ye),n=V(Sy),r=V(Ty),o=V(yh);return n.scrollOffset&&t.setOffset(n.scrollOffset),new R$(o,r,t,e,n)}},o?.preloadingStrategy?hme(o.preloadingStrategy).\u0275providers:[],{provide:lV,multi:!0,useFactory:mme},o?.initialNavigation?wme(o):[],o?.bindToComponentInputs?zi(8,[d$,{provide:wy,useExisting:d$}]).\u0275providers:[],[{provide:j$,useFactory:P$},{provide:DC,multi:!0,useExisting:j$}]]}}static forChild(r){return{ngModule:e,providers:[{provide:il,multi:!0,useValue:r}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(q(L$,8))},t.\u0275mod=go({type:t}),t.\u0275inj=Yr({}),e})();function Ime(t){return"guarded"}function wme(t){return["disabled"===t.initialNavigation?zi(3,[{provide:gC,multi:!0,useFactory:()=>{const e=V(Vr);return()=>{e.setUpLocationChangeListener()}}},{provide:ZT,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?zi(2,[{provide:ZT,useValue:0},{provide:gC,multi:!0,deps:[kr],useFactory:e=>{const n=e.get(Ale,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const o=e.get(Vr),i=e.get(k$);M$(o,()=>{r(!0)}),e.get(Ty).afterPreactivation=()=>(r(!0),i.closed?G(void 0):i),o.initialNavigation()}))}}]).\u0275providers:[]]}const j$=new U(""),XT=new U("AnimeService");function Dme(t,e){if(1&t&&(pe(0,"div",3),no(1,"img",4),pe(2,"h2"),ye(3),Q(),pe(4,"p"),ye(5),Q()()),2&t){const n=e.$implicit;Oe(1),v_("alt",n.title),ht("src",n.imageUrl,Mf),Oe(2),Va(n.title),Oe(2),Va(n.description)}}let bme=(()=>{var t;class e{constructor(r){this.animeService=r}ngOnInit(){this.topAnimes$=Ct(this.animeService.getTopRatedAnimes())}}return(t=e).\u0275fac=function(r){return new(r||t)(A(XT))},t.\u0275cmp=Cs({type:t,selectors:[["app-home"]],decls:7,vars:3,consts:[[1,"App"],[1,"anime-list"],["class","anime",4,"ngFor","ngForOf"],[1,"anime"],[3,"src","alt"]],template:function(r,o){1&r&&(pe(0,"div",0)(1,"h1"),ye(2,"Bem-vindo ao EienOtaku!"),Q(),no(3,"router-outlet"),pe(4,"div",1),Jt(5,Dme,6,4,"div",2),tC(6,"async"),Q()()),2&r&&(Oe(5),ht("ngForOf",nC(6,1,o.topAnimes$)))},dependencies:[GC,BT,WC],styles:[".App[_ngcontent-%COMP%]{text-align:center;padding:20px;color:#fff}h1[_ngcontent-%COMP%]{font-size:24px;margin-top:20px}.anime-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:20px}.anime[_ngcontent-%COMP%]{background-color:#333;padding:10px;border-radius:5px;box-shadow:0 2px 4px #0000001a}.anime[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto;border-radius:5px}.anime[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px;margin:10px 0}.anime[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}"]}),e})(),JT=(()=>{var t;class e{constructor(){this.loggedInUser=null}registerUser(r,o,i,s){return i!==s?G(!1):(this.loggedInUser={id:1,username:r,email:o,profileImageUrl:"user123.jpg",animeList:[]},G(!0))}loginUser(r,o){return this.isLoggedIn()?G(!0):"user123"===r&&"password123"===o?(this.loggedInUser={id:1,username:r,email:"user123@example.com",profileImageUrl:"user123.jpg",animeList:[]},G(!0)):G(!1)}logoutUser(){this.loggedInUser=null}isLoggedIn(){return null!==this.loggedInUser}getLoggedInUser(){return G(this.loggedInUser)}markAnime(r,o){return this.isLoggedIn()&&this.loggedInUser.animeList.push({title:r,status:o}),G()}getMarkedAnimes(){return this.isLoggedIn()?G(this.loggedInUser.animeList):G([])}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac}),e})();function Cme(t,e){if(1&t&&(pe(0,"li"),ye(1),Q()),2&t){const n=e.$implicit;Oe(1),Gb("",n.title," - Status: ",n.status,"")}}function Tme(t,e){if(1&t&&(pe(0,"ul",6),Jt(1,Cme,2,2,"li",7),Q()),2&t){const n=e.ngIf;Oe(1),ht("ngForOf",n)}}let Sme=(()=>{var t;class e{constructor(r){this.userService=r,this.loggedInUser=null,this.markedAnimes$=null}ngOnInit(){this.loggedInUser=this.userService.getLoggedInUser(),this.markedAnimes$=this.userService.getMarkedAnimes()}}return(t=e).\u0275fac=function(r){return new(r||t)(A(JT))},t.\u0275cmp=Cs({type:t,selectors:[["app-user-profile"]],decls:19,vars:6,consts:[[1,"user-profile"],[1,"user-info"],[1,"profile-image"],["alt","Imagem de Perfil",3,"src"],[1,"profile-details"],["class","anime-list",4,"ngIf"],[1,"anime-list"],[4,"ngFor","ngForOf"]],template:function(r,o){1&r&&(pe(0,"div",0)(1,"h2"),ye(2,"Perfil do Usu\xe1rio"),Q(),pe(3,"div",1)(4,"div",2),no(5,"img",3),Q(),pe(6,"div",4)(7,"p")(8,"strong"),ye(9,"Nome de Usu\xe1rio:"),Q(),ye(10),Q(),pe(11,"p")(12,"strong"),ye(13,"Email:"),Q(),ye(14),Q()()(),pe(15,"h3"),ye(16,"Animes Marcados"),Q(),Jt(17,Tme,2,1,"ul",5),tC(18,"async"),Q()),2&r&&(Oe(5),ht("src",o.loggedInUser.profileImageUrl,Mf),Oe(5),ja(" ",o.loggedInUser.username,""),Oe(4),ja(" ",o.loggedInUser.email,""),Oe(3),ht("ngIf",nC(18,4,o.markedAnimes$)))},dependencies:[GC,ih,WC],styles:[".user-profile[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;padding:20px;background-color:#1e1e1e;border-radius:10px;box-shadow:0 4px 8px #0003;color:#fff}.user-profile[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;margin-bottom:20px}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:20px}.profile-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;margin-right:20px}.anime-list[_ngcontent-%COMP%]{list-style:none;padding:0}.anime-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:6px}"]}),e})();function Ame(t,e){if(1&t&&(pe(0,"div",2)(1,"h2"),ye(2),Q(),no(3,"img",3),pe(4,"p"),ye(5),Q(),pe(6,"p"),ye(7),Q()()),2&t){const n=zf();Oe(2),Va(n.anime.title),Oe(1),v_("alt",n.anime.title),ht("src",n.anime.image,Mf),Oe(2),Va(n.anime.description),Oe(2),ja("Data de Lan\xe7amento: ",n.anime.releaseDate,"")}}function Mme(t,e){1&t&&(pe(0,"div"),ye(1,"Anime n\xe3o encontrado."),Q())}let xme=(()=>{var t;class e{constructor(r,o){this.animeService=r,this.route=o}ngOnInit(){var r=this;return v(function*(){const o=r.route.snapshot.paramMap.get("id");o?(r.anime=yield r.animeService.getAnimeDetails(+o),r.anime||console.error("Anime n\xe3o encontrado.")):console.error("ID do anime n\xe3o fornecido.")})()}}return(t=e).\u0275fac=function(r){return new(r||t)(A(XT),A(Ya))},t.\u0275cmp=Cs({type:t,selectors:[["app-anime-details"]],decls:2,vars:2,consts:[["class","anime-details",4,"ngIf"],[4,"ngIf"],[1,"anime-details"],[3,"src","alt"]],template:function(r,o){1&r&&(Jt(0,Ame,8,5,"div",0),Jt(1,Mme,2,0,"div",1)),2&r&&(ht("ngIf",o.anime),Oe(1),ht("ngIf",!o.anime))},dependencies:[ih],styles:[".anime-details[_ngcontent-%COMP%]{text-align:center;padding:20px;color:#fff}.anime-details[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;border-radius:5px;box-shadow:0 2px 4px #0003}.anime-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;margin-top:10px}.anime-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;margin-top:10px}.anime-details[_ngcontent-%COMP%]   .not-found[_ngcontent-%COMP%]{font-size:20px;margin-top:20px;color:red}"]}),e})();function Nme(t,e){1&t&&(pe(0,"div",15),ye(1," O nome de usu\xe1rio \xe9 obrigat\xf3rio. "),Q())}function Rme(t,e){1&t&&(pe(0,"div",15),ye(1," O email \xe9 obrigat\xf3rio. "),Q())}function Ome(t,e){1&t&&(pe(0,"div",15),ye(1," Insira um email v\xe1lido. "),Q())}function Pme(t,e){1&t&&(pe(0,"div",15),ye(1," A senha \xe9 obrigat\xf3ria. "),Q())}function kme(t,e){1&t&&(pe(0,"div",15),ye(1," A senha deve conter pelo menos uma letra mai\xfascula, uma min\xfascula, um n\xfamero e um caractere especial, e ter pelo menos 8 caracteres. "),Q())}function Fme(t,e){1&t&&(pe(0,"div",15),ye(1," A confirma\xe7\xe3o de senha \xe9 obrigat\xf3ria. "),Q())}function Lme(t,e){1&t&&(pe(0,"div",15),ye(1," As senhas n\xe3o coincidem. "),Q())}function Vme(t,e){1&t&&(pe(0,"div",15),ye(1," O ID \xe9 obrigat\xf3rio. "),Q())}function jme(t,e){1&t&&(pe(0,"div",15),ye(1," O ID deve ter entre 3 e 16 caracteres. "),Q())}function Ume(t,e){if(1&t&&(pe(0,"div",15),ye(1),Q()),2&t){const n=zf();Oe(1),ja(" ",n.registrationError," ")}}const $me=[{path:"home",component:bme},{path:"user",component:Sme},{path:"register",component:(()=>{var t;class e{constructor(r,o,i){this.fb=r,this.router=o,this.userService=i,this.registrationError="",this.registrationForm=this.fb.group({username:["",Hi.required],email:["",[Hi.required,Hi.email]],password:["",[Hi.required,Hi.pattern(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/)]],confirmPassword:["",Hi.required],userId:["",[Hi.required,Hi.minLength(3),Hi.maxLength(16)]]},{validators:this.passwordsMatchValidator()})}registerUser(){if(this.registrationForm.valid){const r=this.registrationForm.get("username")?.value,o=this.registrationForm.get("email")?.value,i=this.registrationForm.get("password")?.value;this.userService.registerUser(r,o,i,i)?this.router.navigate(["/user"]):this.registrationError="O registro falhou. Por favor, verifique suas informa\xe7\xf5es."}}passwordsMatchValidator(){return r=>{const o=r.get("password"),i=r.get("confirmPassword");return o&&i&&o.value!==i.value?{passwordMismatch:!0}:null}}}return(t=e).\u0275fac=function(r){return new(r||t)(A(Zhe),A(Vr),A(JT))},t.\u0275cmp=Cs({type:t,selectors:[["app-user-registration"]],decls:36,vars:11,consts:[[1,"registration"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","username"],["type","text","id","username","formControlName","username",1,"form-control"],["class","error-message",4,"ngIf"],["for","email"],["type","email","id","email","formControlName","email",1,"form-control"],["for","password"],["type","password","id","password","formControlName","password",1,"form-control"],["for","confirmPassword"],["type","password","id","confirmPassword","formControlName","confirmPassword",1,"form-control"],["for","userId"],["type","text","id","userId","formControlName","userId",1,"form-control"],["type","submit",1,"btn","btn-primary"],[1,"error-message"]],template:function(r,o){if(1&r&&(pe(0,"div",0)(1,"h2"),ye(2,"Cadastro de Usu\xe1rio"),Q(),pe(3,"form",1),qn("ngSubmit",function(){return o.registerUser()}),pe(4,"div",2)(5,"label",3),ye(6,"Nome de Usu\xe1rio:"),Q(),no(7,"input",4),Jt(8,Nme,2,0,"div",5),Q(),pe(9,"div",2)(10,"label",6),ye(11,"Email:"),Q(),no(12,"input",7),Jt(13,Rme,2,0,"div",5),Jt(14,Ome,2,0,"div",5),Q(),pe(15,"div",2)(16,"label",8),ye(17,"Senha:"),Q(),no(18,"input",9),Jt(19,Pme,2,0,"div",5),Jt(20,kme,2,0,"div",5),Q(),pe(21,"div",2)(22,"label",10),ye(23,"Confirma\xe7\xe3o de Senha:"),Q(),no(24,"input",11),Jt(25,Fme,2,0,"div",5),Jt(26,Lme,2,0,"div",5),Q(),pe(27,"div",2)(28,"label",12),ye(29,"ID \xdanico:"),Q(),no(30,"input",13),Jt(31,Vme,2,0,"div",5),Jt(32,jme,2,0,"div",5),Q(),Jt(33,Ume,2,1,"div",5),pe(34,"button",14),ye(35,"Cadastrar"),Q()()()),2&r){let i,s,a,c,u,l,d,f,h;Oe(3),ht("formGroup",o.registrationForm),Oe(5),ht("ngIf",(null==(i=o.registrationForm.get("username"))?null:i.hasError("required"))&&(null==(i=o.registrationForm.get("username"))?null:i.touched)),Oe(5),ht("ngIf",(null==(s=o.registrationForm.get("email"))?null:s.hasError("required"))&&(null==(s=o.registrationForm.get("email"))?null:s.touched)),Oe(1),ht("ngIf",(null==(a=o.registrationForm.get("email"))?null:a.hasError("email"))&&(null==(a=o.registrationForm.get("email"))?null:a.touched)),Oe(5),ht("ngIf",(null==(c=o.registrationForm.get("password"))?null:c.hasError("required"))&&(null==(c=o.registrationForm.get("password"))?null:c.touched)),Oe(1),ht("ngIf",(null==(u=o.registrationForm.get("password"))?null:u.hasError("pattern"))&&(null==(u=o.registrationForm.get("password"))?null:u.touched)),Oe(5),ht("ngIf",(null==(l=o.registrationForm.get("confirmPassword"))?null:l.hasError("required"))&&(null==(l=o.registrationForm.get("confirmPassword"))?null:l.touched)),Oe(1),ht("ngIf",(null==o.registrationForm?null:o.registrationForm.hasError("passwordMismatch"))&&(null==(d=o.registrationForm.get("confirmPassword"))?null:d.touched)),Oe(5),ht("ngIf",(null==(f=o.registrationForm.get("userId"))?null:f.hasError("required"))&&(null==(f=o.registrationForm.get("userId"))?null:f.touched)),Oe(1),ht("ngIf",((null==(h=o.registrationForm.get("userId"))?null:h.hasError("minlength"))||(null==(h=o.registrationForm.get("userId"))?null:h.hasError("maxlength")))&&(null==(h=o.registrationForm.get("userId"))?null:h.touched)),Oe(1),ht("ngIf",o.registrationError)}},dependencies:[ih,pU,Z_,Jj,eU,uy,wT],styles:[".registration[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;padding:20px;background-color:#1e1e1e;border-radius:10px;box-shadow:0 4px 8px #0003;color:#fff}.registration[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;margin-bottom:20px}.registration[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px;display:block;margin-bottom:6px}.registration[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px;margin-bottom:16px;border:1px solid #505050;border-radius:6px;background-color:#282828;color:#fff}.registration[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#f60}.registration[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.error-message[_ngcontent-%COMP%]{color:#f33;font-size:14px;margin-top:4px}.registration[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#f60;color:#fff;border:none;padding:10px 20px;border-radius:6px;font-size:16px;cursor:pointer;transition:background-color .3s ease}.registration[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ff8000}"]}),e})()},{path:"anime",component:xme},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",component:(()=>{var t;class e{constructor(){}ngOnInit(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Cs({type:t,selectors:[["app-pagina-nao-encontrada"]],decls:2,vars:0,template:function(r,o){1&r&&(pe(0,"p"),ye(1,"pagina-nao-encontrada works!"),Q())}}),e})()}];let Bme=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=go({type:t}),t.\u0275inj=Yr({imports:[V$.forRoot($me),V$]}),e})();function Hme(t,e){if(1&t){const n=Vb();pe(0,"button",2),qn("click",function(){return sD(n),aD(zf().login())}),ye(1,"Login"),Q()}}function Gme(t,e){if(1&t){const n=Vb();pe(0,"button",2),qn("click",function(){return sD(n),aD(zf().logout())}),ye(1,"Logout"),Q()}}let zme=(()=>{var t;class e{constructor(){this.title="EienOtaku",this.isLoggedIn=!1}login(){this.isLoggedIn=!0}logout(){this.isLoggedIn=!1}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Cs({type:t,selectors:[["app-root"]],decls:5,vars:3,consts:[[1,"header"],[3,"click",4,"ngIf"],[3,"click"]],template:function(r,o){1&r&&(pe(0,"div",0)(1,"h1"),ye(2),Q(),Jt(3,Hme,2,0,"button",1),Jt(4,Gme,2,0,"button",1),Q()),2&r&&(Oe(2),Va(o.title),Oe(1),ht("ngIf",!o.isLoggedIn),Oe(1),ht("ngIf",o.isLoggedIn))},dependencies:[ih],styles:[".App[_ngcontent-%COMP%]{text-align:center;padding:20px;background-color:#1e1e1e;color:#fff}h1[_ngcontent-%COMP%]{font-size:24px;margin-top:20px}"]}),e})();const U$=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=63&o|128):55296==(64512&o)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&t.charCodeAt(++r)),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=63&o|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=63&o|128)}return e},$$={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const i=t[o],s=o+1<t.length,a=s?t[o+1]:0,c=o+2<t.length,u=c?t[o+2]:0;let f=(15&a)<<2|u>>6,h=63&u;c||(h=64,s||(f=64)),r.push(n[i>>2],n[(3&i)<<4|a>>4],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(U$(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const i=t[n++];e[r++]=String.fromCharCode((31&o)<<6|63&i)}else if(o>239&&o<365){const c=((7&o)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const i=t[n++],s=t[n++];e[r++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const i=n[t.charAt(o++)],a=o<t.length?n[t.charAt(o)]:0;++o;const u=o<t.length?n[t.charAt(o)]:64;++o;const d=o<t.length?n[t.charAt(o)]:64;if(++o,null==i||null==a||null==u||null==d)throw new Qme;r.push(i<<2|a>>4),64!==u&&(r.push(a<<4&240|u>>2),64!==d&&r.push(u<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Qme extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sl=function(t){return function(t){const e=U$(t);return $$.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Ay=function(t){try{return $$.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},My=()=>{try{return function Xme(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ay(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},H$=t=>{var e,n;return null===(n=null===(e=My())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},G$=t=>{const e=H$(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]},xy=()=>{var t;return null===(t=My())||void 0===t?void 0:t.config},z$=t=>{var e;return null===(e=My())||void 0===e?void 0:e[`_${t}`]};class q${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function W$(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",o=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[sl(JSON.stringify({alg:"none",type:"JWT"})),sl(JSON.stringify(s)),""].join(".")}function en(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function tS(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Za(){try{return"object"==typeof indexedDB}catch{return!1}}function al(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var i;e((null===(i=o.error)||void 0===i?void 0:i.message)||"")}}catch(n){e(n)}})}function nS(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Zn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Zn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ei.prototype.create)}}class ei{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,i=this.errors[e],s=i?function a_e(t,e){return t.replace(c_e,(n,r)=>{const o=e[r];return null!=o?String(o):`<${r}?>`})}(i,r):"Error";return new Zn(o,`${this.serviceName}: ${s} (${o}).`,r)}}const c_e=/\{\$([^}]+)}/g;function cl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const i=t[o],s=e[o];if(Q$(i)&&Q$(s)){if(!cl(i,s))return!1}else if(i!==s)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function Q$(t){return null!==t&&"object"==typeof t}function Ry(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class d_e{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");o=function f_e(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===o.next&&(o.next=rS),void 0===o.error&&(o.error=rS),void 0===o.complete&&(o.complete=rS);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),i}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rS(){}const h_e=1e3,p_e=2,g_e=144e5,m_e=.5;function iS(t,e=h_e,n=p_e){const r=e*Math.pow(n,t),o=Math.round(m_e*r*(Math.random()-.5)*2);return Math.min(g_e,r+o)}function bo(t){return t&&t._delegate?t._delegate:t}class Wt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Xa="[DEFAULT]";class y_e{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new q$;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),o=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(o)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(o)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function I_e(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Xa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:o});r.resolve(i)}catch{}}}}clearInstance(e=Xa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return v(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Xa){return this.instances.has(e)}getOptions(e=Xa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(i)&&s.resolve(o);return o}onInit(e,n){var r;const o=this.normalizeInstanceIdentifier(n),i=null!==(r=this.onInitCallbacks.get(o))&&void 0!==r?r:new Set;i.add(e),this.onInitCallbacks.set(o,i);const s=this.instances.get(o);return s&&e(s,o),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Xa?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Xa){return this.component?this.component.multipleInstances?e:Xa:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Y${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new y_e(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const sS=[];var Me=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Me||{});const Z$={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},w_e=Me.INFO,E_e={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},D_e=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),o=E_e[e];if(!o)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[o](`[${r}]  ${t.name}:`,...n)};class ul{constructor(e){this.name=e,this._logLevel=w_e,this._logHandler=D_e,this._userLogHandler=null,sS.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Z$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const b_e=(t,e)=>e.some(n=>t instanceof n);let X$,J$;const eB=new WeakMap,aS=new WeakMap,tB=new WeakMap,cS=new WeakMap,uS=new WeakMap;let lS={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return aS.get(t);if("objectStoreNames"===e)return t.objectStoreNames||tB.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hs(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function N_e(t){return"function"==typeof t?function x_e(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function T_e(){return J$||(J$=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(dS(this),e),Hs(eB.get(this))}:function(...e){return Hs(t.apply(dS(this),e))}:function(e,...n){const r=t.call(dS(this),e,...n);return tB.set(r,e.sort?e.sort():[e]),Hs(r)}}(t):(t instanceof IDBTransaction&&function A_e(t){if(aS.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",s),t.removeEventListener("abort",s)},i=()=>{n(),o()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",i),t.addEventListener("error",s),t.addEventListener("abort",s)});aS.set(t,e)}(t),b_e(t,function C_e(){return X$||(X$=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,lS):t)}function Hs(t){if(t instanceof IDBRequest)return function S_e(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",i),t.removeEventListener("error",s)},i=()=>{n(Hs(t.result)),o()},s=()=>{r(t.error),o()};t.addEventListener("success",i),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&eB.set(n,t)}).catch(()=>{}),uS.set(e,t),e}(t);if(cS.has(t))return cS.get(t);const e=N_e(t);return e!==t&&(cS.set(t,e),uS.set(e,t)),e}const dS=t=>uS.get(t);function nB(t,e,{blocked:n,upgrade:r,blocking:o,terminated:i}={}){const s=indexedDB.open(t,e),a=Hs(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Hs(s.result),c.oldVersion,c.newVersion,Hs(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),o&&c.addEventListener("versionchange",u=>o(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const R_e=["get","getKey","getAll","getAllKeys","count"],O_e=["put","add","delete","clear"],fS=new Map;function rB(t,e){var n;if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(fS.get(e))return fS.get(e);const r=e.replace(/FromIndex$/,""),o=e!==r,i=O_e.includes(r);if(!(r in(o?IDBIndex:IDBObjectStore).prototype)||!i&&!R_e.includes(r))return;const s=function(c){return(n=n||v(function*(u,...l){const d=this.transaction(u,i?"readwrite":"readonly");let f=d.store;return o&&(f=f.index(l.shift())),(yield Promise.all([f[r](...l),i&&d.done]))[0]})).apply(this,arguments)};return fS.set(e,s),s}var iB,sB;!function M_e(t){lS=t(lS)}(t=>({...t,get:(e,n,r)=>rB(e,n)||t.get(e,n,r),has:(e,n)=>!!rB(e,n)||t.has(e,n)}));class P_e{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function k_e(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const hS="@firebase/app",Ja=new ul("@firebase/app"),Oy="[DEFAULT]",aye={[hS]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ec=new Map,Py=new Map;function cye(t,e){try{t.container.addComponent(e)}catch(n){Ja.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ll(t){const e=t.name;if(Py.has(e))return Ja.debug(`There were multiple attempts to register component ${e}.`),!1;Py.set(e,t);for(const n of ec.values())cye(n,t);return!0}function ky(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const qi=new ei("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class lye{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Wt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qi.create("app-deleted",{appName:this._name})}}const dl="9.23.0";function pS(t=Oy){const e=ec.get(t);if(!e&&t===Oy&&xy())return function dye(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Oy,automaticDataCollectionEnabled:!1},e),o=r.name;if("string"!=typeof o||!o)throw qi.create("bad-app-name",{appName:String(o)});if(n||(n=xy()),!n)throw qi.create("no-options");const i=ec.get(o);if(i){if(cl(n,i.options)&&cl(r,i.config))return i;throw qi.create("duplicate-app",{appName:o})}const s=new Y$(o);for(const c of Py.values())s.addComponent(c);const a=new lye(n,r,s);return ec.set(o,a),a}();if(!e)throw qi.create("no-app",{appName:t});return e}function Gs(t,e,n){var r;let o=null!==(r=aye[t])&&void 0!==r?r:t;n&&(o+=`-${n}`);const i=o.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${o}" with version "${e}":`];return i&&a.push(`library name "${o}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Ja.warn(a.join(" "))}ll(new Wt(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}const fye="firebase-heartbeat-database",hye=1,Nh="firebase-heartbeat-store";let gS=null;function uB(){return gS||(gS=nB(fye,hye,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Nh)}}).catch(t=>{throw qi.create("idb-open",{originalErrorMessage:t.message})})),gS}function lB(t,e){return(sB=sB||v(function*(n,r){try{const i=(yield uB()).transaction(Nh,"readwrite");yield i.objectStore(Nh).put(r,dB(n)),yield i.done}catch(o){if(o instanceof Zn)Ja.warn(o.message);else{const i=qi.create("idb-set",{originalErrorMessage:o?.message});Ja.warn(i.message)}}})).apply(this,arguments)}function dB(t){return`${t.name}!${t.options.appId}`}class _ye{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new vye(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return v(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=fB();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==o&&!e._heartbeatsCache.heartbeats.some(i=>i.date===o))return e._heartbeatsCache.heartbeats.push({date:o,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return v(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=fB(),{heartbeatsToSend:r,unsentEntries:o}=function yye(t,e=1024){const n=[];let r=t.slice();for(const o of t){const i=n.find(s=>s.agent===o.agent);if(i){if(i.dates.push(o.date),hB(n)>e){i.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),hB(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),i=sl(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(e._heartbeatsCache.heartbeats=o,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),i})()}}function fB(){return(new Date).toISOString().substring(0,10)}class vye{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(function*(){return!!Za()&&al().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return v(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function pye(t){return(iB=iB||v(function*(e){try{return yield(yield uB()).transaction(Nh).objectStore(Nh).get(dB(e))}catch(n){if(n instanceof Zn)Ja.warn(n.message);else{const r=qi.create("idb-get",{originalErrorMessage:n?.message});Ja.warn(r.message)}}})).apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return v(function*(){var r;if(yield n._canUseIndexedDBPromise){const i=yield n.read();return lB(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return v(function*(){var r;if(yield n._canUseIndexedDBPromise){const i=yield n.read();return lB(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}})()}}function hB(t){return sl(JSON.stringify({version:2,heartbeats:t})).length}function Vt(t){return"function"==typeof t}function pB(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}!function Iye(t){ll(new Wt("platform-logger",e=>new P_e(e),"PRIVATE")),ll(new Wt("heartbeat",e=>new _ye(e),"PRIVATE")),Gs(hS,"0.9.13",t),Gs(hS,"0.9.13","esm2017"),Gs("fire-js","")}(""),Gs("firebase","9.23.0","app");const mS=pB(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function _S(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class ti{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const i of n)i.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Vt(r))try{r()}catch(i){e=i instanceof mS?i.errors:[i]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const i of o)try{_B(i)}catch(s){e=e??[],s instanceof mS?e=[...e,...s.errors]:e.push(s)}}if(e)throw new mS(e)}}add(e){var n;if(e&&e!==this)if(this.closed)_B(e);else{if(e instanceof ti){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&_S(n,e)}remove(e){const{_finalizers:n}=this;n&&_S(n,e),e instanceof ti&&e._removeParent(this)}}function mB(t){return t instanceof ti||t&&"closed"in t&&Vt(t.remove)&&Vt(t.add)&&Vt(t.unsubscribe)}function _B(t){Vt(t)?t():t.unsubscribe()}ti.EMPTY=(()=>{const t=new ti;return t.closed=!0,t})();const tc={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Fy={setTimeout(t,e,...n){const{delegate:r}=Fy;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Fy;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function vB(){}const Dye=yS("C",void 0,void 0);function yS(t,e,n){return{kind:t,value:e,error:n}}let nc=null;class vS extends ti{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,mB(e)&&e.add(this)):this.destination=xye}static create(e,n,r){return new Rh(e,n,r)}next(e){this.isStopped?wS(function Cye(t){return yS("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?wS(function bye(t){return yS("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?wS(Dye,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Sye=Function.prototype.bind;function IS(t,e){return Sye.call(t,e)}class Aye{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Vy(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Vy(r)}else Vy(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Vy(n)}}}class Rh extends vS{constructor(e,n,r){let o;if(super(),Vt(e)||!e)o={next:e??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&tc.useDeprecatedNextContext?(i=Object.create(e),i.unsubscribe=()=>this.unsubscribe(),o={next:e.next&&IS(e.next,i),error:e.error&&IS(e.error,i),complete:e.complete&&IS(e.complete,i)}):o=e}this.destination=new Aye(o)}}function Vy(t){tc.useDeprecatedSynchronousErrorHandling?function Tye(t){tc.useDeprecatedSynchronousErrorHandling&&nc&&(nc.errorThrown=!0,nc.error=t)}(t):function yB(t){Fy.setTimeout(()=>{const{onUnhandledError:e}=tc;if(!e)throw t;e(t)})}(t)}function wS(t,e){const{onStoppedNotification:n}=tc;n&&Fy.setTimeout(()=>n(t,e))}const xye={closed:!0,next:vB,error:function Mye(t){throw t},complete:vB},ES="function"==typeof Symbol&&Symbol.observable||"@@observable";function jy(t){return t}let Rn=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,o){const i=function Rye(t){return t&&t instanceof vS||function Nye(t){return t&&Vt(t.next)&&Vt(t.error)&&Vt(t.complete)}(t)&&mB(t)}(n)?n:new Rh(n,r,o);return function Ly(t){if(tc.useDeprecatedSynchronousErrorHandling){const e=!nc;if(e&&(nc={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=nc;if(nc=null,n)throw r}}else t()}(()=>{const{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=wB(r))((o,i)=>{const s=new Rh({next:a=>{try{n(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[ES](){return this}pipe(...n){return function IB(t){return 0===t.length?jy:1===t.length?t[0]:function(n){return t.reduce((r,o)=>o(r),n)}}(n)(this)}toPromise(n){return new(n=wB(n))((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return t.create=e=>new t(e),t})();function wB(t){var e;return null!==(e=t??tc.Promise)&&void 0!==e?e:Promise}function zs(t){return e=>{if(function Pye(t){return Vt(t?.lift)}(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function qs(t,e,n,r,o){return new kye(t,e,n,r,o)}pB(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});class kye extends vS{constructor(e,n,r,o,i,s){super(e),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function CS(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}function Ks(t,e,n,r=0,o=!1){const i=e.schedule(function(){n(),o?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(i),!o)return i}function $y(t,e=0){return zs((n,r)=>{n.subscribe(qs(r,o=>Ks(r,t,()=>r.next(o),e),()=>Ks(r,t,()=>r.complete(),e),o=>Ks(r,t,()=>r.error(o),e)))})}function By(t,e=0){return zs((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}"function"==typeof SuppressedError&&SuppressedError,function rve(){"function"==typeof Symbol&&Symbol.iterator&&Symbol}(),new Rn(t=>t.complete()),Error,globalThis;class gc{constructor(e){return e}}var M6,x6;class ZAe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function XAe(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const EM="@firebase/app",mc=new ul("@firebase/app"),_I="[DEFAULT]",bMe={[EM]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},_c=new Map,yI=new Map;function CMe(t,e){try{t.container.addComponent(e)}catch(n){mc.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function No(t){const e=t.name;if(yI.has(e))return mc.debug(`There were multiple attempts to register component ${e}.`),!1;yI.set(e,t);for(const n of _c.values())CMe(n,t);return!0}function vI(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const os=new ei("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class SMe{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Wt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw os.create("app-deleted",{appName:this._name})}}function Gr(t,e,n){var r;let o=null!==(r=bMe[t])&&void 0!==r?r:t;n&&(o+=`-${n}`);const i=o.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${o}" with version "${e}":`];return i&&a.push(`library name "${o}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void mc.warn(a.join(" "))}No(new Wt(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}const xMe="firebase-heartbeat-database",NMe=1,Mp="firebase-heartbeat-store";let DM=null;function O6(){return DM||(DM=nB(xMe,NMe,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Mp)}}).catch(t=>{throw os.create("idb-open",{originalErrorMessage:t.message})})),DM}function P6(t,e){return(x6=x6||v(function*(n,r){try{const i=(yield O6()).transaction(Mp,"readwrite");yield i.objectStore(Mp).put(r,k6(n)),yield i.done}catch(o){if(o instanceof Zn)mc.warn(o.message);else{const i=os.create("idb-set",{originalErrorMessage:o?.message});mc.warn(i.message)}}})).apply(this,arguments)}function k6(t){return`${t.name}!${t.options.appId}`}class kMe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new LMe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return v(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=F6();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==o&&!e._heartbeatsCache.heartbeats.some(i=>i.date===o))return e._heartbeatsCache.heartbeats.push({date:o,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return v(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=F6(),{heartbeatsToSend:r,unsentEntries:o}=function FMe(t,e=1024){const n=[];let r=t.slice();for(const o of t){const i=n.find(s=>s.agent===o.agent);if(i){if(i.dates.push(o.date),L6(n)>e){i.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),L6(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),i=sl(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(e._heartbeatsCache.heartbeats=o,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),i})()}}function F6(){return(new Date).toISOString().substring(0,10)}class LMe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(function*(){return!!Za()&&al().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return v(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function RMe(t){return(M6=M6||v(function*(e){try{return yield(yield O6()).transaction(Mp).objectStore(Mp).get(k6(e))}catch(n){if(n instanceof Zn)mc.warn(n.message);else{const r=os.create("idb-get",{originalErrorMessage:n?.message});mc.warn(r.message)}}})).apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return v(function*(){var r;if(yield n._canUseIndexedDBPromise){const i=yield n.read();return P6(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return v(function*(){var r;if(yield n._canUseIndexedDBPromise){const i=yield n.read();return P6(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}})()}}function L6(t){return sl(JSON.stringify({version:2,heartbeats:t})).length}!function VMe(t){No(new Wt("platform-logger",e=>new ZAe(e),"PRIVATE")),No(new Wt("heartbeat",e=>new kMe(e),"PRIVATE")),Gr(EM,"0.9.18",t),Gr(EM,"0.9.18","esm2017"),Gr("fire-js","")}("");const jMe=(t,e)=>e.some(n=>t instanceof n);let V6,j6;const U6=new WeakMap,bM=new WeakMap,$6=new WeakMap,CM=new WeakMap,TM=new WeakMap;let SM={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return bM.get(t);if("objectStoreNames"===e)return t.objectStoreNames||$6.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ra(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function qMe(t){return"function"==typeof t?function zMe(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function $Me(){return j6||(j6=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(AM(this),e),ra(U6.get(this))}:function(...e){return ra(t.apply(AM(this),e))}:function(e,...n){const r=t.call(AM(this),e,...n);return $6.set(r,e.sort?e.sort():[e]),ra(r)}}(t):(t instanceof IDBTransaction&&function HMe(t){if(bM.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",s),t.removeEventListener("abort",s)},i=()=>{n(),o()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",i),t.addEventListener("error",s),t.addEventListener("abort",s)});bM.set(t,e)}(t),jMe(t,function UMe(){return V6||(V6=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,SM):t)}function ra(t){if(t instanceof IDBRequest)return function BMe(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",i),t.removeEventListener("error",s)},i=()=>{n(ra(t.result)),o()},s=()=>{r(t.error),o()};t.addEventListener("success",i),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&U6.set(n,t)}).catch(()=>{}),TM.set(e,t),e}(t);if(CM.has(t))return CM.get(t);const e=qMe(t);return e!==t&&(CM.set(t,e),TM.set(e,t)),e}const AM=t=>TM.get(t),KMe=["get","getKey","getAll","getAllKeys","count"],QMe=["put","add","delete","clear"],MM=new Map;function B6(t,e){var n;if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(MM.get(e))return MM.get(e);const r=e.replace(/FromIndex$/,""),o=e!==r,i=QMe.includes(r);if(!(r in(o?IDBIndex:IDBObjectStore).prototype)||!i&&!KMe.includes(r))return;const s=function(c){return(n=n||v(function*(u,...l){const d=this.transaction(u,i?"readwrite":"readonly");let f=d.store;return o&&(f=f.index(l.shift())),(yield Promise.all([f[r](...l),i&&d.done]))[0]})).apply(this,arguments)};return MM.set(e,s),s}var H6,G6,z6,q6,W6,K6,Q6,Y6,Z6,X6,J6,e5,t5,n5,r5,o5;!function GMe(t){SM=t(SM)}(t=>({...t,get:(e,n,r)=>B6(e,n)||t.get(e,n,r),has:(e,n)=>!!B6(e,n)||t.has(e,n)}));const a5="@firebase/installations",xM="0.6.4",c5=1e4,u5=`w:${xM}`,l5="FIS_v2",YMe="https://firebaseinstallations.googleapis.com/v1",ZMe=36e5,is=new ei("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function d5(t){return t instanceof Zn&&t.code.includes("request-failed")}function NM({projectId:t}){return`${YMe}/projects/${t}/installations`}function f5(t){return{token:t.token,requestStatus:2,expiresIn:txe(t.expiresIn),creationTime:Date.now()}}function RM(t,e){return(H6=H6||v(function*(n,r){const i=(yield r.json()).error;return is.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})})).apply(this,arguments)}function h5({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function OM(t){return(G6=G6||v(function*(e){const n=yield e();return n.status>=500&&n.status<600?e():n})).apply(this,arguments)}function txe(t){return Number(t.replace("s","000"))}function g5(t){return new Promise(e=>{setTimeout(e,t)})}const ixe=/^[cdef][\w-]{21}$/,PM="";function sxe(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function axe(t){return function oxe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return ixe.test(n)?n:PM}catch{return PM}}function rd(t){return`${t.appName}!${t.appId}`}const od=new Map;function m5(t,e){const n=rd(t);_5(n,e),function lxe(t,e){const n=function y5(){return!yc&&"BroadcastChannel"in self&&(yc=new BroadcastChannel("[Firebase] FID Change"),yc.onmessage=t=>{_5(t.data.key,t.data.fid)}),yc}();n&&n.postMessage({key:t,fid:e}),function v5(){0===od.size&&yc&&(yc.close(),yc=null)}()}(n,e)}function _5(t,e){const n=od.get(t);if(n)for(const r of n)r(e)}let yc=null;const dxe="firebase-installations-database",fxe=1,vc="firebase-installations-store";let kM=null;function FM(){return kM||(kM=function WMe(t,e,{blocked:n,upgrade:r,blocking:o,terminated:i}={}){const s=indexedDB.open(t,e),a=ra(s);return r&&s.addEventListener("upgradeneeded",c=>{r(ra(s.result),c.oldVersion,c.newVersion,ra(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(c=>{i&&c.addEventListener("close",()=>i()),o&&c.addEventListener("versionchange",()=>o())}).catch(()=>{}),a}(dxe,fxe,{upgrade:(t,e)=>{0===e&&t.createObjectStore(vc)}})),kM}function II(t,e){return(q6=q6||v(function*(n,r){const o=rd(n),s=(yield FM()).transaction(vc,"readwrite"),a=s.objectStore(vc),c=yield a.get(o);return yield a.put(r,o),yield s.done,(!c||c.fid!==r.fid)&&m5(n,r.fid),r})).apply(this,arguments)}function LM(t){return(W6=W6||v(function*(e){const n=rd(e),o=(yield FM()).transaction(vc,"readwrite");yield o.objectStore(vc).delete(n),yield o.done})).apply(this,arguments)}function xp(t,e){return(K6=K6||v(function*(n,r){const o=rd(n),s=(yield FM()).transaction(vc,"readwrite"),a=s.objectStore(vc),c=yield a.get(o),u=r(c);return void 0===u?yield a.delete(o):yield a.put(u,o),yield s.done,u&&(!c||c.fid!==u.fid)&&m5(n,u.fid),u})).apply(this,arguments)}function VM(t){return(Q6=Q6||v(function*(e){let n;const r=yield xp(e.appConfig,o=>{const i=function hxe(t){return w5(t||{fid:sxe(),registrationStatus:0})}(o),s=function pxe(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(is.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function gxe(t,e){return(Y6=Y6||v(function*(n,r){try{const o=yield function rxe(t,e){return(z6=z6||v(function*({appConfig:n,heartbeatServiceProvider:r},{fid:o}){const i=NM(n),s=h5(n),a=r.getImmediate({optional:!0});if(a){const d=yield a.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const u={method:"POST",headers:s,body:JSON.stringify({fid:o,authVersion:l5,appId:n.appId,sdkVersion:u5})},l=yield OM(()=>fetch(i,u));if(l.ok){const d=yield l.json();return{fid:d.fid||o,registrationStatus:2,refreshToken:d.refreshToken,authToken:f5(d.authToken)}}throw yield RM("Create Installation",l)})).apply(this,arguments)}(n,r);return II(n.appConfig,o)}catch(o){throw d5(o)&&409===o.customData.serverCode?yield LM(n.appConfig):yield II(n.appConfig,{fid:r.fid,registrationStatus:0}),o}})).apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:mxe(t)}:{installationEntry:e}}(e,i);return n=s.registrationPromise,s.installationEntry});return r.fid===PM?{installationEntry:yield n}:{installationEntry:r,registrationPromise:n}})).apply(this,arguments)}function mxe(t){return(Z6=Z6||v(function*(e){let n=yield I5(e.appConfig);for(;1===n.registrationStatus;)yield g5(100),n=yield I5(e.appConfig);if(0===n.registrationStatus){const{installationEntry:r,registrationPromise:o}=yield VM(e);return o||r}return n})).apply(this,arguments)}function I5(t){return xp(t,e=>{if(!e)throw is.create("installation-not-found");return w5(e)})}function w5(t){return function _xe(t){return 1===t.registrationStatus&&t.registrationTime+c5<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function yxe(t,e){return(X6=X6||v(function*({appConfig:n,heartbeatServiceProvider:r},o){const i=function vxe(t,{fid:e}){return`${NM(t)}/${e}/authTokens:generate`}(n,o),s=function p5(t,{refreshToken:e}){const n=h5(t);return n.append("Authorization",function nxe(t){return`${l5} ${t}`}(e)),n}(n,o),a=r.getImmediate({optional:!0});if(a){const d=yield a.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const u={method:"POST",headers:s,body:JSON.stringify({installation:{sdkVersion:u5,appId:n.appId}})},l=yield OM(()=>fetch(i,u));if(l.ok)return f5(yield l.json());throw yield RM("Generate Auth Token",l)})).apply(this,arguments)}function jM(t){return(J6=J6||v(function*(e,n=!1){let r;const o=yield xp(e.appConfig,s=>{if(!D5(s))throw is.create("not-registered");const a=s.authToken;if(!n&&function Exe(t){return 2===t.requestStatus&&!function Dxe(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+ZMe}(t)}(a))return s;if(1===a.requestStatus)return r=function Ixe(t,e){return(e5=e5||v(function*(n,r){let o=yield E5(n.appConfig);for(;1===o.authToken.requestStatus;)yield g5(100),o=yield E5(n.appConfig);const i=o.authToken;return 0===i.requestStatus?jM(n,r):i})).apply(this,arguments)}(e,n),s;{if(!navigator.onLine)throw is.create("app-offline");const c=function bxe(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return r=function wxe(t,e){return(t5=t5||v(function*(n,r){try{const o=yield yxe(n,r),i=Object.assign(Object.assign({},r),{authToken:o});return yield II(n.appConfig,i),o}catch(o){if(!d5(o)||401!==o.customData.serverCode&&404!==o.customData.serverCode){const i=Object.assign(Object.assign({},r),{authToken:{requestStatus:0}});yield II(n.appConfig,i)}else yield LM(n.appConfig);throw o}})).apply(this,arguments)}(e,c),c}});return r?yield r:o.authToken})).apply(this,arguments)}function E5(t){return xp(t,e=>{if(!D5(e))throw is.create("not-registered");return function Cxe(t){return 1===t.requestStatus&&t.requestTime+c5<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function D5(t){return void 0!==t&&2===t.registrationStatus}function UM(t){return is.create("missing-app-config-values",{valueName:t})}const b5="installations",Oxe=t=>{const e=t.getProvider("app").getImmediate(),n=function Nxe(t){if(!t||!t.options)throw UM("App Configuration");if(!t.name)throw UM("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw UM(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:vI(e,"heartbeat"),_delete:()=>Promise.resolve()}},Pxe=t=>{const n=vI(t.getProvider("app").getImmediate(),b5).getImmediate();return{getId:()=>function Txe(t){return(n5=n5||v(function*(e){const n=e,{installationEntry:r,registrationPromise:o}=yield VM(n);return o?o.catch(console.error):jM(n).catch(console.error),r.fid})).apply(this,arguments)}(n),getToken:o=>function Sxe(t){return(r5=r5||v(function*(e,n=!1){const r=e;return yield function Axe(t){return(o5=o5||v(function*(e){const{registrationPromise:n}=yield VM(e);n&&(yield n)})).apply(this,arguments)}(r),(yield jM(r,n)).token})).apply(this,arguments)}(n,o)}};var A5;(function kxe(){No(new Wt(b5,Oxe,"PUBLIC")),No(new Wt("installations-internal",Pxe,"PRIVATE"))})(),Gr(a5,xM),Gr(a5,xM,"esm2017");const $M="@firebase/remote-config",Dr=new ei("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class qxe{constructor(e,n,r,o){this.client=e,this.storage=n,this.storageCache=r,this.logger=o}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,o=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${o}.`),o}fetch(e){var n=this;return v(function*(){const[r,o]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(o&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return o;e.eTag=o&&o.eTag;const i=yield n.client.fetch(e),s=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===i.status&&s.push(n.storage.setLastSuccessfulFetchResponse(i)),yield Promise.all(s),i})()}}function Wxe(t=navigator){return t.languages&&t.languages[0]||t.language}class Kxe{constructor(e,n,r,o,i,s){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=o,this.apiKey=i,this.appId=s}fetch(e){var n=this;return v(function*(){const[r,o]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),s=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},c={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:o,app_id:n.appId,language_code:Wxe()},u={method:"POST",headers:a,body:JSON.stringify(c)},l=fetch(s,u),d=new Promise((y,_)=>{e.signal.addEventListener(()=>{const I=new Error("The operation was aborted.");I.name="AbortError",_(I)})});let f;try{yield Promise.race([l,d]),f=yield l}catch(y){let _="fetch-client-network";throw"AbortError"===y?.name&&(_="fetch-timeout"),Dr.create(_,{originalErrorMessage:y?.message})}let h=f.status;const p=f.headers.get("ETag")||void 0;let g,m;if(200===f.status){let y;try{y=yield f.json()}catch(_){throw Dr.create("fetch-client-parse",{originalErrorMessage:_?.message})}g=y.entries,m=y.state}if("INSTANCE_STATE_UNSPECIFIED"===m?h=500:"NO_CHANGE"===m?h=304:("NO_TEMPLATE"===m||"EMPTY_CONFIG"===m)&&(g={}),304!==h&&200!==h)throw Dr.create("fetch-status",{httpStatus:h});return{status:h,eTag:p,config:g}})()}}class Zxe{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return v(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var o=this;return v(function*(){yield function Qxe(t,e){return new Promise((n,r)=>{const o=Math.max(e-Date.now(),0),i=setTimeout(n,o);t.addEventListener(()=>{clearTimeout(i),r(Dr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const i=yield o.client.fetch(e);return yield o.storage.deleteThrottleMetadata(),i}catch(i){if(!function Yxe(t){if(!(t instanceof Zn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(i))throw i;const s={throttleEndTimeMillis:Date.now()+iS(r),backoffCount:r+1};return yield o.storage.setThrottleMetadata(s),o.attemptFetch(e,s)}})()}}class eNe{constructor(e,n,r,o,i){this.app=e,this._client=n,this._storageCache=r,this._storage=o,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function EI(t,e){const n=t.target.error||void 0;return Dr.create(e,{originalErrorMessage:n&&n?.message})}const Ic="app_namespace_store";class oNe{constructor(e,n,r,o=function rNe(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(EI(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Ic,{keyPath:"compositeKey"})}}catch(n){e(Dr.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=o}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return v(function*(){const r=yield n.openDbPromise;return new Promise((o,i)=>{const a=r.transaction([Ic],"readonly").objectStore(Ic),c=n.createCompositeKey(e);try{const u=a.get(c);u.onerror=l=>{i(EI(l,"storage-get"))},u.onsuccess=l=>{const d=l.target.result;o(d?d.value:void 0)}}catch(u){i(Dr.create("storage-get",{originalErrorMessage:u?.message}))}})})()}set(e,n){var r=this;return v(function*(){const o=yield r.openDbPromise;return new Promise((i,s)=>{const c=o.transaction([Ic],"readwrite").objectStore(Ic),u=r.createCompositeKey(e);try{const l=c.put({compositeKey:u,value:n});l.onerror=d=>{s(EI(d,"storage-set"))},l.onsuccess=()=>{i()}}catch(l){s(Dr.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return v(function*(){const r=yield n.openDbPromise;return new Promise((o,i)=>{const a=r.transaction([Ic],"readwrite").objectStore(Ic),c=n.createCompositeKey(e);try{const u=a.delete(c);u.onerror=l=>{i(EI(l,"storage-delete"))},u.onsuccess=()=>{o()}}catch(u){i(Dr.create("storage-delete",{originalErrorMessage:u?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class iNe{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return v(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),o=e.storage.getActiveConfig(),i=yield n;i&&(e.lastFetchStatus=i);const s=yield r;s&&(e.lastSuccessfulFetchTimestampMillis=s);const a=yield o;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function aNe(){return(A5=A5||v(function*(){if(!Za())return!1;try{return yield al()}catch{return!1}})).apply(this,arguments)}!function sNe(){No(new Wt("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Dr.create("registration-window");if(!Za())throw Dr.create("indexed-db-unavailable");const{projectId:i,apiKey:s,appId:a}=r.options;if(!i)throw Dr.create("registration-project-id");if(!s)throw Dr.create("registration-api-key");if(!a)throw Dr.create("registration-app-id");const c=new oNe(a,r.name,n=n||"firebase"),u=new iNe(c),l=new ul($M);l.logLevel=Me.ERROR;const d=new Kxe(o,"10.3.1",n,i,s,a),f=new Zxe(d,c),h=new qxe(f,c,u,l),p=new eNe(r,h,u,c,l);return function Hxe(t){const e=bo(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Gr($M,"0.4.4"),Gr($M,"0.4.4","esm2017")}();const cNe=(t,e)=>e.some(n=>t instanceof n);let R5,O5;const P5=new WeakMap,HM=new WeakMap,k5=new WeakMap,GM=new WeakMap,zM=new WeakMap;let qM={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return HM.get(t);if("objectStoreNames"===e)return t.objectStoreNames||k5.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ss(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function gNe(t){return"function"==typeof t?function pNe(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function lNe(){return O5||(O5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(WM(this),e),ss(P5.get(this))}:function(...e){return ss(t.apply(WM(this),e))}:function(e,...n){const r=t.call(WM(this),e,...n);return k5.set(r,e.sort?e.sort():[e]),ss(r)}}(t):(t instanceof IDBTransaction&&function fNe(t){if(HM.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",s),t.removeEventListener("abort",s)},i=()=>{n(),o()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",i),t.addEventListener("error",s),t.addEventListener("abort",s)});HM.set(t,e)}(t),cNe(t,function uNe(){return R5||(R5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,qM):t)}function ss(t){if(t instanceof IDBRequest)return function dNe(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",i),t.removeEventListener("error",s)},i=()=>{n(ss(t.result)),o()},s=()=>{r(t.error),o()};t.addEventListener("success",i),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&P5.set(n,t)}).catch(()=>{}),zM.set(e,t),e}(t);if(GM.has(t))return GM.get(t);const e=gNe(t);return e!==t&&(GM.set(t,e),zM.set(e,t)),e}const WM=t=>zM.get(t);function F5(t,e,{blocked:n,upgrade:r,blocking:o,terminated:i}={}){const s=indexedDB.open(t,e),a=ss(s);return r&&s.addEventListener("upgradeneeded",c=>{r(ss(s.result),c.oldVersion,c.newVersion,ss(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(c=>{i&&c.addEventListener("close",()=>i()),o&&c.addEventListener("versionchange",()=>o())}).catch(()=>{}),a}function KM(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),ss(n).then(()=>{})}const mNe=["get","getKey","getAll","getAllKeys","count"],_Ne=["put","add","delete","clear"],QM=new Map;function L5(t,e){var n;if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(QM.get(e))return QM.get(e);const r=e.replace(/FromIndex$/,""),o=e!==r,i=_Ne.includes(r);if(!(r in(o?IDBIndex:IDBObjectStore).prototype)||!i&&!mNe.includes(r))return;const s=function(c){return(n=n||v(function*(u,...l){const d=this.transaction(u,i?"readwrite":"readonly");let f=d.store;return o&&(f=f.index(l.shift())),(yield Promise.all([f[r](...l),i&&d.done]))[0]})).apply(this,arguments)};return QM.set(e,s),s}var V5,j5,U5,$5,B5,H5,G5,z5,q5,W5,K5,Q5,Y5,Z5,X5,J5,eW,tW,nW,rW;!function hNe(t){qM=t(qM)}(t=>({...t,get:(e,n,r)=>L5(e,n)||t.get(e,n,r),has:(e,n)=>!!L5(e,n)||t.has(e,n)}));const yNe="/firebase-messaging-sw.js",vNe="/firebase-cloud-messaging-push-scope",sW="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",INe="https://fcmregistrations.googleapis.com/v1",aW="google.c.a.c_id",wNe="google.c.a.c_l",ENe="google.c.a.ts";var DI=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(DI||{});function as(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function CNe(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),o=new Uint8Array(r.length);for(let i=0;i<r.length;++i)o[i]=r.charCodeAt(i);return o}const YM="fcm_token_details_db",TNe=5,cW="fcm_token_object_Store",MNe="firebase-messaging-database",xNe=1,wc="firebase-messaging-store";let ZM=null;function XM(){return ZM||(ZM=F5(MNe,xNe,{upgrade:(t,e)=>{0===e&&t.createObjectStore(wc)}})),ZM}function uW(t){return(j5=j5||v(function*(e){const n=ex(e),o=yield(yield XM()).transaction(wc).objectStore(wc).get(n);if(o)return o;{const i=yield function SNe(t){return(V5=V5||v(function*(e){var n;if("databases"in indexedDB&&!(yield indexedDB.databases()).map(a=>a.name).includes(YM))return null;let r=null;return(yield F5(YM,TNe,{upgrade:function(s,a,c,u){return(n=n||v(function*(l,d,f,h){var p;if(d<2||!l.objectStoreNames.contains(cW))return;const g=h.objectStore(cW),m=yield g.index("fcmSenderId").get(e);if(yield g.clear(),m)if(2===d){const y=m;if(!y.auth||!y.p256dh||!y.endpoint)return;r={token:y.fcmToken,createTime:null!==(p=y.createTime)&&void 0!==p?p:Date.now(),subscriptionOptions:{auth:y.auth,p256dh:y.p256dh,endpoint:y.endpoint,swScope:y.swScope,vapidKey:"string"==typeof y.vapidKey?y.vapidKey:as(y.vapidKey)}}}else if(3===d){const y=m;r={token:y.fcmToken,createTime:y.createTime,subscriptionOptions:{auth:as(y.auth),p256dh:as(y.p256dh),endpoint:y.endpoint,swScope:y.swScope,vapidKey:as(y.vapidKey)}}}else if(4===d){const y=m;r={token:y.fcmToken,createTime:y.createTime,subscriptionOptions:{auth:as(y.auth),p256dh:as(y.p256dh),endpoint:y.endpoint,swScope:y.swScope,vapidKey:as(y.vapidKey)}}}})).apply(this,arguments)}})).close(),yield KM(YM),yield KM("fcm_vapid_details_db"),yield KM("undefined"),function ANe(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(r)?r:null})).apply(this,arguments)}(e.appConfig.senderId);if(i)return yield JM(e,i),i}})).apply(this,arguments)}function JM(t,e){return(U5=U5||v(function*(n,r){const o=ex(n),s=(yield XM()).transaction(wc,"readwrite");return yield s.objectStore(wc).put(r,o),yield s.done,r})).apply(this,arguments)}function ex({appConfig:t}){return t.appId}const wn=new ei("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ONe(t,e){return(B5=B5||v(function*(n,r){const o=yield nx(n),i=dW(r),s={method:"POST",headers:o,body:JSON.stringify(i)};let a;try{a=yield(yield fetch(tx(n.appConfig),s)).json()}catch(c){throw wn.create("token-subscribe-failed",{errorInfo:c?.toString()})}if(a.error)throw wn.create("token-subscribe-failed",{errorInfo:a.error.message});if(!a.token)throw wn.create("token-subscribe-no-token");return a.token})).apply(this,arguments)}function lW(t,e){return(G5=G5||v(function*(n,r){const i={method:"DELETE",headers:yield nx(n)};try{const a=yield(yield fetch(`${tx(n.appConfig)}/${r}`,i)).json();if(a.error)throw wn.create("token-unsubscribe-failed",{errorInfo:a.error.message})}catch(s){throw wn.create("token-unsubscribe-failed",{errorInfo:s?.toString()})}})).apply(this,arguments)}function tx({projectId:t}){return`${INe}/projects/${t}/registrations`}function nx(t){return(z5=z5||v(function*({appConfig:e,installations:n}){const r=yield n.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})})).apply(this,arguments)}function dW({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const o={web:{endpoint:n,auth:e,p256dh:t}};return r!==sW&&(o.web.applicationPubKey=r),o}const kNe=6048e5;function FNe(t){return(q5=q5||v(function*(e){const n=yield function VNe(t,e){return(Y5=Y5||v(function*(n,r){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:CNe(r)})})).apply(this,arguments)}(e.swRegistration,e.vapidKey),r={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:n.endpoint,auth:as(n.getKey("auth")),p256dh:as(n.getKey("p256dh"))},o=yield uW(e.firebaseDependencies);if(o){if(function jNe(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(o.subscriptionOptions,r))return Date.now()>=o.createTime+kNe?function LNe(t,e){return(K5=K5||v(function*(n,r){try{const o=yield function PNe(t,e){return(H5=H5||v(function*(n,r){const o=yield nx(n),i=dW(r.subscriptionOptions),s={method:"PATCH",headers:o,body:JSON.stringify(i)};let a;try{a=yield(yield fetch(`${tx(n.appConfig)}/${r.token}`,s)).json()}catch(c){throw wn.create("token-update-failed",{errorInfo:c?.toString()})}if(a.error)throw wn.create("token-update-failed",{errorInfo:a.error.message});if(!a.token)throw wn.create("token-update-no-token");return a.token})).apply(this,arguments)}(n.firebaseDependencies,r),i=Object.assign(Object.assign({},r),{token:o,createTime:Date.now()});return yield JM(n.firebaseDependencies,i),o}catch(o){throw yield function fW(t){return(W5=W5||v(function*(e){const n=yield uW(e.firebaseDependencies);n&&(yield lW(e.firebaseDependencies,n.token),yield function NNe(t){return($5=$5||v(function*(e){const n=ex(e),o=(yield XM()).transaction(wc,"readwrite");yield o.objectStore(wc).delete(n),yield o.done})).apply(this,arguments)}(e.firebaseDependencies));const r=yield e.swRegistration.pushManager.getSubscription();return!r||r.unsubscribe()})).apply(this,arguments)}(n),o}})).apply(this,arguments)}(e,{token:o.token,createTime:Date.now(),subscriptionOptions:r}):o.token;try{yield lW(e.firebaseDependencies,o.token)}catch(i){console.warn(i)}return hW(e.firebaseDependencies,r)}return hW(e.firebaseDependencies,r)})).apply(this,arguments)}function hW(t,e){return(Q5=Q5||v(function*(n,r){const i={token:yield ONe(n,r),createTime:Date.now(),subscriptionOptions:r};return yield JM(n,i),i.token})).apply(this,arguments)}function pW(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function UNe(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const o=e.notification.image;o&&(t.notification.image=o);const i=e.notification.icon;i&&(t.notification.icon=i)}(e,t),function $Ne(t,e){e.data&&(t.data=e.data)}(e,t),function BNe(t,e){var n,r,o,i,s;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(o=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==o?o:null===(i=e.notification)||void 0===i?void 0:i.click_action;a&&(t.fcmOptions.link=a);const c=null===(s=e.fcmOptions)||void 0===s?void 0:s.analytics_label;c&&(t.fcmOptions.analyticsLabel=c)}(e,t),e}function gW(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function rx(t){return wn.create("missing-app-config-values",{valueName:t})}gW("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),gW("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class zNe{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const o=function GNe(t){if(!t||!t.options)throw rx("App Configuration Object");if(!t.name)throw rx("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw rx(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:o,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function _W(t,e){return(eW=eW||v(function*(n,r){if(!navigator)throw wn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw wn.create("permission-blocked");return yield function WNe(t,e){return(J5=J5||v(function*(n,r){r?n.vapidKey=r:n.vapidKey||(n.vapidKey=sW)})).apply(this,arguments)}(n,r?.vapidKey),yield function qNe(t,e){return(X5=X5||v(function*(n,r){if(!r&&!n.swRegistration&&(yield function mW(t){return(Z5=Z5||v(function*(e){try{e.swRegistration=yield navigator.serviceWorker.register(yNe,{scope:vNe}),e.swRegistration.update().catch(()=>{})}catch(n){throw wn.create("failed-service-worker-registration",{browserErrorMessage:n?.message})}})).apply(this,arguments)}(n)),r||!n.swRegistration){if(!(r instanceof ServiceWorkerRegistration))throw wn.create("invalid-sw-registration");n.swRegistration=r}})).apply(this,arguments)}(n,r?.serviceWorkerRegistration),FNe(n)})).apply(this,arguments)}function YNe(t,e){return(nW=nW||v(function*(n,r){const o=r.data;if(!o.isFirebaseMessaging)return;n.onMessageHandler&&o.messageType===DI.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(pW(o)):n.onMessageHandler.next(pW(o)));const i=o.data;(function HNe(t){return"object"==typeof t&&!!t&&aW in t})(i)&&"1"===i["google.c.a.e"]&&(yield function KNe(t,e,n){return(tW=tW||v(function*(r,o,i){const s=function QNe(t){switch(t){case DI.NOTIFICATION_CLICKED:return"notification_open";case DI.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(o);(yield r.firebaseDependencies.analyticsProvider.get()).logEvent(s,{message_id:i[aW],message_name:i[wNe],message_time:i[ENe],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}(n,o.messageType,i))})).apply(this,arguments)}const yW="@firebase/messaging",ZNe=t=>{const e=new zNe(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>YNe(e,n)),e},XNe=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>_W(e,r)}};function IW(){return(rW=rW||v(function*(){try{yield al()}catch{return!1}return typeof window<"u"&&Za()&&nS()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}var wW,EW,DW,bW,CW,TW,RW,OW,PW;!function JNe(){No(new Wt("messaging",ZNe,"PUBLIC")),No(new Wt("messaging-internal",XNe,"PRIVATE")),Gr(yW,"0.12.4"),Gr(yW,"0.12.4","esm2017")}();const bI="analytics",nRe="firebase_id",rRe="origin",oRe=6e4,iRe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ox="https://www.googletagmanager.com/gtag/js",rn=new ul("@firebase/analytics"),ir=new ei("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function aRe(t){if(!t.startsWith(ox)){const e=ir.create("invalid-gtag-resource",{gtagURL:t});return rn.warn(e.message),""}return t}function FW(t){return Promise.all(t.map(e=>e.catch(n=>n)))}const mRe=30,LW=new class yRe{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function vRe(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function wRe(t){return(bW=bW||v(function*(e,n=LW,r){const{appId:o,apiKey:i,measurementId:s}=e.options;if(!o)throw ir.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:o};throw ir.create("no-api-key")}const a=n.getThrottleMetadata(o)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new bRe;return setTimeout(v(function*(){c.abort()}),void 0!==r?r:oRe),VW({appId:o,apiKey:i,measurementId:s},a,c,n)})).apply(this,arguments)}function VW(t,e,n){return(CW=CW||v(function*(r,{throttleEndTimeMillis:o,backoffCount:i},s,a=LW){var c;const{appId:u,measurementId:l}=r;try{yield function ERe(t,e){return new Promise((n,r)=>{const o=Math.max(e-Date.now(),0),i=setTimeout(n,o);t.addEventListener(()=>{clearTimeout(i),r(ir.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(s,o)}catch(d){if(l)return rn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:u,measurementId:l};throw d}try{const d=yield function IRe(t){return(DW=DW||v(function*(e){var n;const{appId:r,apiKey:o}=e,i={method:"GET",headers:vRe(o)},s=iRe.replace("{app-id}",r),a=yield fetch(s,i);if(200!==a.status&&304!==a.status){let c="";try{const u=yield a.json();null!==(n=u.error)&&void 0!==n&&n.message&&(c=u.error.message)}catch{}throw ir.create("config-fetch-failed",{httpStatus:a.status,responseMessage:c})}return a.json()})).apply(this,arguments)}(r);return a.deleteThrottleMetadata(u),d}catch(d){const f=d;if(!function DRe(t){if(!(t instanceof Zn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(f)){if(a.deleteThrottleMetadata(u),l)return rn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:u,measurementId:l};throw d}const h=503===Number(null===(c=f?.customData)||void 0===c?void 0:c.httpStatus)?iS(i,a.intervalMillis,mRe):iS(i,a.intervalMillis),p={throttleEndTimeMillis:Date.now()+h,backoffCount:i+1};return a.setThrottleMetadata(u,p),rn.debug(`Calling attemptFetch again in ${h} millis`),VW(r,p,s,a)}})).apply(this,arguments)}class bRe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let ix,sx;function RRe(t,e,n,r,o,i,s){return(OW=OW||v(function*(a,c,u,l,d,f,h){var p;const g=wRe(a);g.then(w=>{u[w.measurementId]=w.appId,a.options.measurementId&&w.measurementId!==a.options.measurementId&&rn.warn(`The measurement ID in the local Firebase config (${a.options.measurementId}) does not match the measurement ID fetched from the server (${w.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(w=>rn.error(w)),c.push(g);const m=function NRe(){return(RW=RW||v(function*(){if(!Za())return rn.warn(ir.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield al()}catch(t){return rn.warn(ir.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}().then(w=>{if(w)return l.getId()}),[y,_]=yield Promise.all([g,m]);(function gRe(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(ox)&&n.src.includes(t))return n;return null})(f)||function uRe(t,e){const n=function cRe(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:aRe}),r=document.createElement("script"),o=`${ox}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}(f,y.measurementId),sx&&(d("consent","default",sx),function jW(t){sx=t}(void 0)),d("js",new Date);const I=null!==(p=h?.config)&&void 0!==p?p:{};return I[rRe]="firebase",I.update=!0,null!=_&&(I[nRe]=_),d("config",y.measurementId,I),ix&&(d("set",ix),function UW(t){ix=t}(void 0)),y.measurementId})).apply(this,arguments)}class ORe{constructor(e){this.app=e}_delete(){return delete pi[this.app.options.appId],Promise.resolve()}}let pi={},$W=[];const BW={};let GW,gi,CI="dataLayer",ax=!1;function kRe(t,e,n){!function PRe(){const t=[];if(tS()&&t.push("This is a browser extension environment."),nS()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,o)=>`(${o+1}) ${r}`).join(" "),n=ir.create("invalid-analytics-context",{errorInfo:e});rn.warn(n.message)}}();const r=t.options.appId;if(!r)throw ir.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw ir.create("no-api-key");rn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=pi[r])throw ir.create("already-exists",{id:r});if(!ax){!function lRe(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(CI);const{wrappedGtag:i,gtagCore:s}=function pRe(t,e,n,r,o){let i=function(...s){window[r].push(arguments)};return window[o]&&"function"==typeof window[o]&&(i=window[o]),window[o]=function hRe(t,e,n,r){var o;return function i(s){return(o=o||v(function*(a,...c){try{if("event"===a){const[u,l]=c;yield function fRe(t,e,n,r,o){return(EW=EW||v(function*(i,s,a,c,u){try{let l=[];if(u&&u.send_to){let d=u.send_to;Array.isArray(d)||(d=[d]);const f=yield FW(a);for(const h of d){const p=f.find(m=>m.measurementId===h),g=p&&s[p.appId];if(!g){l=[];break}l.push(g)}}0===l.length&&(l=Object.values(s)),yield Promise.all(l),i("event",c,u||{})}catch(l){rn.error(l)}})).apply(this,arguments)}(t,e,n,u,l)}else if("config"===a){const[u,l]=c;yield function dRe(t,e,n,r,o,i){return(wW=wW||v(function*(s,a,c,u,l,d){const f=u[l];try{if(f)yield a[f];else{const p=(yield FW(c)).find(g=>g.measurementId===l);p&&(yield a[p.appId])}}catch(h){rn.error(h)}s("config",l,d)})).apply(this,arguments)}(t,e,n,r,u,l)}else if("consent"===a){const[u]=c;t("consent","update",u)}else if("get"===a){const[u,l,d]=c;t("get",u,l,d)}else if("set"===a){const[u]=c;t("set",u)}else t(a,...c)}catch(u){rn.error(u)}})).apply(this,arguments)}}(i,t,e,n),{gtagCore:i,wrappedGtag:window[o]}}(pi,$W,BW,CI,"gtag");gi=i,GW=s,ax=!0}return pi[r]=RRe(t,$W,BW,e,GW,CI,n),new ORe(t)}function LRe(){return(PW=PW||v(function*(){if(tS()||!nS()||!Za())return!1;try{return yield al()}catch{return!1}})).apply(this,arguments)}const zW="@firebase/analytics";!function jRe(){No(new Wt(bI,(e,{options:n})=>kRe(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),No(new Wt("analytics-internal",function t(e){try{const n=e.getProvider(bI).getImmediate();return{logEvent:(r,o,i)=>function VRe(t,e,n,r){t=bo(t),function CRe(t,e,n,r,o){return(TW=TW||v(function*(i,s,a,c,u){if(u&&u.global)i("event",a,c);else{const l=yield s;i("event",a,Object.assign(Object.assign({},c),{send_to:l}))}})).apply(this,arguments)}(gi,pi[t.app.options.appId],e,n,r).catch(o=>rn.error(o))}(n,r,o,i)}}catch(n){throw ir.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Gr(zW,"0.10.0"),Gr(zW,"0.10.0","esm2017")}();const cx="__angularfire_symbol__analyticsIsSupportedValue",ux="__angularfire_symbol__analyticsIsSupported",lx="__angularfire_symbol__remoteConfigIsSupportedValue",dx="__angularfire_symbol__remoteConfigIsSupported",fx="__angularfire_symbol__messagingIsSupportedValue",hx="__angularfire_symbol__messagingIsSupported";function id(){}globalThis[ux]||(globalThis[ux]=LRe().then(t=>globalThis[cx]=t).catch(()=>globalThis[cx]=!1)),globalThis[hx]||(globalThis[hx]=IW().then(t=>globalThis[fx]=t).catch(()=>globalThis[fx]=!1)),globalThis[dx]||(globalThis[dx]=aNe().then(t=>globalThis[lx]=t).catch(()=>globalThis[lx]=!1));class $Re{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",id,{},id,id)),n.pipe(function URe(t,e,n){const r=Vt(t)||e||n?{next:t,error:e,complete:n}:t;return r?zs((o,i)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;o.subscribe(qs(i,c=>{var u;null===(u=r.next)||void 0===u||u.call(r,c),i.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),i.complete()},c=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,c),i.error(c)},()=>{var c,u;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):jy}({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}function Ec(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Dc(t){return Ec().ngZone.run(()=>t())}function HRe(t){return Ec(),function GRe(t){return function(n){return(n=n.lift(new $Re(t.ngZone))).pipe(By(t.outsideAngular),$y(t.insideAngular))}}(Ec())(t)}const zRe=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Dc(()=>t.apply(void 0,r))},bc=(t,e)=>function(){let n;const r=arguments;for(let i=0;i<arguments.length;i++)"function"==typeof r[i]&&(e&&(n||(n=Dc(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",id,{},id,id)))),r[i]=zRe(r[i],n));const o=function BRe(t){return Ec().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(o instanceof Rn){const i=Ec();return o.pipe(By(i.outsideAngular),$y(i.insideAngular))}return Dc(()=>o)}return o instanceof Rn?o.pipe(HRe):o instanceof Promise?Dc(()=>new Promise((i,s)=>o.then(a=>Dc(()=>i(a)),a=>Dc(()=>s(a))))):"function"==typeof o&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),o.apply(this,arguments)}:Dc(()=>o)};var WW,KW,QW,YW,XW,JW,e8,t8,n8,r8,i8,y8,T8,A8,M8,Z8,X8,J8,i9,u9,g9,_9,y9,v9,I9;const qRe=function w9(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},E9=new ei("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),TI=new ul("@firebase/auth");function SI(t,...e){TI.logLevel<=Me.ERROR&&TI.error(`Auth (${dl}): ${t}`,...e)}function br(t,...e){throw _x(t,...e)}function mi(t,...e){return _x(t,...e)}function _x(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return E9.create(t,...e)}function N(t,e,...n){if(!t)throw _x(e,...n)}function _i(t){const e="INTERNAL ASSERTION FAILED: "+t;throw SI(e),new Error(e)}function oa(t,e){t||_i(e)}function Np(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function b9(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Rp{constructor(e,n){this.shortDelay=e,this.longDelay=n,oa(n>e,"Short delay should be less than long delay!"),this.isMobile=function n_e(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}()||function o_e(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function KRe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function yx(){return"http:"===b9()||"https:"===b9()}()||tS()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function vx(t,e){oa(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class C9{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void _i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void _i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void _i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const YRe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ZRe=new Rp(3e4,6e4);function gt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Et(t,e,n,r){return(WW=WW||v(function*(o,i,s,a,c={}){return T9(o,c,v(function*(){let u={},l={};a&&("GET"===i?l=a:u={body:JSON.stringify(a)});const d=Ry(Object.assign({key:o.config.apiKey},l)).slice(1),f=yield o._getAdditionalHeaders();return f["Content-Type"]="application/json",o.languageCode&&(f["X-Firebase-Locale"]=o.languageCode),C9.fetch()(S9(o,o.config.apiHost,s,d),Object.assign({method:i,headers:f,referrerPolicy:"no-referrer"},u))}))})).apply(this,arguments)}function T9(t,e,n){return(KW=KW||v(function*(r,o,i){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},YRe),o);try{const a=new XRe(r),c=yield Promise.race([i(),a.promise]);a.clearNetworkTimeout();const u=yield c.json();if("needConfirmation"in u)throw Op(r,"account-exists-with-different-credential",u);if(c.ok&&!("errorMessage"in u))return u;{const l=c.ok?u.errorMessage:u.error.message,[d,f]=l.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===d)throw Op(r,"credential-already-in-use",u);if("EMAIL_EXISTS"===d)throw Op(r,"email-already-in-use",u);if("USER_DISABLED"===d)throw Op(r,"user-disabled",u);const h=s[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw function D9(t,e,n){const r=Object.assign(Object.assign({},qRe()),{[e]:n});return new ei("auth","Firebase",r).create(e,{appName:t.name})}(r,h,f);br(r,h)}}catch(a){if(a instanceof Zn)throw a;br(r,"network-request-failed",{message:String(a)})}})).apply(this,arguments)}function S9(t,e,n,r){const o=`${e}${n}?${r}`;return t.config.emulator?vx(t.config,o):`${t.config.apiScheme}://${o}`}class XRe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(mi(this.auth,"network-request-failed")),ZRe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Op(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=mi(t,e,r);return o.customData._tokenResponse=n,o}function Pp(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Ix(t){return 1e3*Number(t)}function AI(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return SI("JWT malformed, contained fewer than 3 sections"),null;try{const o=Ay(n);return o?JSON.parse(o):(SI("Failed to decode base64 JWT payload"),null)}catch(o){return SI("Caught error parsing JWT payload as JSON",o?.toString()),null}}function us(t,e){return(e8=e8||v(function*(n,r,o=!1){if(o)return r;try{return yield r}catch(i){throw i instanceof Zn&&function o1e({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})).apply(this,arguments)}class i1e{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const o=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(v(function*(){yield n.iteration()}),r)}iteration(){var e=this;return v(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class A9{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pp(this.lastLoginAt),this.creationTime=Pp(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function kp(t){return(t8=t8||v(function*(e){var n;const r=e.auth,o=yield e.getIdToken(),i=yield us(e,function t1e(t,e){return(XW=XW||v(function*(n,r){return Et(n,"POST","/v1/accounts:lookup",r)})).apply(this,arguments)}(r,{idToken:o}));N(i?.users.length,r,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=null!==(n=s.providerUserInfo)&&void 0!==n&&n.length?function c1e(t){return t.map(e=>{var{providerId:n}=e,r=CS(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],c=function a1e(t,e){return[...t.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}(e.providerData,a),d=!!e.isAnonymous&&!(e.email&&s.passwordHash||c?.length),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new A9(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)})).apply(this,arguments)}class Fp{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){N(e.idToken,"internal-error"),N(typeof e.idToken<"u","internal-error"),N(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function r1e(t){const e=AI(t);return N(e,"internal-error"),N(typeof e.exp<"u","internal-error"),N(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return v(function*(){return N(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return v(function*(){const{accessToken:o,refreshToken:i,expiresIn:s}=yield function u1e(t,e){return(r8=r8||v(function*(n,r){const o=yield T9(n,{},v(function*(){const i=Ry({grant_type:"refresh_token",refresh_token:r}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,c=S9(n,s,"/v1/token",`key=${a}`),u=yield n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",C9.fetch()(c,{method:"POST",headers:u,body:i})}));return{accessToken:o.access_token,expiresIn:o.expires_in,refreshToken:o.refresh_token}})).apply(this,arguments)}(e,n);r.updateTokensAndExpiration(o,i,Number(s))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:i}=n,s=new Fp;return r&&(N("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),o&&(N("string"==typeof o,"internal-error",{appName:e}),s.accessToken=o),i&&(N("number"==typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fp,this.toJSON())}_performRefresh(){return _i("not implemented")}}function ia(t,e){N("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Cc{constructor(e){var{uid:n,auth:r,stsTokenManager:o}=e,i=CS(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new i1e(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new A9(i.createdAt||void 0,i.lastLoginAt||void 0)}getIdToken(e){var n=this;return v(function*(){const r=yield us(n,n.stsTokenManager.getToken(n.auth,e));return N(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function n1e(t){return(JW=JW||v(function*(e,n=!1){const r=bo(e),o=yield r.getIdToken(n),i=AI(o);N(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,a=s?.sign_in_provider;return{claims:i,token:o,authTime:Pp(Ix(i.auth_time)),issuedAtTime:Pp(Ix(i.iat)),expirationTime:Pp(Ix(i.exp)),signInProvider:a||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}(this,e)}reload(){return function s1e(t){return(n8=n8||v(function*(e){const n=bo(e);yield kp(n),yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)})).apply(this,arguments)}(this)}_assign(e){this!==e&&(N(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Cc(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){N(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return v(function*(){let o=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),o=!0),n&&(yield kp(r)),yield r.auth._persistUserIfCurrent(r),o&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return v(function*(){const n=yield e.getIdToken();return yield us(e,function JRe(t,e){return(YW=YW||v(function*(n,r){return Et(n,"POST","/v1/accounts:delete",r)})).apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,o,i,s,a,c,u,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,f=null!==(o=n.email)&&void 0!==o?o:void 0,h=null!==(i=n.phoneNumber)&&void 0!==i?i:void 0,p=null!==(s=n.photoURL)&&void 0!==s?s:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,m=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,y=null!==(u=n.createdAt)&&void 0!==u?u:void 0,_=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:I,emailVerified:w,isAnonymous:T,providerData:j,stsTokenManager:he}=n;N(I&&he,e,"internal-error");const xe=Fp.fromJSON(this.name,he);N("string"==typeof I,e,"internal-error"),ia(d,e.name),ia(f,e.name),N("boolean"==typeof w,e,"internal-error"),N("boolean"==typeof T,e,"internal-error"),ia(h,e.name),ia(p,e.name),ia(g,e.name),ia(m,e.name),ia(y,e.name),ia(_,e.name);const st=new Cc({uid:I,auth:e,email:f,emailVerified:w,displayName:d,isAnonymous:T,photoURL:p,phoneNumber:h,tenantId:g,stsTokenManager:xe,createdAt:y,lastLoginAt:_});return j&&Array.isArray(j)&&(st.providerData=j.map(Zc=>Object.assign({},Zc))),m&&(st._redirectEventId=m),st}static _fromIdTokenResponse(e,n,r=!1){return v(function*(){const o=new Fp;o.updateFromServerResponse(n);const i=new Cc({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return yield kp(i),i})()}}const M9=new Map;function ls(t){oa(t instanceof Function,"Expected a class definition");let e=M9.get(t);return e?(oa(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,M9.set(t,e),e)}const x9=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(function*(){return!0})()}_set(n,r){var o=this;return v(function*(){o.storage[n]=r})()}_get(n){var r=this;return v(function*(){const o=r.storage[n];return void 0===o?null:o})()}_remove(n){var r=this;return v(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function MI(t,e,n){return`firebase:${t}:${e}:${n}`}class ad{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:i}=this.auth;this.fullUserKey=MI(this.userKey,o.apiKey,i),this.fullPersistenceKey=MI("persistence",o.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return v(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Cc._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return v(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return v(function*(){var o,i;if(!n.length)return new ad(ls(x9),e,r);const s=(yield Promise.all(n.map(function(d){return(o=o||v(function*(f){if(yield f._isAvailable())return f})).apply(this,arguments)}))).filter(d=>d);let a=s[0]||ls(x9);const c=MI(r,e.config.apiKey,e.name);let u=null;for(const d of n)try{const f=yield d._get(c);if(f){const h=Cc._fromJSON(e,f);d!==a&&(u=h),a=d;break}}catch{}const l=s.filter(d=>d._shouldAllowMigration);return a._shouldAllowMigration&&l.length?(a=l[0],u&&(yield a._set(c,u.toJSON())),yield Promise.all(n.map(function(d){return(i=i||v(function*(f){if(f!==a)try{yield f._remove(c)}catch{}})).apply(this,arguments)})),new ad(a,e,r)):new ad(a,e,r)})()}}function N9(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(P9(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(R9(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(F9(e))return"Blackberry";if(L9(e))return"Webos";if(wx(e))return"Safari";if((e.includes("chrome/")||O9(e))&&!e.includes("edge/"))return"Chrome";if(k9(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function R9(t=en()){return/firefox\//i.test(t)}function wx(t=en()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function O9(t=en()){return/crios\//i.test(t)}function P9(t=en()){return/iemobile/i.test(t)}function k9(t=en()){return/android/i.test(t)}function F9(t=en()){return/blackberry/i.test(t)}function L9(t=en()){return/webos/i.test(t)}function xI(t=en()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function V9(t=en()){return xI(t)||k9(t)||L9(t)||F9(t)||/windows phone/i.test(t)||P9(t)}function j9(t,e=[]){let n;switch(t){case"Browser":n=N9(en());break;case"Worker":n=`${N9(en())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${dl}/${r}`}function U9(t,e){return(i8=i8||v(function*(n,r){return Et(n,"GET","/v2/recaptchaConfig",gt(n,r))})).apply(this,arguments)}function B9(t){return void 0!==t&&void 0!==t.enterprise}class H9{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}function Ex(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=o=>{const i=mi("internal-error");i.customData=o,n(i)},r.type="text/javascript",r.charset="UTF-8",function p1e(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function G9(t){return`__${t}${Math.floor(1e6*Math.random())}`}class z9{constructor(e){this.type="recaptcha-enterprise",this.auth=on(e)}verify(e="verify",n=!1){var r=this;return v(function*(){var o;function s(a,c,u){const l=window.grecaptcha;B9(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{c(d)}).catch(()=>{c("NO_RECAPTCHA")})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function i(a){return(o=o||v(function*(c){var u;if(!n){if(null==c.tenantId&&null!=c._agentRecaptchaConfig)return c._agentRecaptchaConfig.siteKey;if(null!=c.tenantId&&void 0!==c._tenantRecaptchaConfigs[c.tenantId])return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(function(l,d){return(u=u||v(function*(f,h){U9(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(void 0!==p.recaptchaKey){const g=new H9(p);return null==c.tenantId?c._agentRecaptchaConfig=g:c._tenantRecaptchaConfigs[c.tenantId]=g,f(g.siteKey)}h(new Error("recaptcha Enterprise site key undefined"))}).catch(p=>{h(p)})})).apply(this,arguments)})})).apply(this,arguments)})(r.auth).then(u=>{if(!n&&B9(window.grecaptcha))s(u,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));Ex("https://www.google.com/recaptcha/enterprise.js?render="+u).then(()=>{s(u,a,c)}).catch(l=>{c(l)})}}).catch(u=>{c(u)})})})()}}class y1e{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((s,a)=>{try{s(e(i))}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return v(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const o of n.queue)yield o(e),o.onAbort&&r.push(o.onAbort)}catch(o){r.reverse();for(const i of r)try{i()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:o?.message})}})()}}class v1e{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new q9(this),this.idTokenSubscription=new q9(this),this.beforeStateQueue=new y1e(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=E9,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=ls(n)),this._initializationPromise=this.queue(v(function*(){var o,i;if(!r._deleted&&(r.persistenceManager=yield ad.create(r,e),!r._deleted)){if(null!==(o=r._popupRedirectResolver)&&void 0!==o&&o._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(i=r.currentUser)||void 0===i?void 0:i.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return v(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return v(function*(){var r;const o=yield n.assertedPersistence.getCurrentUser();let i=o,s=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,c=i?._redirectEventId,u=yield n.tryRedirectSignIn(e);(!a||a===c)&&u?.user&&(i=u.user,s=!0)}if(!i)return n.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield n.beforeStateQueue.runMiddleware(i)}catch(a){i=o,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return i?n.reloadAndSetCurrentUserOrClear(i):n.directlySetCurrentUser(null)}return N(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===i._redirectEventId?n.directlySetCurrentUser(i):n.reloadAndSetCurrentUserOrClear(i)})()}tryRedirectSignIn(e){var n=this;return v(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return v(function*(){try{yield kp(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function QRe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return v(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return v(function*(){const r=e?bo(e):null;return r&&N(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return v(function*(){if(!r._deleted)return e&&N(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(v(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return v(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(v(function*(){yield n.assertedPersistence.setPersistence(ls(e))}))}initializeRecaptchaConfig(){var e=this;return v(function*(){const n=yield U9(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new H9(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new z9(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ei("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return v(function*(){const o=yield r.getOrInitRedirectPersistenceManager(n);return null===e?o.removeCurrentUser():o.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return v(function*(){if(!n.redirectPersistenceManager){const r=e&&ls(e)||n._popupRedirectResolver;N(r,n,"argument-error"),n.redirectPersistenceManager=yield ad.create(n,[ls(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return v(function*(){var r,o;return n._isInitialized&&(yield n.queue(v(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(o=n.redirectUser)||void 0===o?void 0:o._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return v(function*(){if(e===n.currentUser)return n.queue(v(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const i="function"==typeof n?n:n.next.bind(n),s=this._isInitialized?Promise.resolve():this._initializationPromise;return N(s,this,"internal-error"),s.then(()=>i(this.currentUser)),"function"==typeof n?e.addObserver(n,r,o):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return v(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return N(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=j9(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return v(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const o=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();o&&(r["X-Firebase-Client"]=o);const i=yield e._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r})()}_getAppCheckToken(){var e=this;return v(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function WRe(t,...e){TI.logLevel<=Me.WARN&&TI.warn(`Auth (${dl}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function on(t){return bo(t)}class q9{constructor(e){this.auth=e,this.observer=null,this.addObserver=function l_e(t,e){const n=new d_e(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return N(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function W9(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function K9(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class C1e{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return _i("not implemented")}_getIdTokenResponse(e){return _i("not implemented")}_linkToIdToken(e,n){return _i("not implemented")}_getReauthenticationResolver(e){return _i("not implemented")}}function ds(t,e){return(y8=y8||v(function*(n,r){return function cs(t,e,n,r){return(QW=QW||v(function*(o,i,s,a,c={}){const u=yield Et(o,i,s,a,c);return"mfaPendingCredential"in u&&br(o,"multi-factor-auth-required",{_serverResponse:u}),u})).apply(this,arguments)}(n,"POST","/v1/accounts:signInWithIdp",gt(n,r))})).apply(this,arguments)}class aa{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class j1e extends aa{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class uo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,o=!1){return v(function*(){const i=yield Cc._fromIdTokenResponse(e,r,o),s=X9(r);return new uo({user:i,providerId:s,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return v(function*(){yield e._updateTokensIfNecessary(r,!0);const o=X9(r);return new uo({user:e,providerId:o,_tokenResponse:r,operationType:n})})()}}function X9(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class kI extends Zn{constructor(e,n,r,o){var i;super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,kI.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new kI(e,n,r,o)}}function J9(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw"auth/multi-factor-auth-required"===i.code?kI._fromErrorAndOperation(t,i,e,r):i})}const LI="__sak";class o7{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(LI,"1"),this.storage.removeItem(LI),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const cOe=(()=>{class t extends o7{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function iOe(){const t=en();return wx(t)||xI(t)}()&&function f1e(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=V9(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const o=this.storage.getItem(r),i=this.localCache[r];o!==i&&n(r,i,o)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});const o=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(o);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(o,n.newValue):this.storage.removeItem(o);else if(this.localCache[o]===n.newValue&&!r)return}const i=()=>{const a=this.storage.getItem(o);!r&&this.localCache[o]===a||this.notifyListeners(o,a)},s=this.storage.getItem(o);!function d1e(){return function i_e(){const t=en();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||s===n.newValue||n.newValue===n.oldValue?i():setTimeout(i,10)}notifyListeners(n,r){this.localCache[n]=r;const o=this.listeners[n];if(o)for(const i of Array.from(o))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,o)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:o}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var o=()=>super._set,i=this;return v(function*(){yield o().call(i,n,r),i.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,o=this;return v(function*(){const i=yield r().call(o,n);return o.localCache[n]=JSON.stringify(i),i})()}_remove(n){var r=()=>super._remove,o=this;return v(function*(){yield r().call(o,n),delete o.localCache[n]})()}}return t.type="LOCAL",t})(),i7=(()=>{class t extends o7{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let lOe=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(i=>i.isListeningto(n));if(r)return r;const o=new t(n);return this.receivers.push(o),o}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return v(function*(){var o;const i=n,{eventId:s,eventType:a,data:c}=i.data,u=r.handlersMap[a];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const l=Array.from(u).map(function(f){return(o=o||v(function*(h){return h(i.origin,c)})).apply(this,arguments)}),d=yield function uOe(t){var e;return Promise.all(t.map(function(n){return(e=e||v(function*(r){try{return{fulfilled:!0,value:yield r}}catch(o){return{fulfilled:!1,reason:o}}})).apply(this,arguments)}))}(l);i.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:d})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function Lx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class dOe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var o=this;return v(function*(){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((c,u)=>{const l=Lx("",20);i.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===l)switch(h.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(h.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"))}}},o.handlers.add(a),i.port1.addEventListener("message",a.onMessage),o.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{a&&o.removeMessageHandler(a)})})()}}function Ut(){return window}function Vx(){return typeof Ut().WorkerGlobalScope<"u"&&"function"==typeof Ut().importScripts}const s7="firebaseLocalStorageDb",VI="firebaseLocalStorage",a7="fbase_key";class Up{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function jI(t,e){return t.transaction([VI],e?"readwrite":"readonly").objectStore(VI)}function jx(){const t=indexedDB.open(s7,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(VI,{keyPath:a7})}catch(o){n(o)}}),t.addEventListener("success",v(function*(){const r=t.result;r.objectStoreNames.contains(VI)?e(r):(r.close(),yield function _Oe(){const t=indexedDB.deleteDatabase(s7);return new Up(t).toPromise()}(),e(yield jx()))}))})}function c7(t,e,n){return(X8=X8||v(function*(r,o,i){const s=jI(r,!0).put({[a7]:o,value:i});return new Up(s).toPromise()})).apply(this,arguments)}function u7(t,e){const n=jI(t,!0).delete(e);return new Up(n).toPromise()}const wOe=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return v(function*(){return n.db||(n.db=yield jx()),n.db})()}_withRetries(n){var r=this;return v(function*(){let o=0;for(;;)try{const i=yield r._openDb();return yield n(i)}catch(i){if(o++>3)throw i;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return v(function*(){return Vx()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return v(function*(){var r,o;n.receiver=lOe._getInstance(function gOe(){return Vx()?self:null}()),n.receiver._subscribe("keyChanged",function(i,s){return(r=r||v(function*(a,c){return{keyProcessed:(yield n._poll()).includes(c.key)}})).apply(this,arguments)}),n.receiver._subscribe("ping",function(i,s){return(o=o||v(function*(a,c){return["keyChanged"]})).apply(this,arguments)})})()}initializeSender(){var n=this;return v(function*(){var r,o;if(n.activeServiceWorker=yield function hOe(){return(Z8=Z8||v(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new dOe(n.activeServiceWorker);const i=yield n.sender._send("ping",{},800);i&&null!==(r=i[0])&&void 0!==r&&r.fulfilled&&null!==(o=i[0])&&void 0!==o&&o.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return v(function*(){if(r.sender&&r.activeServiceWorker&&function pOe(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return v(function*(){try{if(!indexedDB)return!1;const n=yield jx();return yield c7(n,LI,"1"),yield u7(n,LI),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return v(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var o=this;return v(function*(){return o._withPendingWrite(v(function*(){return yield o._withRetries(i=>c7(i,n,r)),o.localCache[n]=r,o.notifyServiceWorker(n)}))})()}_get(n){var r=this;return v(function*(){const o=yield r._withRetries(i=>function yOe(t,e){return(J8=J8||v(function*(n,r){const o=jI(n,!1).get(r),i=yield new Up(o).toPromise();return void 0===i?null:i.value})).apply(this,arguments)}(i,n));return r.localCache[n]=o,o})()}_remove(n){var r=this;return v(function*(){return r._withPendingWrite(v(function*(){return yield r._withRetries(o=>u7(o,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return v(function*(){const r=yield n._withRetries(s=>{const a=jI(s,!1).getAll();return new Up(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const o=[],i=new Set;for(const{fbase_key:s,value:a}of r)i.add(s),JSON.stringify(n.localCache[s])!==JSON.stringify(a)&&(n.notifyListeners(s,a),o.push(s));for(const s of Object.keys(n.localCache))n.localCache[s]&&!i.has(s)&&(n.notifyListeners(s,null),o.push(s));return o})()}notifyListeners(n,r){this.localCache[n]=r;const o=this.listeners[n];if(o)for(const i of Array.from(o))i(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(v(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();G9("rcb"),new Rp(3e4,6e4);class Hx extends C1e{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ds(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ds(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ds(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function LOe(t){return function n7(t,e){return(M8=M8||v(function*(n,r,o=!1){const i="signIn",s=yield J9(n,i,r),a=yield uo._fromIdTokenResponse(n,i,s);return o||(yield n._updateCurrentUser(a.user)),a})).apply(this,arguments)}(t.auth,new Hx(t),t.bypassAuthState)}function VOe(t){const{auth:e,user:n}=t;return N(n,e,"internal-error"),function t7(t,e){return(A8=A8||v(function*(n,r,o=!1){const{auth:i}=n,s="reauthenticate";try{const a=yield us(n,J9(i,s,r,n),o);N(a.idToken,i,"internal-error");const c=AI(a.idToken);N(c,i,"internal-error");const{sub:u}=c;return N(n.uid===u,i,"user-mismatch"),uo._forOperation(n,s,a)}catch(a){throw"auth/user-not-found"===a?.code&&br(i,"user-mismatch"),a}})).apply(this,arguments)}(n,new Hx(t),t.bypassAuthState)}function jOe(t){return(i9=i9||v(function*(e){const{auth:n,user:r}=e;return N(r,n,"internal-error"),function Ax(t,e){return(T8=T8||v(function*(n,r,o=!1){const i=yield us(n,r._linkToIdToken(n.auth,yield n.getIdToken()),o);return uo._forOperation(n,"link",i)})).apply(this,arguments)}(r,new Hx(e),e.bypassAuthState)})).apply(this,arguments)}class UOe{constructor(e,n,r,o,i=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var n,e=this;return new Promise(function(r,o){return(n=n||v(function*(i,s){e.pendingPromise={resolve:i,reject:s};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(a){e.reject(a)}})).apply(this,arguments)})}onAuthEvent(e){var n=this;return v(function*(){const{urlResponse:r,sessionId:o,postBody:i,tenantId:s,error:a,type:c}=e;if(a)return void n.reject(a);const u={auth:n.auth,requestUri:r,sessionId:o,tenantId:s||void 0,postBody:i||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(c)(u))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return LOe;case"linkViaPopup":case"linkViaRedirect":return jOe;case"reauthViaPopup":case"reauthViaRedirect":return VOe;default:br(this.auth,"internal-error")}}resolve(e){oa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){oa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Rp(2e3,1e4);const $Oe="pendingRedirect",$p=new Map;class BOe extends UOe{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return v(function*(){let r=$p.get(n.auth._key());if(!r){try{const i=(yield function HOe(t,e){return(u9=u9||v(function*(n,r){const o=function f7(t){return MI($Oe,t.config.apiKey,t.name)}(r),i=function d7(t){return ls(t._redirectPersistence)}(n);if(!(yield i._isAvailable()))return!1;const s="true"===(yield i._get(o));return yield i._remove(o),s})).apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(i)}catch(o){r=()=>Promise.reject(o)}$p.set(n.auth._key(),r)}return n.bypassAuthState||$p.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return v(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const o=yield r.auth._redirectUserForId(e.eventId);if(o)return r.user=o,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return v(function*(){})()}cleanUp(){}}function GOe(t,e){$p.set(t._key(),e)}function h7(t,e){return(g9=g9||v(function*(n,r,o=!1){const i=on(n),s=function Sc(t,e){return e?ls(e):(N(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}(i,r),c=yield new BOe(i,s,o).execute();return c&&!o&&(delete c.user._redirectEventId,yield i._persistUserIfCurrent(c.user),yield i._setRedirectUser(null,r)),c})).apply(this,arguments)}class QOe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function YOe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return m7(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!m7(e)){const o=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(mi(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(g7(e))}saveEventToCache(e){this.cachedEventUids.add(g7(e)),this.lastProcessedEventTime=Date.now()}}function g7(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function m7({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}const XOe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,JOe=/^https?/;function tPe(t){const e=Np(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return""===s.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&s.hostname===r}if(!JOe.test(n))return!1;if(XOe.test(t))return r===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const nPe=new Rp(3e4,6e4);function _7(){const t=Ut().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let $I=null;const iPe=new Rp(5e3,15e3),cPe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uPe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lPe(t){const e=t.config;N(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?vx(e,"emulator/auth/iframe"):`https://${t.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:t.name,v:dl},o=uPe.get(t.config.apiHost);o&&(r.eid=o);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Ry(r).slice(1)}`}const fPe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class y7{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const wPe=encodeURIComponent("fac");function v7(t,e,n,r,o,i){return(I9=I9||v(function*(s,a,c,u,l,d){N(s.config.authDomain,s,"auth-domain-config-required"),N(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:c,redirectUrl:u,v:dl,eventId:l};if(a instanceof aa){a.setDefaultLanguage(s.languageCode),f.providerId=a.providerId||"",function u_e(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(a.getCustomParameters())||(f.customParameters=JSON.stringify(a.getCustomParameters()));for(const[m,y]of Object.entries(d||{}))f[m]=y}if(a instanceof j1e){const m=a.getScopes().filter(y=>""!==y);m.length>0&&(f.scopes=m.join(","))}s.tenantId&&(f.tid=s.tenantId);const h=f;for(const m of Object.keys(h))void 0===h[m]&&delete h[m];const p=yield s._getAppCheckToken(),g=p?`#${wPe}=${encodeURIComponent(p)}`:"";return`${function EPe({config:t}){return t.emulator?vx(t,"emulator/auth/handler"):`https://${t.authDomain}/__/auth/handler`}(s)}?${Ry(h).slice(1)}${g}`})).apply(this,arguments)}const qx="webStorageSupport",bPe=class DPe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=i7,this._completeRedirectFn=h7,this._overrideRedirectResult=GOe}_openPopup(e,n,r,o){var i=this;return v(function*(){var s;oa(null===(s=i.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");const a=yield v7(e,n,r,Np(),o);return function _Pe(t,e,n,r=500,o=600){const i=Math.max((window.screen.availHeight-o)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},fPe),{width:r.toString(),height:o.toString(),top:i,left:s}),u=en().toLowerCase();n&&(a=O9(u)?"_blank":n),R9(u)&&(e=e||"http://localhost",c.scrollbars="yes");const l=Object.entries(c).reduce((f,[h,p])=>`${f}${h}=${p},`,"");if(function l1e(t=en()){var e;return xI(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(u)&&"_self"!==a)return function yPe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new y7(null);const d=window.open(e||"",a,l);N(d,t,"popup-blocked");try{d.focus()}catch{}return new y7(d)}(e,a,Lx())})()}_openRedirect(e,n,r,o){var i=this;return v(function*(){return yield i._originValidation(e),function fOe(t){Ut().location.href=t}(yield v7(e,n,r,Np(),o)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:i}=this.eventManagers[n];return o?Promise.resolve(o):(oa(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return v(function*(){const r=yield function dPe(t){return(v9=v9||v(function*(e){const n=yield function oPe(t){return $I=$I||function rPe(t){return new Promise((e,n)=>{var r,o,i;function s(){_7(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_7(),n(mi(t,"network-request-failed"))},timeout:nPe.get()})}if(null!==(o=null===(r=Ut().gapi)||void 0===r?void 0:r.iframes)&&void 0!==o&&o.Iframe)e(gapi.iframes.getContext());else{if(null===(i=Ut().gapi)||void 0===i||!i.load){const a=G9("iframefcb");return Ut()[a]=()=>{gapi.load?s():n(mi(t,"network-request-failed"))},Ex(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>n(c))}s()}}).catch(e=>{throw $I=null,e})}(t),$I}(e),r=Ut().gapi;return N(r,e,"internal-error"),n.open({where:document.body,url:lPe(e),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cPe,dontclear:!0},o=>{var i;return new Promise(function(s,a){return(i=i||v(function*(c,u){yield o.restyle({setHideOnLeave:!1});const l=mi(e,"network-request-failed"),d=Ut().setTimeout(()=>{u(l)},iPe.get());function f(){Ut().clearTimeout(d),c(o)}o.ping(f).then(f,()=>{u(l)})})).apply(this,arguments)})})})).apply(this,arguments)}(e),o=new QOe(e);return r.register("authEvent",i=>(N(i?.authEvent,e,"invalid-auth-event"),{status:o.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:o},n.iframes[e._key()]=r,o})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(qx,{type:qx},o=>{var i;const s=null===(i=o?.[0])||void 0===i?void 0:i[qx];void 0!==s&&n(!!s),br(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function ePe(t){return(y9=y9||v(function*(e){if(e.config.emulator)return;const{authorizedDomains:n}=yield function ZOe(t){return(_9=_9||v(function*(e,n={}){return Et(e,"GET","/v1/projects",n)})).apply(this,arguments)}(e);for(const r of n)try{if(tPe(r))return}catch{}br(e,"unauthorized-domain")})).apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return V9()||wx()||xI()}};var E7="@firebase/auth";class CPe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return v(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){N(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const MPe=z$("authIdTokenMaxAge")||300;let b7=null;const xPe=t=>{var e;return function(n){return(e=e||v(function*(r){const o=r&&(yield r.getIdTokenResult()),i=o&&((new Date).getTime()-Date.parse(o.issuedAtTime))/1e3;if(i&&i>MPe)return;const s=o?.token;b7!==s&&(b7=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))})).apply(this,arguments)}};function NPe(t=pS()){const e=ky(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function I1e(t,e){const n=ky(t,"auth");if(n.isInitialized()){const o=n.getImmediate();if(cl(n.getOptions(),e??{}))return o;br(o,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:bPe,persistence:[wOe,cOe,i7]}),r=z$("authTokenSyncURL");if(r){const i=xPe(r);(function eOe(t,e,n){bo(t).beforeAuthStateChanged(e,n)})(n,i,()=>i(n.currentUser)),function J1e(t,e,n,r){bo(t).onIdTokenChanged(e,n,r)}(n,s=>i(s))}const o=H$("auth");return o&&function E1e(t,e,n){const r=on(t);N(r._canInitEmulator,r,"emulator-config-failed"),N(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!!n?.disableWarnings,i=W9(e),{host:s,port:a}=function D1e(t){const e=W9(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const i=o[1];return{host:i,port:K9(r.substr(i.length+1))}}{const[i,s]=r.split(":");return{host:i,port:K9(s)}}}(e);r.config.emulator={url:`${i}//${s}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:o})}),o||function b1e(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${o}`),n}!function SPe(t){ll(new Wt("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;N(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:j9(t)},u=new v1e(r,o,i,c);return function w1e(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ls);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ll(new Wt("auth-internal",e=>{const n=on(e.getProvider("auth").getImmediate());return new CPe(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gs(E7,"0.23.2",function TPe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Gs(E7,"0.23.2","esm2017")}("Browser");class HI{constructor(e){return e}}const FPe=bc(NPe,!0);var P,LPe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ro={},Qx=Qx||{},se=LPe||self;function GI(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Bp(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Yx="closure_uid_"+(1e9*Math.random()>>>0),jPe=0;function UPe(t,e,n){return t.call.apply(t.bind,arguments)}function $Pe(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),t.apply(e,o)}}return function(){return t.apply(e,arguments)}}function Fn(t,e,n){return(Fn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?UPe:$Pe).apply(null,arguments)}function zI(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function sn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,o,i){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[o].apply(r,s)}}function ca(){this.s=this.s,this.o=this.o}ca.prototype.s=!1,ca.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function VPe(t){Object.prototype.hasOwnProperty.call(t,Yx)&&t[Yx]||(t[Yx]=++jPe)}(this)},ca.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const T7=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Zx(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function S7(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(GI(r)){const o=t.length||0,i=r.length||0;t.length=o+i;for(let s=0;s<i;s++)t[o+s]=r[s]}else t.push(r)}}function Ln(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ln.prototype.h=function(){this.defaultPrevented=!0};var HPe=function(){if(!se.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{se.addEventListener("test",()=>{},e),se.removeEventListener("test",()=>{},e)}catch{}return t}();function Hp(t){return/^[\s\xa0]*$/.test(t)}function qI(){var t=se.navigator;return t&&(t=t.userAgent)?t:""}function yi(t){return-1!=qI().indexOf(t)}function Xx(t){return Xx[" "](t),t}Xx[" "]=function(){};var eN,t,zPe=yi("Opera"),ud=yi("Trident")||yi("MSIE"),A7=yi("Edge"),Jx=A7||ud,M7=yi("Gecko")&&!(-1!=qI().toLowerCase().indexOf("webkit")&&!yi("Edge"))&&!(yi("Trident")||yi("MSIE"))&&!yi("Edge"),qPe=-1!=qI().toLowerCase().indexOf("webkit")&&!yi("Edge");function x7(){var t=se.document;return t?t.documentMode:void 0}e:{var tN="",nN=(t=qI(),M7?/rv:([^\);]+)(\)|;)/.exec(t):A7?/Edge\/([\d\.]+)/.exec(t):ud?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):qPe?/WebKit\/(\S+)/.exec(t):zPe?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(nN&&(tN=nN?nN[1]:""),ud){var rN=x7();if(null!=rN&&rN>parseFloat(tN)){eN=String(rN);break e}}eN=tN}var WPe=se.document&&ud&&(x7()||parseInt(eN,10))||void 0;function Gp(t,e){if(Ln.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(M7){e:{try{Xx(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:KPe[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Gp.$.h.call(this)}}sn(Gp,Ln);var KPe={2:"touch",3:"pen",4:"mouse"};Gp.prototype.h=function(){Gp.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var zp="closure_listenable_"+(1e6*Math.random()|0),QPe=0;function YPe(t,e,n,r,o){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=o,this.key=++QPe,this.fa=this.ia=!1}function WI(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function iN(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function R7(t){const e={};for(const n in t)e[n]=t[n];return e}const O7="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P7(t,e){let n,r;for(let o=1;o<arguments.length;o++){for(n in r=arguments[o],r)t[n]=r[n];for(let i=0;i<O7.length;i++)n=O7[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function KI(t){this.src=t,this.g={},this.h=0}function sN(t,e){var n=e.type;if(n in t.g){var i,r=t.g[n],o=T7(r,e);(i=0<=o)&&Array.prototype.splice.call(r,o,1),i&&(WI(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function aN(t,e,n,r){for(var o=0;o<t.length;++o){var i=t[o];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return o}return-1}KI.prototype.add=function(t,e,n,r,o){var i=t.toString();(t=this.g[i])||(t=this.g[i]=[],this.h++);var s=aN(t,e,r,o);return-1<s?(e=t[s],n||(e.ia=!1)):((e=new YPe(e,this.src,i,!!r,o)).ia=n,t.push(e)),e};var cN="closure_lm_"+(1e6*Math.random()|0),uN={};function k7(t,e,n,r,o){if(r&&r.once)return L7(t,e,n,r,o);if(Array.isArray(e)){for(var i=0;i<e.length;i++)k7(t,e[i],n,r,o);return null}return n=hN(n),t&&t[zp]?t.O(e,n,Bp(r)?!!r.capture:!!r,o):F7(t,e,n,!1,r,o)}function F7(t,e,n,r,o,i){if(!e)throw Error("Invalid event type");var s=Bp(o)?!!o.capture:!!o,a=dN(t);if(a||(t[cN]=a=new KI(t)),(n=a.add(e,n,r,s,i)).proxy)return n;if(r=function XPe(){const e=JPe;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)HPe||(o=s),void 0===o&&(o=!1),t.addEventListener(e.toString(),r,o);else if(t.attachEvent)t.attachEvent(j7(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function L7(t,e,n,r,o){if(Array.isArray(e)){for(var i=0;i<e.length;i++)L7(t,e[i],n,r,o);return null}return n=hN(n),t&&t[zp]?t.P(e,n,Bp(r)?!!r.capture:!!r,o):F7(t,e,n,!0,r,o)}function V7(t,e,n,r,o){if(Array.isArray(e))for(var i=0;i<e.length;i++)V7(t,e[i],n,r,o);else r=Bp(r)?!!r.capture:!!r,n=hN(n),t&&t[zp]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=aN(i=t.g[e],n,r,o))&&(WI(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete t.g[e],t.h--))):t&&(t=dN(t))&&(e=t.g[e.toString()],t=-1,e&&(t=aN(e,n,r,o)),(n=-1<t?e[t]:null)&&lN(n))}function lN(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[zp])sN(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(j7(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=dN(e))?(sN(n,t),0==n.h&&(n.src=null,e[cN]=null)):WI(t)}}}function j7(t){return t in uN?uN[t]:uN[t]="on"+t}function JPe(t,e){if(t.fa)t=!0;else{e=new Gp(e,this);var n=t.listener,r=t.la||t.src;t.ia&&lN(t),t=n.call(r,e)}return t}function dN(t){return(t=t[cN])instanceof KI?t:null}var fN="__closure_events_fn_"+(1e9*Math.random()>>>0);function hN(t){return"function"==typeof t?t:(t[fN]||(t[fN]=function(e){return t.handleEvent(e)}),t[fN])}function an(){ca.call(this),this.i=new KI(this),this.S=this,this.J=null}function En(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new Ln(e,t);else if(e instanceof Ln)e.target=e.target||t;else{var o=e;P7(e=new Ln(r,t),o)}if(o=!0,n)for(var i=n.length-1;0<=i;i--){var s=e.g=n[i];o=QI(s,r,!0,e)&&o}if(o=QI(s=e.g=t,r,!0,e)&&o,o=QI(s,r,!1,e)&&o,n)for(i=0;i<n.length;i++)o=QI(s=e.g=n[i],r,!1,e)&&o}function QI(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,i=0;i<e.length;++i){var s=e[i];if(s&&!s.fa&&s.capture==n){var a=s.listener,c=s.la||s.src;s.ia&&sN(t.i,s),o=!1!==a.call(c,r)&&o}}return o&&!r.defaultPrevented}sn(an,ca),an.prototype[zp]=!0,an.prototype.removeEventListener=function(t,e,n,r){V7(this,t,e,n,r)},an.prototype.N=function(){if(an.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)WI(n[r]);delete t.g[e],t.h--}}this.J=null},an.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},an.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var pN=se.JSON.stringify;function tke(){var t=gN;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var U7=new class eke{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new rke,t=>t.reset());class rke{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function oke(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function ike(t){se.setTimeout(()=>{throw t},0)}let qp,Wp=!1,gN=new class nke{constructor(){this.h=this.g=null}add(e,n){const r=U7.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},$7=()=>{const t=se.Promise.resolve(void 0);qp=()=>{t.then(ske)}};var ske=()=>{for(var t;t=tke();){try{t.h.call(t.g)}catch(n){ike(n)}var e=U7;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Wp=!1};function YI(t,e){an.call(this),this.h=t||1,this.g=e||se,this.j=Fn(this.qb,this),this.l=Date.now()}function mN(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function _N(t,e,n){if("function"==typeof t)n&&(t=Fn(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Fn(t.handleEvent,t)}return 2147483647<Number(e)?-1:se.setTimeout(t,e||0)}function B7(t){t.g=_N(()=>{t.g=null,t.i&&(t.i=!1,B7(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}sn(YI,an),(P=YI.prototype).ga=!1,P.T=null,P.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),En(this,"tick"),this.ga&&(mN(this),this.start()))}},P.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},P.N=function(){YI.$.N.call(this),mN(this),delete this.g};class ake extends ca{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:B7(this)}N(){super.N(),this.g&&(se.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kp(t){ca.call(this),this.h=t,this.g={}}sn(Kp,ca);var H7=[];function G7(t,e,n,r){Array.isArray(n)||(n&&(H7[0]=n.toString()),n=H7);for(var o=0;o<n.length;o++){var i=k7(e,n[o],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function z7(t){iN(t.g,function(e,n){this.g.hasOwnProperty(n)&&lN(e)},t),t.g={}}function ZI(){this.g=!0}function ld(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function dke(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var i=o[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var s=1;s<o.length;s++)o[s]=""}}}return pN(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Kp.prototype.N=function(){Kp.$.N.call(this),z7(this)},Kp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ZI.prototype.Ea=function(){this.g=!1},ZI.prototype.info=function(){};var Ac={},q7=null;function XI(){return q7=q7||new an}function W7(t){Ln.call(this,Ac.Ta,t)}function Qp(t){const e=XI();En(e,new W7(e))}function K7(t,e){Ln.call(this,Ac.STAT_EVENT,t),this.stat=e}function sr(t){const e=XI();En(e,new K7(e,t))}function Q7(t,e){Ln.call(this,Ac.Ua,t),this.size=e}function Yp(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return se.setTimeout(function(){t()},e)}Ac.Ta="serverreachability",sn(W7,Ln),Ac.STAT_EVENT="statevent",sn(K7,Ln),Ac.Ua="timingevent",sn(Q7,Ln);var JI={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Y7={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function yN(){}function X7(){}yN.prototype.h=null;var wN,Zp={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function vN(){Ln.call(this,"d")}function IN(){Ln.call(this,"c")}function ew(){}function Xp(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Kp(this),this.P=fke,this.V=new YI(t=Jx?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new J7}function J7(){this.i=null,this.g="",this.h=!1}sn(vN,Ln),sn(IN,Ln),sn(ew,yN),ew.prototype.g=function(){return new XMLHttpRequest},ew.prototype.i=function(){return{}},wN=new ew;var fke=45e3,EN={},tw={};function DN(t,e,n){t.L=1,t.v=iw(fs(e)),t.s=n,t.S=!0,eK(t,null)}function eK(t,e){t.G=Date.now(),Jp(t),t.A=fs(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),lK(n.i,"t",r),t.C=0,n=t.l.J,t.h=new J7,t.g=PK(t.l,n?e:null,!t.s),0<t.O&&(t.M=new ake(Fn(t.Pa,t,t.g),t.O)),G7(t.U,t.g,"readystatechange",t.nb),e=t.I?R7(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Qp(),function cke(t,e,n,r,o,i){t.info(function(){if(t.g)if(i)for(var s="",a=i.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");s=2<=d.length&&"type"==d[1]?s+(l+"=")+u+"&":s+(l+"=redacted&")}}else s=null;else s=i;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+n+"\n"+s})}(t.j,t.u,t.A,t.m,t.W,t.s)}function tK(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function nK(t,e,n){let o,r=!0;for(;!t.J&&t.C<n.length;){if(o=hke(t,n),o==tw){4==e&&(t.o=4,sr(14),r=!1),ld(t.j,t.m,null,"[Incomplete Response]");break}if(o==EN){t.o=4,sr(15),ld(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}ld(t.j,t.m,o,null),bN(t,o)}tK(t)&&o!=tw&&o!=EN&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,sr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),NN(e),e.M=!0,sr(11))):(ld(t.j,t.m,n,"[Invalid Chunked Response]"),Mc(t),eg(t))}function hke(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?tw:(n=Number(e.substring(n,r)),isNaN(n)?EN:(r+=1)+n>e.length?tw:(e=e.slice(r,r+n),t.C=r+n,e))}function Jp(t){t.Y=Date.now()+t.P,rK(t,t.P)}function rK(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Yp(Fn(t.lb,t),e)}function nw(t){t.B&&(se.clearTimeout(t.B),t.B=null)}function eg(t){0==t.l.H||t.J||xK(t.l,t)}function Mc(t){nw(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,mN(t.V),z7(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function bN(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||CN(n.i,t)))if(!t.K&&CN(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;dw(n),uw(n)}xN(n),sr(18)}}else n.Fa=o[1],0<n.Fa-n.V&&37500>o[2]&&n.G&&0==n.A&&!n.v&&(n.v=Yp(Fn(n.ib,n),6e3));if(1>=hK(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Nc(n,11)}else if((t.K||n.g==t)&&dw(n),!Hp(e))for(o=n.Ja.g.parse(e),e=0;e<o.length;e++){let u=o[e];if(n.V=u[0],u=u[1],2==n.H)if("c"==u[0]){n.K=u[1],n.pa=u[2];const l=u[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=u[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const f=u[5];null!=f&&"number"==typeof f&&0<f&&(n.L=r=1.5*f,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var i=r.i;i.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(i.j=i.l,i.g=new Set,i.h&&(TN(i,i.h),i.h=null))}if(r.F){const g=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,nt(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=t;if((r=n).wa=OK(r,r.J?r.pa:null,r.Y),s.K){pK(r.i,s);var a=s,c=r.L;c&&a.setTimeout(c),a.B&&(nw(a),Jp(a)),r.g=s}else AK(r);0<n.j.length&&lw(n)}else"stop"!=u[0]&&"close"!=u[0]||Nc(n,7);else 3==n.H&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?Nc(n,7):MN(n):"noop"!=u[0]&&n.h&&n.h.Aa(u),n.A=0)}Qp()}catch{}}function oK(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(GI(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function gke(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(GI(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function pke(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(GI(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),o=r.length,i=0;i<o;i++)e.call(void 0,r[i],n&&n[i],t)}(P=Xp.prototype).setTimeout=function(t){this.P=t},P.nb=function(t){t=t.target;const e=this.M;e&&3==vi(t)?e.l():this.Pa(t)},P.Pa=function(t){try{if(t==this.g)e:{const l=vi(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||Jx||this.g&&(this.h.h||this.g.ja()||EK(this.g)))){this.J||4!=l||7==e||Qp(),nw(this);var n=this.g.da();this.ca=n;t:if(tK(this)){var r=EK(this.g);t="";var o=r.length,i=4==vi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Mc(this),eg(this);var s="";break t}this.h.i=new se.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==o-1});r.splice(0,o),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function uke(t,e,n,r,o,i,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+n+"\n"+i+" "+s})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Hp(a)){var u=a;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,sr(12),Mc(this),eg(this);break e}ld(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bN(this,n)}this.S?(nK(this,l,s),Jx&&this.i&&3==l&&(G7(this.U,this.V,"tick",this.mb),this.V.start())):(ld(this.j,this.m,s,null),bN(this,s)),4==l&&Mc(this),this.i&&!this.J&&(4==l?xK(this.l,this):(this.i=!1,Jp(this)))}else(function Oke(t){const e={};t=(t.g&&2<=vi(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Hp(t[r]))continue;var n=oke(t[r]);const o=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const i=e[o]||[];e[o]=i,i.push(n)}!function ZPe(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.o=3,sr(12)):(this.o=0,sr(13)),Mc(this),eg(this)}}}catch{}},P.mb=function(){if(this.g){var t=vi(this.g),e=this.g.ja();this.C<e.length&&(nw(this),nK(this,t,e),this.i&&4!=t&&Jp(this))}},P.cancel=function(){this.J=!0,Mc(this)},P.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function lke(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Qp(),sr(17)),Mc(this),this.o=2,eg(this)):rK(this,this.Y-t)};var iK=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xc(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof xc){this.h=t.h,rw(this,t.j),this.s=t.s,this.g=t.g,ow(this,t.m),this.l=t.l;var e=t.i,n=new rg;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),sK(this,n),this.o=t.o}else t&&(e=String(t).match(iK))?(this.h=!1,rw(this,e[1]||"",!0),this.s=tg(e[2]||""),this.g=tg(e[3]||"",!0),ow(this,e[4]),this.l=tg(e[5]||"",!0),sK(this,e[6]||"",!0),this.o=tg(e[7]||"")):(this.h=!1,this.i=new rg(null,this.h))}function fs(t){return new xc(t)}function rw(t,e,n){t.j=n?tg(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ow(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function sK(t,e,n){e instanceof rg?(t.i=e,function Eke(t,e){e&&!t.j&&(ua(t),t.i=null,t.g.forEach(function(n,r){var o=r.toLowerCase();r!=o&&(cK(this,r),lK(this,o,n))},t)),t.j=e}(t.i,t.h)):(n||(e=ng(e,Ike)),t.i=new rg(e,t.h))}function nt(t,e,n){t.i.set(e,n)}function iw(t){return nt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function tg(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ng(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,_ke),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function _ke(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}xc.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ng(e,aK,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(ng(e,aK,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(ng(n,"/"==n.charAt(0)?vke:yke,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ng(n,wke)),t.join("")};var aK=/[#\/\?@]/g,yke=/[#\?:]/g,vke=/[#\?]/g,Ike=/[#\?@]/g,wke=/#/g;function rg(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ua(t){t.g||(t.g=new Map,t.h=0,t.i&&function mke(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),o=null;if(0<=r){var i=t[n].substring(0,r);o=t[n].substring(r+1)}else i=t[n];e(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function cK(t,e){ua(t),e=dd(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function uK(t,e){return ua(t),e=dd(t,e),t.g.has(e)}function lK(t,e,n){cK(t,e),0<n.length&&(t.i=null,t.g.set(dd(t,e),Zx(n)),t.h+=n.length)}function dd(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function dK(t){this.l=t||bke,t=se.PerformanceNavigationTiming?0<(t=se.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(se.g&&se.g.Ka&&se.g.Ka()&&se.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(P=rg.prototype).add=function(t,e){ua(this),this.i=null,t=dd(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},P.forEach=function(t,e){ua(this),this.g.forEach(function(n,r){n.forEach(function(o){t.call(e,o,r,this)},this)},this)},P.ta=function(){ua(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const o=t[r];for(let i=0;i<o.length;i++)n.push(e[r])}return n},P.Z=function(t){ua(this);let e=[];if("string"==typeof t)uK(this,t)&&(e=e.concat(this.g.get(dd(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},P.set=function(t,e){return ua(this),this.i=null,uK(this,t=dd(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},P.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},P.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var o=i;""!==s[r]&&(o+="="+encodeURIComponent(String(s[r]))),t.push(o)}}return this.i=t.join("&")};var bke=10;function fK(t){return!!t.h||!!t.g&&t.g.size>=t.j}function hK(t){return t.h?1:t.g?t.g.size:0}function CN(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function TN(t,e){t.g?t.g.add(e):t.h=e}function pK(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function gK(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Zx(t.i)}dK.prototype.cancel=function(){if(this.i=gK(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var Cke=class{stringify(t){return se.JSON.stringify(t,void 0)}parse(t){return se.JSON.parse(t,void 0)}};function Tke(){this.g=new Cke}function Ske(t,e,n){const r=n||"";try{oK(t,function(o,i){let s=o;Bp(o)&&(s=pN(o)),e.push(r+i+"="+encodeURIComponent(s))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function sw(t,e,n,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch{}}function og(t){this.l=t.fc||null,this.j=t.ob||!1}function aw(t,e){an.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=SN,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}sn(og,yN),og.prototype.g=function(){return new aw(this.l,this.j)},og.prototype.i=function(t){return function(){return t}}({}),sn(aw,an);var SN=0;function mK(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function ig(t){t.readyState=4,t.l=null,t.j=null,t.A=null,sg(t)}function sg(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(P=aw.prototype).open=function(t,e){if(this.readyState!=SN)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,sg(this)},P.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||se).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},P.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ig(this)),this.readyState=SN},P.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,sg(this)),this.g&&(this.readyState=3,sg(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof se.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;mK(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},P.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ig(this):sg(this),3==this.readyState&&mK(this)}},P.Za=function(t){this.g&&(this.response=this.responseText=t,ig(this))},P.Ya=function(t){this.g&&(this.response=t,ig(this))},P.ka=function(){this.g&&ig(this)},P.setRequestHeader=function(t,e){this.v.append(t,e)},P.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},P.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(aw.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Mke=se.JSON.parse;function Dt(t){an.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=_K,this.L=this.M=!1}sn(Dt,an);var _K="",xke=/^https?$/i,Nke=["POST","PUT"];function yK(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,vK(t),cw(t)}function vK(t){t.F||(t.F=!0,En(t,"complete"),En(t,"error"))}function IK(t){if(t.h&&typeof Qx<"u"&&(!t.C[1]||4!=vi(t)||2!=t.da()))if(t.v&&4==vi(t))_N(t.La,0,t);else if(En(t,"readystatechange"),4==vi(t)){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===s){var o=String(t.I).match(iK)[1]||null;!o&&se.self&&se.self.location&&(o=se.self.location.protocol.slice(0,-1)),r=!xke.test(o?o.toLowerCase():"")}n=r}if(n)En(t,"complete"),En(t,"success");else{t.m=6;try{var i=2<vi(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",vK(t)}}finally{cw(t)}}}function cw(t,e){if(t.g){wK(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||En(t,"ready");try{n.onreadystatechange=r}catch{}}}function wK(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(se.clearTimeout(t.A),t.A=null)}function vi(t){return t.g?t.g.readyState:0}function EK(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case _K:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function DK(t){let e="";return iN(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function AN(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=DK(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):nt(t,e,n))}function ag(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function bK(t){this.Ga=0,this.j=[],this.l=new ZI,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ag("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ag("baseRetryDelayMs",5e3,t),this.hb=ag("retryDelaySeedMs",1e4,t),this.eb=ag("forwardChannelMaxRetries",2,t),this.xa=ag("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new dK(t&&t.concurrentRequestLimit),this.Ja=new Tke,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function MN(t){if(CK(t),3==t.H){var e=t.W++,n=fs(t.I);if(nt(n,"SID",t.K),nt(n,"RID",e),nt(n,"TYPE","terminate"),cg(t,n),(e=new Xp(t,t.l,e)).L=2,e.v=iw(fs(n)),n=!1,se.navigator&&se.navigator.sendBeacon)try{n=se.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&se.Image&&((new Image).src=e.v,n=!0),n||(e.g=PK(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Jp(e)}RK(t)}function uw(t){t.g&&(NN(t),t.g.cancel(),t.g=null)}function CK(t){uw(t),t.u&&(se.clearTimeout(t.u),t.u=null),dw(t),t.i.cancel(),t.m&&("number"==typeof t.m&&se.clearTimeout(t.m),t.m=null)}function lw(t){if(!fK(t.i)&&!t.m){t.m=!0;var e=t.Na;qp||$7(),Wp||(qp(),Wp=!0),gN.add(e,t),t.C=0}}function TK(t,e){var n;n=e?e.m:t.W++;const r=fs(t.I);nt(r,"SID",t.K),nt(r,"RID",n),nt(r,"AID",t.V),cg(t,r),t.o&&t.s&&AN(r,t.o,t.s),n=new Xp(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=SK(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),TN(t.i,n),DN(n,r,e)}function cg(t,e){t.na&&iN(t.na,function(n,r){nt(e,r,n)}),t.h&&oK({},function(n,r){nt(e,r,n)})}function SK(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Fn(t.h.Va,t.h,t):null;e:{var o=t.j;let i=-1;for(;;){const s=["count="+n];-1==i?0<n?(i=o[0].g,s.push("ofs="+i)):i=0:s.push("ofs="+i);let a=!0;for(let c=0;c<n;c++){let u=o[c].g;const l=o[c].map;if(u-=i,0>u)i=Math.max(0,o[c].g-100),a=!1;else try{Ske(l,s,"req"+u+"_")}catch{r&&r(l)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function AK(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;qp||$7(),Wp||(qp(),Wp=!0),gN.add(e,t),t.A=0}}function xN(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Yp(Fn(t.Ma,t),NK(t,t.A)),t.A++,0))}function NN(t){null!=t.B&&(se.clearTimeout(t.B),t.B=null)}function MK(t){t.g=new Xp(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=fs(t.wa);nt(e,"RID","rpc"),nt(e,"SID",t.K),nt(e,"AID",t.V),nt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&nt(e,"TO",t.qa),nt(e,"TYPE","xmlhttp"),cg(t,e),t.o&&t.s&&AN(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=iw(fs(e)),n.s=null,n.S=!0,eK(n,t)}function dw(t){null!=t.v&&(se.clearTimeout(t.v),t.v=null)}function xK(t,e){var n=null;if(t.g==e){dw(t),NN(t),t.g=null;var r=2}else{if(!CN(t.i,e))return;n=e.F,pK(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var o=t.C;En(r=XI(),new Q7(r,n)),lw(t)}else AK(t);else if(3==(o=e.o)||0==o&&0<e.ca||!(1==r&&function Pke(t,e){return!(hK(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Yp(Fn(t.Na,t,e),NK(t,t.C)),t.C++,0)))}(t,e)||2==r&&xN(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),o){case 1:Nc(t,5);break;case 4:Nc(t,10);break;case 3:Nc(t,6);break;default:Nc(t,2)}}function NK(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Nc(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=Fn(t.pb,t);n||(n=new xc("//www.google.com/images/cleardot.gif"),se.location&&"http"==se.location.protocol||rw(n,"https"),iw(n)),function Ake(t,e){const n=new ZI;if(se.Image){const r=new Image;r.onload=zI(sw,n,r,"TestLoadImage: loaded",!0,e),r.onerror=zI(sw,n,r,"TestLoadImage: error",!1,e),r.onabort=zI(sw,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=zI(sw,n,r,"TestLoadImage: timeout",!1,e),se.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else sr(2);t.H=0,t.h&&t.h.za(e),RK(t),CK(t)}function RK(t){if(t.H=0,t.ma=[],t.h){const e=gK(t.i);(0!=e.length||0!=t.j.length)&&(S7(t.ma,e),S7(t.ma,t.j),t.i.i.length=0,Zx(t.j),t.j.length=0),t.h.ya()}}function OK(t,e,n){var r=n instanceof xc?fs(n):new xc(n);if(""!=r.g)e&&(r.g=e+"."+r.g),ow(r,r.m);else{var o=se.location;r=o.protocol,e=e?e+"."+o.hostname:o.hostname,o=+o.port;var i=new xc(null);r&&rw(i,r),e&&(i.g=e),o&&ow(i,o),n&&(i.l=n),r=i}return e=t.Da,(n=t.F)&&e&&nt(r,n,e),nt(r,"VER",t.ra),cg(t,r),r}function PK(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Dt(n&&t.Ha&&!t.va?new og({ob:!0}):t.va)).Oa(t.J),e}function kK(){}function fw(){if(ud&&!(10<=Number(WPe)))throw Error("Environmental error: no available transport.")}function zr(t,e){an.call(this),this.g=new bK(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Hp(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Hp(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new fd(this)}function FK(t){vN.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function LK(){IN.call(this),this.status=1}function fd(t){this.g=t}function Oo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function RN(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var o=0;16>o;++o)r[o]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(o=0;16>o;++o)r[o]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var i=t.g[3],s=(e=t.g[0])+(i^(n=t.g[1])&((o=t.g[2])^i))+r[0]+3614090360&4294967295;s=(n=(o=(i=(e=(n=(o=(i=(e=(n=(o=(i=(e=(n=(o=(i=(e=(n=(o=(i=(e=(n=(o=(i=(e=(n=(o=(i=(e=(n=(o=(i=(e=(n=(o=(i=(e=(n=(o=(i=(e=(n=(o=(i=(e=(n=(o=(i=(e=(n=(o=(i=(e=(n=(o=(i=(e=(n=(o=(i=(e=n+(s<<7&4294967295|s>>>25))+((s=i+(o^e&(n^o))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=o+(n^i&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^o&(i^e))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(i^n&(o^i))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=i+(o^e&(n^o))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=o+(n^i&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^o&(i^e))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(i^n&(o^i))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=i+(o^e&(n^o))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=o+(n^i&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^o&(i^e))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(i^n&(o^i))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=i+(o^e&(n^o))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=o+(n^i&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^o&(i^e))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^i&(n^o))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=i+(n^o&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=o+(e^n&(i^e))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(i^e&(o^i))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(o^i&(n^o))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=i+(n^o&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=o+(e^n&(i^e))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(i^e&(o^i))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(o^i&(n^o))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=i+(n^o&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=o+(e^n&(i^e))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(i^e&(o^i))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(o^i&(n^o))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=i+(n^o&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=o+(e^n&(i^e))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(i^e&(o^i))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(n^o^i)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=i+(e^n^o)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=o+(i^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(o^i^e)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^o^i)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=i+(e^n^o)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=o+(i^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(o^i^e)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^o^i)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=i+(e^n^o)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=o+(i^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(o^i^e)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^o^i)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=i+(e^n^o)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=o+(i^e^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(o^i^e)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(o^(n|~i))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=i+(n^(e|~o))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=o+(e^(i|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(i^(o|~e))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(o^(n|~i))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=i+(n^(e|~o))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=o+(e^(i|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(i^(o|~e))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(o^(n|~i))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=i+(n^(e|~o))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=o+(e^(i|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(i^(o|~e))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((i=(e=n+((s=e+(o^(n|~i))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=i+(n^(e|~o))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((o=i+((s=o+(e^(i|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(o+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+o&4294967295,t.g[3]=t.g[3]+i&4294967295}function He(t,e){this.h=e;for(var n=[],r=!0,o=t.length-1;0<=o;o--){var i=0|t[o];r&&i==e||(n[o]=i,r=!1)}this.g=n}(P=Dt.prototype).Oa=function(t){this.M=t},P.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():wN.g(),this.C=function Z7(t){return t.h||(t.h=t.i())}(this.u?this.u:wN),this.g.onreadystatechange=Fn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){return void yK(this,i)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const i of r.keys())n.set(i,r.get(i))}r=Array.from(n.keys()).find(i=>"content-type"==i.toLowerCase()),o=se.FormData&&t instanceof se.FormData,!(0<=T7(Nke,e))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,s]of n)this.g.setRequestHeader(i,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{wK(this),0<this.B&&((this.L=function Rke(t){return ud&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Fn(this.ua,this)):this.A=_N(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){yK(this,i)}},P.ua=function(){typeof Qx<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,En(this,"timeout"),this.abort(8))},P.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,En(this,"complete"),En(this,"abort"),cw(this))},P.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),cw(this,!0)),Dt.$.N.call(this)},P.La=function(){this.s||(this.G||this.v||this.l?IK(this):this.kb())},P.kb=function(){IK(this)},P.isActive=function(){return!!this.g},P.da=function(){try{return 2<vi(this)?this.g.status:-1}catch{return-1}},P.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},P.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Mke(e)}},P.Ia=function(){return this.m},P.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(P=bK.prototype).ra=8,P.H=1,P.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const o=new Xp(this,this.l,t);let i=this.s;if(this.U&&(i?(i=R7(i),P7(i,this.U)):i=this.U),null!==this.o||this.O||(o.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=SK(this,o,e),nt(n=fs(this.I),"RID",t),nt(n,"CVER",22),this.F&&nt(n,"X-HTTP-Session-Id",this.F),cg(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(DK(i)))+"&"+e:this.o&&AN(n,this.o,i)),TN(this.i,o),this.bb&&nt(n,"TYPE","init"),this.P?(nt(n,"$req",e),nt(n,"SID","null"),o.aa=!0,DN(o,n,null)):DN(o,n,e),this.H=2}}else 3==this.H&&(t?TK(this,t):0==this.j.length||fK(this.i)||TK(this))},P.Ma=function(){if(this.u=null,MK(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Yp(Fn(this.jb,this),t)}},P.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,sr(10),uw(this),MK(this))},P.ib=function(){null!=this.v&&(this.v=null,uw(this),xN(this),sr(19))},P.pb=function(t){t?(this.l.info("Successfully pinged google.com"),sr(2)):(this.l.info("Failed to ping google.com"),sr(1))},P.isActive=function(){return!!this.h&&this.h.isActive(this)},(P=kK.prototype).Ba=function(){},P.Aa=function(){},P.za=function(){},P.ya=function(){},P.isActive=function(){return!0},P.Va=function(){},fw.prototype.g=function(t,e){return new zr(t,e)},sn(zr,an),zr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;sr(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=OK(t,null,t.Y),lw(t)},zr.prototype.close=function(){MN(this.g)},zr.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=pN(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&lw(e)},zr.prototype.N=function(){this.g.h=null,delete this.j,MN(this.g),delete this.g,zr.$.N.call(this)},sn(FK,vN),sn(LK,IN),sn(fd,kK),fd.prototype.Ba=function(){En(this.g,"a")},fd.prototype.Aa=function(t){En(this.g,new FK(t))},fd.prototype.za=function(t){En(this.g,new LK)},fd.prototype.ya=function(){En(this.g,"b")},sn(Oo,function kke(){this.blockSize=-1}),Oo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Oo.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,o=this.h,i=0;i<e;){if(0==o)for(;i<=n;)RN(this,t,i),i+=this.blockSize;if("string"==typeof t){for(;i<e;)if(r[o++]=t.charCodeAt(i++),o==this.blockSize){RN(this,r),o=0;break}}else for(;i<e;)if(r[o++]=t[i++],o==this.blockSize){RN(this,r),o=0;break}}this.h=o,this.i+=e},Oo.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var Fke={};function ON(t){return-128<=t&&128>t?function GPe(t,e){var n=Fke;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new He([0|e],0>e?-1:0)}):new He([0|t],0>t?-1:0)}function Ii(t){if(isNaN(t)||!isFinite(t))return hd;if(0>t)return Dn(Ii(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=PN;return new He(e,0)}var PN=4294967296,hd=ON(0),kN=ON(1),jK=ON(16777216);function hs(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function lo(t){return-1==t.h}function Dn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new He(n,~t.h).add(kN)}function hw(t,e){return t.add(Dn(e))}function pw(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ug(t,e){this.g=t,this.h=e}function gw(t,e){if(hs(e))throw Error("division by zero");if(hs(t))return new ug(hd,hd);if(lo(t))return e=gw(Dn(t),e),new ug(Dn(e.g),Dn(e.h));if(lo(e))return e=gw(t,Dn(e)),new ug(Dn(e.g),e.h);if(30<t.g.length){if(lo(t)||lo(e))throw Error("slowDivide_ only works with positive integers.");for(var n=kN,r=e;0>=r.X(t);)n=UK(n),r=UK(r);var o=pd(n,1),i=pd(r,1);for(r=pd(r,2),n=pd(n,2);!hs(r);){var s=i.add(r);0>=s.X(t)&&(o=o.add(n),i=s),r=pd(r,1),n=pd(n,1)}return e=hw(t,o.R(e)),new ug(o,e)}for(o=hd;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(i=Ii(n)).R(e);lo(s)||0<s.X(t);)s=(i=Ii(n-=r)).R(e);hs(i)&&(i=kN),o=o.add(i),t=hw(t,s)}return new ug(o,t)}function UK(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new He(n,t.h)}function pd(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,o=[],i=0;i<r;i++)o[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new He(o,t.h)}(P=He.prototype).ea=function(){if(lo(this))return-Dn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:PN+r)*e,e*=PN}return t},P.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(hs(this))return"0";if(lo(this))return"-"+Dn(this).toString(t);for(var e=Ii(Math.pow(t,6)),n=this,r="";;){var o=gw(n,e).g,i=((0<(n=hw(n,o.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(hs(n=o))return i+r;for(;6>i.length;)i="0"+i;r=i+r}},P.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},P.X=function(t){return lo(t=hw(this,t))?-1:hs(t)?0:1},P.abs=function(){return lo(this)?Dn(this):this},P.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,o=0;o<=e;o++){var i=r+(65535&this.D(o))+(65535&t.D(o)),s=(i>>>16)+(this.D(o)>>>16)+(t.D(o)>>>16);r=s>>>16,n[o]=(s&=65535)<<16|(i&=65535)}return new He(n,-2147483648&n[n.length-1]?-1:0)},P.R=function(t){if(hs(this)||hs(t))return hd;if(lo(this))return lo(t)?Dn(this).R(Dn(t)):Dn(Dn(this).R(t));if(lo(t))return Dn(this.R(Dn(t)));if(0>this.X(jK)&&0>t.X(jK))return Ii(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var o=0;o<t.g.length;o++){var i=this.D(r)>>>16,s=65535&this.D(r),a=t.D(o)>>>16,c=65535&t.D(o);n[2*r+2*o]+=s*c,pw(n,2*r+2*o),n[2*r+2*o+1]+=i*c,pw(n,2*r+2*o+1),n[2*r+2*o+1]+=s*a,pw(n,2*r+2*o+1),n[2*r+2*o+2]+=i*a,pw(n,2*r+2*o+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new He(n,0)},P.gb=function(t){return gw(this,t).h},P.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new He(n,this.h&t.h)},P.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new He(n,this.h|t.h)},P.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new He(n,this.h^t.h)},fw.prototype.createWebChannel=fw.prototype.g,zr.prototype.send=zr.prototype.u,zr.prototype.open=zr.prototype.m,zr.prototype.close=zr.prototype.close,JI.NO_ERROR=0,JI.TIMEOUT=8,JI.HTTP_ERROR=6,Y7.COMPLETE="complete",X7.EventType=Zp,Zp.OPEN="a",Zp.CLOSE="b",Zp.ERROR="c",Zp.MESSAGE="d",an.prototype.listen=an.prototype.O,Dt.prototype.listenOnce=Dt.prototype.P,Dt.prototype.getLastError=Dt.prototype.Sa,Dt.prototype.getLastErrorCode=Dt.prototype.Ia,Dt.prototype.getStatus=Dt.prototype.da,Dt.prototype.getResponseJson=Dt.prototype.Wa,Dt.prototype.getResponseText=Dt.prototype.ja,Dt.prototype.send=Dt.prototype.ha,Dt.prototype.setWithCredentials=Dt.prototype.Oa,Oo.prototype.digest=Oo.prototype.l,Oo.prototype.reset=Oo.prototype.reset,Oo.prototype.update=Oo.prototype.j,He.prototype.add=He.prototype.add,He.prototype.multiply=He.prototype.R,He.prototype.modulo=He.prototype.gb,He.prototype.compare=He.prototype.X,He.prototype.toNumber=He.prototype.ea,He.prototype.toString=He.prototype.toString,He.prototype.getBits=He.prototype.D,He.fromNumber=Ii,He.fromString=function VK(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Dn(VK(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Ii(Math.pow(e,8)),r=hd,o=0;o<t.length;o+=8){var i=Math.min(8,t.length-o),s=parseInt(t.substring(o,o+i),e);8>i?(i=Ii(Math.pow(e,i)),r=r.R(i).add(Ii(s))):r=(r=r.R(n)).add(Ii(s))}return r};var BK,HK,GK,KK,QK,YK,ZK,XK,JK,iQ,sQ,aQ,cQ,uQ,lQ,dQ,hQ,pQ,yQ,vQ,SQ,AQ,MQ,xQ,NQ,Lke=Ro.createWebChannelTransport=function(){return new fw},Vke=Ro.getStatEventTarget=function(){return XI()},FN=Ro.ErrorCode=JI,jke=Ro.EventType=Y7,Uke=Ro.Event=Ac,$K=Ro.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},$ke=Ro.FetchXmlHttpFactory=og,mw=Ro.WebChannel=X7,Bke=Ro.XhrIo=Dt,Hke=Ro.Md5=Oo,gd=Ro.Integer=He;const RQ="@firebase/firestore";class cn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");let md="9.23.0";const la=new ul("@firebase/firestore");function LN(){return la.logLevel}function x(t,...e){if(la.logLevel<=Me.DEBUG){const n=e.map(VN);la.debug(`Firestore (${md}): ${t}`,...n)}}function Nt(t,...e){if(la.logLevel<=Me.ERROR){const n=e.map(VN);la.error(`Firestore (${md}): ${t}`,...n)}}function Po(t,...e){if(la.logLevel<=Me.WARN){const n=e.map(VN);la.warn(`Firestore (${md}): ${t}`,...n)}}function VN(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function L(t="Unexpected state"){const e=`FIRESTORE (${md}) INTERNAL ASSERTION FAILED: `+t;throw Nt(e),new Error(e)}function B(t,e){t||L()}function O(t,e){return t}const D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class S extends Zn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Zt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class OQ{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Gke{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(cn.UNAUTHENTICATED))}shutdown(){}}class zke{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class qke{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let o=this.i;const i=u=>this.i!==o?(o=this.i,n(u)):Promise.resolve();let s=new Zt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Zt,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const u=s;e.enqueueRetryable(v(function*(){yield u.promise,yield i(r.currentUser)}))},c=u=>{x("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(x("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Zt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(x("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(B("string"==typeof r.accessToken),new OQ(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return B(null===e||"string"==typeof e),new cn(e)}}class Wke{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Kke{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new Wke(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class PQ{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Qke{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=i=>{null!=i.error&&x("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const s=i.token!==this.T;return this.T=i.token,x("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const o=i=>{x("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.I.onInit(i=>o(i)),setTimeout(()=>{if(!this.appCheck){const i=this.I.getImmediate({optional:!0});i?o(i):x("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(B("string"==typeof n.token),this.T=n.token,new PQ(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Yke(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class kQ{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const o=Yke(40);for(let i=0;i<o.length;++i)r.length<20&&o[i]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(o[i]%62))}return r}}function te(t,e){return t<e?-1:t>e?1:0}function _d(t,e,n){return t.length===e.length&&t.every((r,o)=>n(r,e[o]))}class mt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new S(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new S(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new S(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new S(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new mt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?te(this.nanoseconds,e.nanoseconds):te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class H{constructor(e){this.timestamp=e}static fromTimestamp(e){return new H(e)}static min(){return new H(new mt(0,0))}static max(){return new H(new mt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class lg{constructor(e,n,r){void 0===n?n=0:n>e.length&&L(),void 0===r?r=e.length-n:r>e.length-n&&L(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===lg.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof lg?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const i=e.get(o),s=n.get(o);if(i<s)return-1;if(i>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Se extends lg{construct(e,n,r){return new Se(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new S(D.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(o=>o.length>0))}return new Se(n)}static emptyPath(){return new Se([])}}const Zke=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rt extends lg{construct(e,n,r){return new Rt(e,n,r)}static isValidIdentifier(e){return Zke.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Rt(["__name__"])}static fromServerFormat(e){const n=[];let r="",o=0;const i=()=>{if(0===r.length)throw new S(D.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;o<e.length;){const a=e[o];if("\\"===a){if(o+1===e.length)throw new S(D.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[o+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new S(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,o+=2}else"`"===a?(s=!s,o++):"."!==a||s?(r+=a,o++):(i(),o++)}if(i(),s)throw new S(D.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rt(n)}static emptyPath(){return new Rt([])}}class R{constructor(e){this.path=e}static fromPath(e){return new R(Se.fromString(e))}static fromName(e){return new R(Se.fromString(e).popFirst(5))}static empty(){return new R(Se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Se.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Se.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new R(new Se(e.slice()))}}function VQ(t){return new qr(t.readTime,t.key,-1)}class qr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new qr(H.min(),R.empty(),-1)}static max(){return new qr(H.max(),R.empty(),-1)}}function UN(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=R.comparator(t.documentKey,e.documentKey),0!==n?n:te(t.largestBatchId,e.largestBatchId))}const jQ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eFe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function da(t){return(BK=BK||v(function*(e){if(e.code!==D.FAILED_PRECONDITION||e.message!==jQ)throw e;x("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class E{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&L(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new E((r,o)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,o)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof E?n:E.resolve(n)}catch(n){return E.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):E.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):E.reject(n)}static resolve(e){return new E((n,r)=>{n(e)})}static reject(e){return new E((n,r)=>{r(e)})}static waitFor(e){return new E((n,r)=>{let o=0,i=0,s=!1;e.forEach(a=>{++o,a.next(()=>{++i,s&&i===o&&n()},c=>r(c))}),s=!0,i===o&&n()})}static or(e){let n=E.resolve(!1);for(const r of e)n=n.next(o=>o?E.resolve(o):r());return n}static forEach(e,n){const r=[];return e.forEach((o,i)=>{r.push(n.call(this,o,i))}),this.waitFor(r)}static mapArray(e,n){return new E((r,o)=>{const i=e.length,s=new Array(i);let a=0;for(let c=0;c<i;c++){const u=c;n(e[u]).next(l=>{s[u]=l,++a,a===i&&r(s)},l=>o(l))}})}static doWhile(e,n){return new E((r,o)=>{const i=()=>{!0===e()?n().next(()=>{i()},o):r()};i()})}}function fa(t){return"IndexedDbTransactionError"===t.name}let Wr=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=o=>this.ot(o),this.ut=o=>r.writeSequenceNumber(o))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function hg(t){return null==t}function pg(t){return 0===t&&1/t==-1/0}function KQ(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ha(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}class tt{constructor(e,n){this.comparator=e,this.root=n||bn.EMPTY}insert(e,n){return new tt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,bn.BLACK,null,null))}remove(e){return new tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ww(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ww(this.root,e,this.comparator,!1)}getReverseIterator(){return new ww(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ww(this.root,e,this.comparator,!0)}}class ww{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&o&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bn{constructor(e,n,r,o,i){this.key=e,this.value=n,this.color=r??bn.RED,this.left=o??bn.EMPTY,this.right=i??bn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,i){return new bn(e??this.key,n??this.value,r??this.color,o??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const i=r(e,o.key);return o=i<0?o.copy(null,null,null,o.left.insert(e,n,r),null):0===i?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return bn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===n(e,o.key)){if(o.right.isEmpty())return bn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw L();const e=this.left.check();if(e!==this.right.check())throw L();return e+(this.isRed()?0:1)}}bn.EMPTY=null,bn.RED=!0,bn.BLACK=!1,bn.EMPTY=new class{constructor(){this.size=0}get key(){throw L()}get value(){throw L()}get color(){throw L()}get left(){throw L()}get right(){throw L()}copy(t,e,n,r,o){return this}insert(t,e,n){return new bn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class rt{constructor(e){this.comparator=e,this.data=new tt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new YQ(this.data.getIterator())}getIteratorFrom(e){return new YQ(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof rt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,i=r.getNext().key;if(0!==this.comparator(o,i))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new rt(this.comparator);return n.data=e,n}}class YQ{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Cr{constructor(e){this.fields=e,e.sort(Rt.comparator)}static empty(){return new Cr([])}unionWith(e){let n=new rt(Rt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Cr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _d(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class ZQ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new ZQ("Invalid base64 string: "+o):o}}(e);return new Xt(n)}static fromUint8Array(e){const n=function(r){let o="";for(let i=0;i<r.length;++i)o+=String.fromCharCode(r[i]);return o}(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const DFe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pa(t){if(B(!!t),"string"==typeof t){let e=0;const n=DFe.exec(t);if(B(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:bt(t.seconds),nanos:bt(t.nanos)}}function bt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ps(t){return"string"==typeof t?Xt.fromBase64String(t):Xt.fromUint8Array(t)}function Ew(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Dw(t){const e=t.mapValue.fields.__previous_value__;return Ew(e)?Dw(e):e}function gg(t){const e=pa(t.mapValue.fields.__local_write_time__.timestampValue);return new mt(e.seconds,e.nanos)}class bFe{constructor(e,n,r,o,i,s,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}}class Pc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Pc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Pc&&e.projectId===this.projectId&&e.database===this.database}}const ga={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ma(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ew(t)?4:tY(t)?9007199254740991:10:L()}function Ei(t,e){if(t===e)return!0;const n=ma(t);if(n!==ma(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return gg(t).isEqual(gg(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const i=pa(r.timestampValue),s=pa(o.timestampValue);return i.seconds===s.seconds&&i.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return o=e,ps(t.bytesValue).isEqual(ps(o.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,o){return bt(r.geoPointValue.latitude)===bt(o.geoPointValue.latitude)&&bt(r.geoPointValue.longitude)===bt(o.geoPointValue.longitude)}(t,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return bt(r.integerValue)===bt(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const i=bt(r.doubleValue),s=bt(o.doubleValue);return i===s?pg(i)===pg(s):isNaN(i)&&isNaN(s)}return!1}(t,e);case 9:return _d(t.arrayValue.values||[],e.arrayValue.values||[],Ei);case 10:return function(r,o){const i=r.mapValue.fields||{},s=o.mapValue.fields||{};if(KQ(i)!==KQ(s))return!1;for(const a in i)if(i.hasOwnProperty(a)&&(void 0===s[a]||!Ei(i[a],s[a])))return!1;return!0}(t,e);default:return L()}var o}function mg(t,e){return void 0!==(t.values||[]).find(n=>Ei(n,e))}function _a(t,e){if(t===e)return 0;const n=ma(t),r=ma(e);if(n!==r)return te(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return te(t.booleanValue,e.booleanValue);case 2:return function(o,i){const s=bt(o.integerValue||o.doubleValue),a=bt(i.integerValue||i.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(t,e);case 3:return XQ(t.timestampValue,e.timestampValue);case 4:return XQ(gg(t),gg(e));case 5:return te(t.stringValue,e.stringValue);case 6:return function(o,i){const s=ps(o),a=ps(i);return s.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(o,i){const s=o.split("/"),a=i.split("/");for(let c=0;c<s.length&&c<a.length;c++){const u=te(s[c],a[c]);if(0!==u)return u}return te(s.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,i){const s=te(bt(o.latitude),bt(i.latitude));return 0!==s?s:te(bt(o.longitude),bt(i.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,i){const s=o.values||[],a=i.values||[];for(let c=0;c<s.length&&c<a.length;++c){const u=_a(s[c],a[c]);if(u)return u}return te(s.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,i){if(o===ga.mapValue&&i===ga.mapValue)return 0;if(o===ga.mapValue)return 1;if(i===ga.mapValue)return-1;const s=o.fields||{},a=Object.keys(s),c=i.fields||{},u=Object.keys(c);a.sort(),u.sort();for(let l=0;l<a.length&&l<u.length;++l){const d=te(a[l],u[l]);if(0!==d)return d;const f=_a(s[a[l]],c[u[l]]);if(0!==f)return f}return te(a.length,u.length)}(t.mapValue,e.mapValue);default:throw L()}}function XQ(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return te(t,e);const n=pa(t),r=pa(e),o=te(n.seconds,r.seconds);return 0!==o?o:te(n.nanos,r.nanos)}function vd(t){return HN(t)}function HN(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const o=pa(r);return`time(${o.seconds},${o.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ps(t.bytesValue).toBase64():"referenceValue"in t?R.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let o="[",i=!0;for(const s of r.values||[])i?i=!1:o+=",",o+=HN(s);return o+"]"}(t.arrayValue):"mapValue"in t?function(r){const o=Object.keys(r.fields||{}).sort();let i="{",s=!0;for(const a of o)s?s=!1:i+=",",i+=`${a}:${HN(r.fields[a])}`;return i+"}"}(t.mapValue):L();var e}function GN(t){return!!t&&"integerValue"in t}function _g(t){return!!t&&"arrayValue"in t}function JQ(t){return!!t&&"nullValue"in t}function eY(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Tw(t){return!!t&&"mapValue"in t}function yg(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ha(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=yg(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=yg(t.arrayValue.values[n]);return e}return Object.assign({},t)}function tY(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Tw(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=yg(n)}setAll(e){let n=Rt.emptyPath(),r={},o=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,o),r={},o=[],n=a.popLast()}s?r[a.lastSegment()]=yg(s):o.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,o)}delete(e){const n=this.field(e.popLast());Tw(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ei(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];Tw(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){ha(n,(o,i)=>e[o]=i);for(const o of r)delete e[o]}clone(){return new Cn(yg(this.value))}}class ot{constructor(e,n,r,o,i,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new ot(e,0,H.min(),H.min(),H.min(),Cn.empty(),0)}static newFoundDocument(e,n,r,o){return new ot(e,1,n,H.min(),r,o,0)}static newNoDocument(e,n){return new ot(e,2,n,H.min(),H.min(),Cn.empty(),0)}static newUnknownDocument(e,n){return new ot(e,3,n,H.min(),H.min(),Cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(H.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=H.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ot&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ot(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ya{constructor(e,n){this.position=e,this.inclusive=n}}function iY(t,e,n){let r=0;for(let o=0;o<t.position.length;o++){const i=e[o],s=t.position[o];if(r=i.field.isKeyField()?R.comparator(R.fromName(s.referenceValue),n.key):_a(s,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return r}function sY(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ei(t.position[n],e.position[n]))return!1;return!0}class Id{constructor(e,n="asc"){this.field=e,this.dir=n}}function SFe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class aY{}class ve extends aY{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new AFe(e,n,r):"array-contains"===n?new NFe(e,r):"in"===n?new hY(e,r):"not-in"===n?new RFe(e,r):"array-contains-any"===n?new OFe(e,r):new ve(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new MFe(e,r):new xFe(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(_a(n,this.value)):null!==n&&ma(this.value)===ma(n)&&this.matchesComparison(_a(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return L()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ge extends aY{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Ge(e,n)}matches(e){return wd(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function wd(t){return"and"===t.op}function qN(t){return function cY(t){for(const e of t.filters)if(e instanceof Ge)return!1;return!0}(t)&&wd(t)}function WN(t){if(t instanceof ve)return t.field.canonicalString()+t.op.toString()+vd(t.value);if(qN(t))return t.filters.map(e=>WN(e)).join(",");{const e=t.filters.map(n=>WN(n)).join(",");return`${t.op}(${e})`}}function uY(t,e){return t instanceof ve?(n=t,(r=e)instanceof ve&&n.op===r.op&&n.field.isEqual(r.field)&&Ei(n.value,r.value)):t instanceof Ge?function(n,r){return r instanceof Ge&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((o,i,s)=>o&&uY(i,r.filters[s]),!0)}(t,e):void L();var n,r}function dY(t){return t instanceof ve?`${(e=t).field.canonicalString()} ${e.op} ${vd(e.value)}`:t instanceof Ge?function(e){return e.op.toString()+" {"+e.getFilters().map(dY).join(" ,")+"}"}(t):"Filter";var e}class AFe extends ve{constructor(e,n,r){super(e,n,r),this.key=R.fromName(r.referenceValue)}matches(e){const n=R.comparator(e.key,this.key);return this.matchesComparison(n)}}class MFe extends ve{constructor(e,n){super(e,"in",n),this.keys=fY(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class xFe extends ve{constructor(e,n){super(e,"not-in",n),this.keys=fY(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function fY(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>R.fromName(r.referenceValue))}class NFe extends ve{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return _g(n)&&mg(n.arrayValue,this.value)}}class hY extends ve{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&mg(this.value.arrayValue,n)}}class RFe extends ve{constructor(e,n){super(e,"not-in",n)}matches(e){if(mg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!mg(this.value.arrayValue,n)}}class OFe extends ve{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!_g(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>mg(this.value.arrayValue,r))}}class PFe{constructor(e,n=null,r=[],o=[],i=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=i,this.startAt=s,this.endAt=a,this.dt=null}}function KN(t,e=null,n=[],r=[],o=null,i=null,s=null){return new PFe(t,e,n,r,o,i,s)}function Fc(t){const e=O(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>WN(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),hg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>vd(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>vd(r)).join(",")),e.dt=n}return e.dt}function vg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!SFe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!uY(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!sY(t.startAt,e.startAt)&&sY(t.endAt,e.endAt)}function Sw(t){return R.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class gs{constructor(e,n=null,r=[],o=[],i=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=c,this.wt=null,this._t=null}}function Ed(t){return new gs(t)}function _Y(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function Lc(t){const e=O(t);if(null===e.wt){e.wt=[];const n=function Mw(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}(e),r=function QN(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new Id(n)),e.wt.push(new Id(Rt.keyField(),"asc"));else{let o=!1;for(const i of e.explicitOrderBy)e.wt.push(i),i.field.isKeyField()&&(o=!0);if(!o){const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Id(Rt.keyField(),i))}}}return e.wt}function ar(t){const e=O(t);if(!e._t)if("F"===e.limitType)e._t=KN(e.path,e.collectionGroup,Lc(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const i of Lc(e))n.push(new Id(i.field,"desc"===i.dir?"asc":"desc"));const r=e.endAt?new ya(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new ya(e.startAt.position,e.startAt.inclusive):null;e._t=KN(e.path,e.collectionGroup,n,e.filters,e.limit,r,o)}return e._t}function xw(t,e,n){return new gs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ig(t,e){return vg(ar(t),ar(e))&&t.limitType===e.limitType}function yY(t){return`${Fc(ar(t))}|lt:${t.limitType}`}function XN(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>dY(r)).join(", ")}]`),hg(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>vd(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>vd(r)).join(",")),`Target(${n})`}(ar(t))}; limitType=${t.limitType})`}function wg(t,e){return e.isFoundDocument()&&function(n,r){const o=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):R.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(t,e)&&function(n,r){for(const o of Lc(n))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(t,e)&&function(n,r){for(const o of n.filters)if(!o.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(o,i,s){const a=iY(o,i,s);return o.inclusive?a<=0:a<0}(n.startAt,Lc(n),r)||n.endAt&&!function(o,i,s){const a=iY(o,i,s);return o.inclusive?a>=0:a>0}(n.endAt,Lc(n),r)));var n,r}function IY(t){return(e,n)=>{let r=!1;for(const o of Lc(t)){const i=kFe(o,e,n);if(0!==i)return i;r=r||o.field.isKeyField()}return 0}}function kFe(t,e,n){const r=t.field.isKeyField()?R.comparator(e.key,n.key):function(o,i,s){const a=i.data.field(o),c=s.data.field(o);return null!==a&&null!==c?_a(a,c):L()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return L()}}class ms{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[o,i]of r)if(this.equalsFn(o,e))return i}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<o.length;i++)if(this.equalsFn(o[i][0],e))return void(o[i]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ha(this.inner,(n,r)=>{for(const[o,i]of r)e(o,i)})}isEmpty(){return function QQ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(this.inner)}size(){return this.innerSize}}const FFe=new tt(R.comparator);function Tr(){return FFe}const wY=new tt(R.comparator);function Eg(...t){let e=wY;for(const n of t)e=e.insert(n.key,n);return e}function EY(t){let e=wY;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Di(){return Dg()}function DY(){return Dg()}function Dg(){return new ms(t=>t.toString(),(t,e)=>t.isEqual(e))}new tt(R.comparator);const VFe=new rt(R.comparator);function fe(...t){let e=VFe;for(const n of t)e=e.add(n);return e}const jFe=new rt(te);class Nw{constructor(){this._=void 0}}function UFe(t,e,n){return t instanceof Dd?function(r,o){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Ew(o)&&(o=Dw(o)),o&&(i.fields.__previous_value__=o),{mapValue:i}}(n,e):t instanceof Vc?AY(t,e):t instanceof jc?MY(t,e):function(r,o){const i=function SY(t,e){return t instanceof bd?GN(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}(r,o),s=xY(i)+xY(r.gt);return GN(i)&&GN(r.gt)?function CY(t){return{integerValue:""+t}}(s):function bY(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pg(e)?"-0":e}}(r.serializer,s)}(t,e)}function $Fe(t,e,n){return t instanceof Vc?AY(t,e):t instanceof jc?MY(t,e):n}class Dd extends Nw{}class Vc extends Nw{constructor(e){super(),this.elements=e}}function AY(t,e){const n=NY(e);for(const r of t.elements)n.some(o=>Ei(o,r))||n.push(r);return{arrayValue:{values:n}}}class jc extends Nw{constructor(e){super(),this.elements=e}}function MY(t,e){let n=NY(e);for(const r of t.elements)n=n.filter(o=>!Ei(o,r));return{arrayValue:{values:n}}}class bd extends Nw{constructor(e,n){super(),this.serializer=e,this.gt=n}}function xY(t){return bt(t.integerValue||t.doubleValue)}function NY(t){return _g(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class lt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new lt}static exists(e){return new lt(void 0,e)}static updateTime(e){return new lt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rw(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class eR{}function RY(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Td(t.key,lt.none()):new Cd(t.key,t.data,lt.none());{const n=t.data,r=Cn.empty();let o=new rt(Rt.comparator);for(let i of e.fields)if(!o.has(i)){let s=n.field(i);null===s&&i.length>1&&(i=i.popLast(),s=n.field(i)),null===s?r.delete(i):r.set(i,s),o=o.add(i)}return new _s(t.key,r,new Cr(o.toArray()),lt.none())}}function GFe(t,e,n){t instanceof Cd?function(r,o,i){const s=r.value.clone(),a=kY(r.fieldTransforms,o,i.transformResults);s.setAll(a),o.convertToFoundDocument(i.version,s).setHasCommittedMutations()}(t,e,n):t instanceof _s?function(r,o,i){if(!Rw(r.precondition,o))return void o.convertToUnknownDocument(i.version);const s=kY(r.fieldTransforms,o,i.transformResults),a=o.data;a.setAll(PY(r)),a.setAll(s),o.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Cg(t,e,n,r){return t instanceof Cd?function(o,i,s,a){if(!Rw(o.precondition,i))return s;const c=o.value.clone(),u=FY(o.fieldTransforms,a,i);return c.setAll(u),i.convertToFoundDocument(i.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof _s?function(o,i,s,a){if(!Rw(o.precondition,i))return s;const c=FY(o.fieldTransforms,a,i),u=i.data;return u.setAll(PY(o)),u.setAll(c),i.convertToFoundDocument(i.version,u).setHasLocalMutations(),null===s?null:s.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(l=>l.field))}(t,e,n,r):(s=n,Rw(t.precondition,i=e)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):s);var i,s}function OY(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&_d(n,r,(o,i)=>function BFe(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Vc&&r instanceof Vc||n instanceof jc&&r instanceof jc?_d(n.elements,r.elements,Ei):n instanceof bd&&r instanceof bd?Ei(n.gt,r.gt):n instanceof Dd&&r instanceof Dd);var n,r}(o,i))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class Cd extends eR{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class _s extends eR{constructor(e,n,r,o,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function PY(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function kY(t,e,n){const r=new Map;B(t.length===n.length);for(let o=0;o<n.length;o++){const i=t[o],s=i.transform,a=e.data.field(i.field);r.set(i.field,$Fe(s,a,n[o]))}return r}function FY(t,e,n){const r=new Map;for(const o of t){const i=o.transform,s=n.data.field(o.field);r.set(o.field,UFe(i,s,e))}return r}class Td extends eR{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nR{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const i=this.mutations[o];i.key.isEqual(e.key)&&GFe(i,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Cg(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Cg(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=DY();return this.mutations.forEach(o=>{const i=e.get(o.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=n.has(o.key)?null:a;const c=RY(s,a);null!==c&&r.set(o.key,c),s.isValidDocument()||s.convertToNoDocument(H.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),fe())}isEqual(e){return this.batchId===e.batchId&&_d(this.mutations,e.mutations,(n,r)=>OY(n,r))&&_d(this.baseMutations,e.baseMutations,(n,r)=>OY(n,r))}}class oR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class WFe{constructor(e,n){this.count=e,this.unchangedNames=n}}var $t,Ae;function VY(t){if(void 0===t)return Nt("GRPC error has no .code"),D.UNKNOWN;switch(t){case $t.OK:return D.OK;case $t.CANCELLED:return D.CANCELLED;case $t.UNKNOWN:return D.UNKNOWN;case $t.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case $t.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case $t.INTERNAL:return D.INTERNAL;case $t.UNAVAILABLE:return D.UNAVAILABLE;case $t.UNAUTHENTICATED:return D.UNAUTHENTICATED;case $t.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case $t.NOT_FOUND:return D.NOT_FOUND;case $t.ALREADY_EXISTS:return D.ALREADY_EXISTS;case $t.PERMISSION_DENIED:return D.PERMISSION_DENIED;case $t.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case $t.ABORTED:return D.ABORTED;case $t.OUT_OF_RANGE:return D.OUT_OF_RANGE;case $t.UNIMPLEMENTED:return D.UNIMPLEMENTED;case $t.DATA_LOSS:return D.DATA_LOSS;default:return L()}}(Ae=$t||($t={}))[Ae.OK=0]="OK",Ae[Ae.CANCELLED=1]="CANCELLED",Ae[Ae.UNKNOWN=2]="UNKNOWN",Ae[Ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ae[Ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ae[Ae.NOT_FOUND=5]="NOT_FOUND",Ae[Ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ae[Ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ae[Ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ae[Ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ae[Ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ae[Ae.ABORTED=10]="ABORTED",Ae[Ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ae[Ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ae[Ae.INTERNAL=13]="INTERNAL",Ae[Ae.UNAVAILABLE=14]="UNAVAILABLE",Ae[Ae.DATA_LOSS=15]="DATA_LOSS";class iR{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Ow}static getOrCreateInstance(){return null===Ow&&(Ow=new iR),Ow}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Ow=null;const KFe=new gd([4294967295,4294967295],0);function UY(t){const e=function jY(){return new TextEncoder}().encode(t),n=new Hke;return n.update(e),new Uint8Array(n.digest())}function $Y(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new gd([n,r],0),new gd([o,i],0)]}class sR{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Tg(`Invalid padding: ${n}`);if(r<0)throw new Tg(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Tg(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new Tg(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=gd.fromNumber(this.It)}Et(e,n,r){let o=e.add(n.multiply(gd.fromNumber(r)));return 1===o.compare(KFe)&&(o=new gd([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=UY(e),[r,o]=$Y(n);for(let i=0;i<this.hashCount;i++){const s=this.Et(r,o,i);if(!this.At(s))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new sR(i,o,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.It)return;const n=UY(e),[r,o]=$Y(n);for(let i=0;i<this.hashCount;i++){const s=this.Et(r,o,i);this.Rt(s)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Tg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sg{constructor(e,n,r,o,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,Ag.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Sg(H.min(),o,new tt(te),Tr(),fe())}}class Ag{constructor(e,n,r,o,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ag(r,n,fe(),fe(),fe())}}class Pw{constructor(e,n,r,o){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=o}}class BY{constructor(e,n){this.targetId=e,this.Vt=n}}class HY{constructor(e,n,r=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class GY{constructor(){this.St=0,this.Dt=qY(),this.Ct=Xt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=fe(),n=fe(),r=fe();return this.Dt.forEach((o,i)=>{switch(i){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:L()}}),new Ag(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=qY()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class QFe{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Tr(),this.zt=zY(),this.Wt=new tt(te)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:L()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,o)=>{this.te(o)&&n(o)})}ne(e){var n;const r=e.targetId,o=e.Vt.count,i=this.se(r);if(i){const s=i.target;if(Sw(s))if(0===o){const a=new R(s.path);this.Yt(r,a,ot.newNoDocument(a,H.min()))}else B(1===o);else{const a=this.ie(r);if(a!==o){const c=this.re(e,a);0!==c&&(this.ee(r),this.Wt=this.Wt.insert(r,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=iR.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(u,l,d){var f,h,p,g,m,y;const _={localCacheCount:l,existenceFilterCount:d.count},I=d.unchangedNames;return I&&(_.bloomFilter={applied:0===u,hashCount:null!==(f=I?.hashCount)&&void 0!==f?f:0,bitmapLength:null!==(g=null===(p=null===(h=I?.bits)||void 0===h?void 0:h.bitmap)||void 0===p?void 0:p.length)&&void 0!==g?g:0,padding:null!==(y=null===(m=I?.bits)||void 0===m?void 0:m.padding)&&void 0!==y?y:0}),_}(c,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:o}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:i="",padding:s=0},hashCount:a=0}=r;let c,u;try{c=ps(i).toUint8Array()}catch(l){if(l instanceof ZQ)return Po("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{u=new sR(c,s,a)}catch(l){return Po(l instanceof Tg?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===u.It?1:o!==n-this.oe(e.targetId,u)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let o=0;return r.forEach(i=>{const s=this.Gt.ue(),a=`projects/${s.projectId}/databases/${s.database}/documents/${i.path.canonicalString()}`;n.vt(a)||(this.Yt(e,i,null),o++)}),o}ce(e){const n=new Map;this.Qt.forEach((i,s)=>{const a=this.se(s);if(a){if(i.current&&Sw(a.target)){const c=new R(a.target.path);null!==this.jt.get(c)||this.ae(s,c)||this.Yt(s,c,ot.newNoDocument(c,e))}i.Mt&&(n.set(s,i.Ot()),i.Ft())}});let r=fe();this.zt.forEach((i,s)=>{let a=!0;s.forEachWhile(c=>{const u=this.se(c);return!u||"TargetPurposeLimboResolution"===u.purpose||(a=!1,!1)}),a&&(r=r.add(i))}),this.jt.forEach((i,s)=>s.setReadTime(e));const o=new Sg(e,n,this.Wt,this.jt,r);return this.jt=Tr(),this.zt=zY(),this.Wt=new tt(te),o}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const o=this.Zt(e);this.ae(e,n)?o.Bt(n,1):o.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new GY,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new rt(te),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||x("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new GY),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function zY(){return new tt(R.comparator)}function qY(){return new tt(R.comparator)}const YFe={asc:"ASCENDING",desc:"DESCENDING"},ZFe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XFe={and:"AND",or:"OR"};class JFe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function aR(t,e){return t.useProto3Json||hg(e)?e:{value:e}}function Ot(t){return B(!!t),H.fromTimestamp(function(e){const n=pa(e);return new mt(n.seconds,n.nanos)}(t))}function KY(t){const e=Se.fromString(t);return B(rZ(e)),e}function bi(t,e){const n=KY(e);if(n.get(1)!==t.databaseId.projectId)throw new S(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new S(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new R(YY(n))}function uR(t,e){return function cR(t,e){return(n=t,new Se(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}(t.databaseId,e)}function xg(t){return new Se(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function YY(t){return B(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function JY(t,e){return{documents:[uR(t,e.path)]}}function dR(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=uR(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=uR(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(c){if(0!==c.length)return nZ(Ge.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const i=function(c){if(0!==c.length)return c.map(u=>{return{field:va((l=u).field),direction:iLe(l.dir)};var l})}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const s=aR(t,e.limit);var a,c;return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(c=e.endAt).inclusive,values:c.position}),n}function eZ(t){let e=function QY(t){const e=KY(t);return 4===e.length?Se.emptyPath():YY(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){B(1===r);const l=n.from[0];l.allDescendants?o=l.collectionId:e=e.child(l.collectionId)}let i=[];n.where&&(i=function(l){const d=tZ(l);return d instanceof Ge&&qN(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(l=>{return new Id(Ad((d=l).field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,hg(d)?null:d}(n.limit));let c=null;var l;n.startAt&&(c=new ya((l=n.startAt).values||[],!!l.before));let u=null;return n.endAt&&(u=function(l){return new ya(l.values||[],!l.before)}(n.endAt)),function mY(t,e,n,r,o,i,s,a){return new gs(t,e,n,r,o,i,s,a)}(e,o,s,i,a,"F",c,u)}function tZ(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Ad(e.unaryFilter.field);return ve.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Ad(e.unaryFilter.field);return ve.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ad(e.unaryFilter.field);return ve.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ad(e.unaryFilter.field);return ve.create(i,"!=",{nullValue:"NULL_VALUE"});default:return L()}}(t):void 0!==t.fieldFilter?ve.create(Ad((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return L()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return Ge.create(e.compositeFilter.filters.map(n=>tZ(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return L()}}(e.compositeFilter.op))}(t):L();var e}function iLe(t){return YFe[t]}function sLe(t){return ZFe[t]}function aLe(t){return XFe[t]}function va(t){return{fieldPath:t.canonicalString()}}function Ad(t){return Rt.fromServerFormat(t.fieldPath)}function nZ(t){return t instanceof ve?function(e){if("=="===e.op){if(eY(e.value))return{unaryFilter:{field:va(e.field),op:"IS_NAN"}};if(JQ(e.value))return{unaryFilter:{field:va(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(eY(e.value))return{unaryFilter:{field:va(e.field),op:"IS_NOT_NAN"}};if(JQ(e.value))return{unaryFilter:{field:va(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:va(e.field),op:sLe(e.op),value:e.value}}}(t):t instanceof Ge?function(e){const n=e.getFilters().map(r=>nZ(r));return 1===n.length?n[0]:{compositeFilter:{op:aLe(e.op),filters:n}}}(t):L()}function rZ(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class ys{constructor(e,n,r,o,i=H.min(),s=H.min(),a=Xt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new ys(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class oZ{constructor(e){this.fe=e}}function fR(t){const e=eZ({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?xw(e,e.limit,"L"):e}class Hc{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(bt(e.integerValue));else if("doubleValue"in e){const r=bt(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),pg(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(ps(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?tY(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):L()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const o of Object.keys(r))this.Te(o,n),this.me(r[o],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const o of r)this.me(o,n)}ve(e,n){this.ye(n,37),R.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Hc.Ve=new Hc;class _Le{constructor(){this.rn=new yR}addToCollectionParentIndex(e,n){return this.rn.add(n),E.resolve()}getCollectionParents(e,n){return E.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return E.resolve()}deleteFieldIndex(e,n){return E.resolve()}getDocumentsMatchingTarget(e,n){return E.resolve(null)}getIndexType(e,n){return E.resolve(0)}getFieldIndexes(e,n){return E.resolve([])}getNextCollectionGroupToUpdate(e){return E.resolve(null)}getMinOffset(e,n){return E.resolve(qr.min())}getMinOffsetFromCollectionGroup(e,n){return E.resolve(qr.min())}updateCollectionGroup(e,n,r){return E.resolve()}updateIndexEntries(e,n){return E.resolve()}}class yR{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new rt(Se.comparator),i=!o.has(r);return this.index[n]=o.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new rt(Se.comparator)).toArray()}}new Uint8Array(0);class jn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new jn(e,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}jn.DEFAULT_COLLECTION_PERCENTILE=10,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jn.DEFAULT=new jn(41943040,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jn.DISABLED=new jn(-1,0,0);class zc{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new zc(0)}static Mn(){return new zc(-1)}}class DLe{constructor(){this.changes=new ms(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ot.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?E.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class TLe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class xZ{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(null!==r&&Cg(r.mutation,o,Cr.empty(),mt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,fe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=fe()){const o=Di();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,r).next(i=>{let s=Eg();return i.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Di();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,fe()))}populateOverlays(e,n,r){const o=[];return r.forEach(i=>{n.has(i)||o.push(i)}),this.documentOverlayCache.getOverlays(e,o).next(i=>{i.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,o){let i=Tr();const s=Dg(),a=Dg();return n.forEach((c,u)=>{const l=r.get(u.key);o.has(u.key)&&(void 0===l||l.mutation instanceof _s)?i=i.insert(u.key,u):void 0!==l?(s.set(u.key,l.mutation.getFieldMask()),Cg(l.mutation,u,l.mutation.getFieldMask(),mt.now())):s.set(u.key,Cr.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,l)=>s.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new TLe(l,null!==(d=s.get(u))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Dg();let o=new tt((s,a)=>s-a),i=fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(c=>{const u=n.get(c);if(null===u)return;let l=r.get(c)||Cr.empty();l=a.applyToLocalView(u,l),r.set(c,l);const d=(o.get(a.batchId)||fe()).add(c);o=o.insert(a.batchId,d)})}).next(()=>{const s=[],a=o.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,l=c.value,d=DY();l.forEach(f=>{if(!i.has(f)){const h=RY(n.get(f),r.get(f));null!==h&&d.set(f,h),i=i.add(f)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,d))}return E.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return R.isDocumentKey((o=n).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function YN(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var o}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next(i=>{const s=o-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-i.size):E.resolve(Di());let a=-1,c=i;return s.next(u=>E.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),i.get(l)?E.resolve():this.remoteDocumentCache.getEntry(e,l).next(f=>{c=c.insert(l,f)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,fe())).next(l=>({batchId:a,changes:EY(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new R(n)).next(r=>{let o=Eg();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const o=n.collectionGroup;let i=Eg();return this.indexManager.getCollectionParents(e,o).next(s=>E.forEach(s,a=>{const c=(u=n,l=a.child(o),new gs(l,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt));var u,l;return this.getDocumentsMatchingCollectionQuery(e,c,r).next(u=>{u.forEach((l,d)=>{i=i.insert(l,d)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,n,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(i=>(o=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o))).next(i=>{o.forEach((a,c)=>{const u=c.getKey();null===i.get(u)&&(i=i.insert(u,ot.newInvalidDocument(u)))});let s=Eg();return i.forEach((a,c)=>{const u=o.get(a);void 0!==u&&Cg(u.mutation,c,Cr.empty(),mt.now()),wg(n,c)&&(s=s.insert(a,c))}),s})}}class SLe{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return E.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Ot(r.createTime)}),E.resolve()}getNamedQuery(e,n){return E.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:fR(r.bundledQuery),readTime:Ot(r.readTime)}),E.resolve();var r}}class ALe{constructor(){this.overlays=new tt(R.comparator),this.ls=new Map}getOverlay(e,n){return E.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Di();return E.forEach(n,o=>this.getOverlay(e,o).next(i=>{null!==i&&r.set(o,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((o,i)=>{this.we(e,n,i)}),E.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.ls.get(r);return void 0!==o&&(o.forEach(i=>this.overlays=this.overlays.remove(i)),this.ls.delete(r)),E.resolve()}getOverlaysForCollection(e,n,r){const o=Di(),i=n.length+1,s=new R(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>r&&o.set(c.getKey(),c)}return E.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let i=new tt((u,l)=>u-l);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=i.get(u.largestBatchId);null===l&&(l=Di(),i=i.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}const a=Di(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=o)););return E.resolve(a)}we(e,n,r){const o=this.overlays.get(r.key);if(null!==o){const s=this.ls.get(o.largestBatchId).delete(r.key);this.ls.set(o.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new oR(n,r));let i=this.ls.get(n);void 0===i&&(i=fe(),this.ls.set(n,i)),this.ls.set(n,i.add(r.key))}}class vR{constructor(){this.fs=new rt(ln.ds),this.ws=new rt(ln._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new ln(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new ln(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new R(new Se([])),r=new ln(n,e),o=new ln(n,e+1),i=[];return this.ws.forEachInRange([r,o],s=>{this.ys(s),i.push(s.key)}),i}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new R(new Se([])),r=new ln(n,e),o=new ln(n,e+1);let i=fe();return this.ws.forEachInRange([r,o],s=>{i=i.add(s.key)}),i}containsKey(e){const n=new ln(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class ln{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return R.comparator(e.key,n.key)||te(e.As,n.As)}static _s(e,n){return te(e.As,n.As)||R.comparator(e.key,n.key)}}class MLe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new rt(ln.ds)}checkEmpty(e){return E.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,o){const i=this.vs;this.vs++;const s=new nR(i,n,r,o);this.mutationQueue.push(s);for(const a of o)this.Rs=this.Rs.add(new ln(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return E.resolve(s)}lookupMutationBatch(e,n){return E.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const o=this.bs(n+1),i=o<0?0:o;return E.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return E.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return E.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ln(n,0),o=new ln(n,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([r,o],s=>{const a=this.Ps(s.As);i.push(a)}),E.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new rt(te);return n.forEach(o=>{const i=new ln(o,0),s=new ln(o,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([i,s],a=>{r=r.add(a.As)})}),E.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let i=r;R.isDocumentKey(i)||(i=i.child(""));const s=new ln(new R(i),0);let a=new rt(te);return this.Rs.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===o&&(a=a.add(c.As)),!0)},s),E.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const o=this.Ps(r);null!==o&&n.push(o)}),n}removeMutationBatch(e,n){B(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return E.forEach(n.mutations,o=>{const i=new ln(o.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new ln(n,0),o=this.Rs.firstAfterOrEqual(r);return E.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return E.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class xLe{constructor(e){this.Ds=e,this.docs=new tt(R.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),i=o?o.size:0,s=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return E.resolve(r?r.document.mutableCopy():ot.newInvalidDocument(n))}getEntries(e,n){let r=Tr();return n.forEach(o=>{const i=this.docs.get(o);r=r.insert(o,i?i.document.mutableCopy():ot.newInvalidDocument(o))}),E.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let i=Tr();const s=n.path,a=new R(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:l}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||UN(VQ(l),r)<=0||(o.has(l.key)||wg(n,l))&&(i=i.insert(l.key,l.mutableCopy()))}return E.resolve(i)}getAllFromCollectionGroup(e,n,r,o){L()}Cs(e,n){return E.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new NLe(this)}getSize(e){return E.resolve(this.size)}}class NLe extends DLe{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?n.push(this.os.addEntry(e,o)):this.os.removeEntry(r)}),E.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class RLe{constructor(e){this.persistence=e,this.xs=new ms(n=>Fc(n),vg),this.lastRemoteSnapshotVersion=H.min(),this.highestTargetId=0,this.Ns=0,this.ks=new vR,this.targetCount=0,this.Ms=zc.kn()}forEachTarget(e,n){return this.xs.forEach((r,o)=>n(o)),E.resolve()}getLastRemoteSnapshotVersion(e){return E.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return E.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),E.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),E.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new zc(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,E.resolve()}updateTargetData(e,n){return this.Fn(n),E.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,E.resolve()}removeTargets(e,n,r){let o=0;const i=[];return this.xs.forEach((s,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),o++)}),E.waitFor(i).next(()=>o)}getTargetCount(e){return E.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return E.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),E.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const o=this.persistence.referenceDelegate,i=[];return o&&n.forEach(s=>{i.push(o.markPotentiallyOrphaned(e,s))}),E.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),E.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return E.resolve(r)}containsKey(e,n){return E.resolve(this.ks.containsKey(n))}}class IR{constructor(e,n){this.$s={},this.overlays={},this.Os=new Wr(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new RLe(this),this.indexManager=new _Le,this.remoteDocumentCache=new xLe(r=>this.referenceDelegate.Ls(r)),this.serializer=new oZ(n),this.qs=new SLe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ALe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new MLe(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){x("MemoryPersistence","Starting transaction:",e);const o=new OLe(this.Os.next());return this.referenceDelegate.Us(),r(o).next(i=>this.referenceDelegate.Ks(o).next(()=>i)).toPromise().then(i=>(o.raiseOnCommittedEvent(),i))}Gs(e,n){return E.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class OLe extends eFe{constructor(e){super(),this.currentSequenceNumber=e}}class Hw{constructor(e){this.persistence=e,this.Qs=new vR,this.js=null}static zs(e){return new Hw(e)}get Ws(){if(this.js)return this.js;throw L()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),E.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),E.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),E.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(o=>this.Ws.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(i=>this.Ws.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return E.forEach(this.Ws,r=>{const o=R.fromPath(r);return this.Hs(e,o).next(i=>{i||n.removeEntry(o,H.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return E.or([()=>E.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class bR{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=o}static Li(e,n){let r=fe(),o=fe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:o=o.add(i.doc.key)}return new bR(e,n.fromCache,r,o)}}class RZ{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,o){return this.Ki(e,n).next(i=>i||this.Gi(e,n,o,r)).next(i=>i||this.Qi(e,n))}Ki(e,n){if(_Y(n))return E.resolve(null);let r=ar(n);return this.indexManager.getIndexType(e,r).next(o=>0===o?null:(null!==n.limit&&1===o&&(n=xw(n,null,"F"),r=ar(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const s=fe(...i);return this.Ui.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.ji(n,a);return this.zi(n,u,s,c.readTime)?this.Ki(e,xw(n,null,"F")):this.Wi(e,u,n,c)}))})))}Gi(e,n,r,o){return _Y(n)||o.isEqual(H.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(i=>{const s=this.ji(n,i);return this.zi(n,s,r,o)?this.Qi(e,n):(LN()<=Me.DEBUG&&x("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),XN(n)),this.Wi(e,s,n,function LQ(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,o=H.fromTimestamp(1e9===r?new mt(n+1,0):new mt(n,r));return new qr(o,R.empty(),e)}(o,-1)))})}ji(e,n){let r=new rt(IY(e));return n.forEach((o,i)=>{wg(e,i)&&(r=r.add(i))}),r}zi(e,n,r,o){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const i="F"===e.limitType?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(o)>0)}Qi(e,n){return LN()<=Me.DEBUG&&x("QueryEngine","Using full collection scan to execute query:",XN(n)),this.Ui.getDocumentsMatchingQuery(e,n,qr.min())}Wi(e,n,r,o){return this.Ui.getDocumentsMatchingQuery(e,r,o).next(i=>(n.forEach(s=>{i=i.insert(s.key,s)}),i))}}class kLe{constructor(e,n,r,o){this.persistence=e,this.Hi=n,this.serializer=o,this.Ji=new tt(te),this.Yi=new ms(i=>Fc(i),vg),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xZ(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function PZ(t,e){return(HK=HK||v(function*(n,r){const o=O(n);return yield o.persistence.runTransaction("Handle user change","readonly",i=>{let s;return o.mutationQueue.getAllMutationBatches(i).next(a=>(s=a,o.tr(r),o.mutationQueue.getAllMutationBatches(i))).next(a=>{const c=[],u=[];let l=fe();for(const d of s){c.push(d.batchId);for(const f of d.mutations)l=l.add(f.key)}for(const d of a){u.push(d.batchId);for(const f of d.mutations)l=l.add(f.key)}return o.localDocuments.getDocuments(i,l).next(d=>({er:d,removedBatchIds:c,addedBatchIds:u}))})})})).apply(this,arguments)}function kZ(t){const e=O(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function Rd(t,e,n){return(GK=GK||v(function*(r,o,i){const s=O(r),a=s.Ji.get(o),c=i?"readwrite":"readwrite-primary";try{i||(yield s.persistence.runTransaction("Release target",c,u=>s.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!fa(u))throw u;x("LocalStore",`Failed to update sequence numbers for target ${o}: ${u}`)}s.Ji=s.Ji.remove(o),s.Yi.delete(a.target)})).apply(this,arguments)}function qw(t,e,n){const r=O(t);let o=H.min(),i=fe();return r.persistence.runTransaction("Execute query","readonly",s=>function(a,c,u){const l=O(a),d=l.Yi.get(u);return void 0!==d?E.resolve(l.Ji.get(d)):l.Bs.getTargetData(c,u)}(r,s,ar(e)).next(a=>{if(a)return o=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(s,a.targetId).next(c=>{i=c})}).next(()=>r.Hi.getDocumentsMatchingQuery(s,e,n?o:H.min(),n?i:fe())).next(a=>(function jZ(t,e,n){let r=t.Xi.get(e)||H.min();n.forEach((o,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Xi.set(e,r)}(r,function vY(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:i})))}class SR{constructor(){this.activeTargetIds=function JN(){return jFe}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BZ{constructor(){this.Hr=new SR,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new SR,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class $Le{Yr(e){}shutdown(){}}class HZ{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){x("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){x("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Qw=null;function MR(){return null===Qw?Qw=268435456+Math.round(2147483648*Math.random()):Qw++,"0x"+Qw.toString(16)}const BLe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class HLe{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Un="WebChannelConnection";class GLe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,o,i){const s=MR(),a=this.To(e,n);x("RestConnection",`Sending RPC '${e}' ${s}:`,a,r);const c={};return this.Eo(c,o,i),this.Ao(e,a,c,r).then(u=>(x("RestConnection",`Received RPC '${e}' ${s}: `,u),u),u=>{throw Po("RestConnection",`RPC '${e}' ${s} failed with error: `,u,"url: ",a,"request:",r),u})}vo(e,n,r,o,i,s){return this.Io(e,n,r,o,i)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+md,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,i)=>e[i]=o),r&&r.headers.forEach((o,i)=>e[i]=o)}To(e,n){return`${this.mo}/v1/${n}:${BLe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,o){const i=MR();return new Promise((s,a)=>{const c=new Bke;c.setWithCredentials(!0),c.listenOnce(jke.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case FN.NO_ERROR:const l=c.getResponseJson();x(Un,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(l)),s(l);break;case FN.TIMEOUT:x(Un,`RPC '${e}' ${i} timed out`),a(new S(D.DEADLINE_EXCEEDED,"Request time out"));break;case FN.HTTP_ERROR:const d=c.getStatus();if(x(Un,`RPC '${e}' ${i} failed with status:`,d,"response text:",c.getResponseText()),d>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);const h=f?.error;if(h&&h.status&&h.message){const p=function(g){const m=g.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(m)>=0?m:D.UNKNOWN}(h.status);a(new S(p,h.message))}else a(new S(D.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new S(D.UNAVAILABLE,"Connection failed."));break;default:L()}}finally{x(Un,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(o);x(Un,`RPC '${e}' ${i} sending request:`,o),c.send(n,"POST",u,r,15)})}Ro(e,n,r){const o=MR(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Lke(),a=Vke(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.xmlHttpFactory=new $ke({})),this.Eo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const l=i.join("");x(Un,`Creating RPC '${e}' stream ${o}: ${l}`,c);const d=s.createWebChannel(l,c);let f=!1,h=!1;const p=new HLe({ro:m=>{h?x(Un,`Not sending because RPC '${e}' stream ${o} is closed:`,m):(f||(x(Un,`Opening RPC '${e}' stream ${o} transport.`),d.open(),f=!0),x(Un,`RPC '${e}' stream ${o} sending:`,m),d.send(m))},oo:()=>d.close()}),g=(m,y,_)=>{m.listen(y,I=>{try{_(I)}catch(w){setTimeout(()=>{throw w},0)}})};return g(d,mw.EventType.OPEN,()=>{h||x(Un,`RPC '${e}' stream ${o} transport opened.`)}),g(d,mw.EventType.CLOSE,()=>{h||(h=!0,x(Un,`RPC '${e}' stream ${o} transport closed`),p.wo())}),g(d,mw.EventType.ERROR,m=>{h||(h=!0,Po(Un,`RPC '${e}' stream ${o} transport errored:`,m),p.wo(new S(D.UNAVAILABLE,"The operation could not be completed")))}),g(d,mw.EventType.MESSAGE,m=>{var y;if(!h){const _=m.data[0];B(!!_);const w=_.error||(null===(y=_[0])||void 0===y?void 0:y.error);if(w){x(Un,`RPC '${e}' stream ${o} received error:`,w);const T=w.status;let j=function(xe){const st=$t[xe];if(void 0!==st)return VY(st)}(T),he=w.message;void 0===j&&(j=D.INTERNAL,he="Unknown error status: "+T+" with message "+w.message),h=!0,p.wo(new S(j,he)),d.close()}else x(Un,`RPC '${e}' stream ${o} received:`,_),p._o(_)}}),g(a,Uke.STAT_EVENT,m=>{m.stat===$K.PROXY?x(Un,`RPC '${e}' stream ${o} detected buffering proxy`):m.stat===$K.NOPROXY&&x(Un,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function Yw(){return typeof document<"u"?document:null}function Ug(t){return new JFe(t,!0)}class xR{constructor(e,n,r=1e3,o=1.5,i=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=o,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),o=Math.max(0,n-r);o>0&&x("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,o,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class zLe{constructor(e,n,r,o,i,s,a,c){this.ii=e,this.$o=r,this.Oo=o,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new xR(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return v(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return v(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return v(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===D.RESOURCE_EXHAUSTED?(Nt(n.toString()),Nt("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===D.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Fo===n&&this.Zo(r,o)},r=>{e(()=>{const o=new S(D.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(o)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(o=>{r(()=>this.tu(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}Go(){var e=this;this.state=5,this.qo.No(v(function*(){e.state=0,e.start()}))}tu(e){return x("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(x("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qLe extends zLe{constructor(e,n,r,o,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,s),this.serializer=i}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function nLe(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:L(),o=e.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(B(void 0===u||"string"==typeof u),Xt.fromBase64String(u||"")):(B(void 0===u||u instanceof Uint8Array),Xt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const u=void 0===c.code?D.UNKNOWN:VY(c.code);return new S(u,c.message||"")}(s);n=new HY(r,o,i,a||null)}else if("documentChange"in e){const r=e.documentChange,o=bi(t,r.document.name),i=Ot(r.document.updateTime),s=r.document.createTime?Ot(r.document.createTime):H.min(),a=new Cn({mapValue:{fields:r.document.fields}}),c=ot.newFoundDocument(o,i,s,a);n=new Pw(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,o=bi(t,r.document),i=r.readTime?Ot(r.readTime):H.min(),s=ot.newNoDocument(o,i);n=new Pw([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,o=bi(t,r.document);n=new Pw([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return L();{const r=e.filter,{count:o=0,unchangedNames:i}=r,s=new WFe(o,i);n=new BY(r.targetId,s)}}var c;return n}(this.serializer,e),r=function(o){if(!("targetChange"in o))return H.min();const i=o.targetChange;return i.targetIds&&i.targetIds.length?H.min():i.readTime?Ot(i.readTime):H.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=xg(this.serializer),n.addTarget=function(o,i){let s;const a=i.target;if(s=Sw(a)?{documents:JY(o,a)}:{query:dR(o,a)},s.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){s.resumeToken=function WY(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}(o,i.resumeToken);const c=aR(o,i.expectedCount);null!==c&&(s.expectedCount=c)}else if(i.snapshotVersion.compareTo(H.min())>0){s.readTime=function Sd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}(o,i.snapshotVersion.toTimestamp());const c=aR(o,i.expectedCount);null!==c&&(s.expectedCount=c)}return s}(this.serializer,e);const r=function oLe(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return L()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=xg(this.serializer),n.removeTarget=e,this.Wo(n)}}class KLe extends class{}{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.lu=!1}fu(){if(this.lu)throw new S(D.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,i])=>this.connection.Io(e,n,r,o,i)).catch(o=>{throw"FirebaseError"===o.name?(o.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new S(D.UNKNOWN,o.toString())})}vo(e,n,r,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.vo(e,n,r,i,s,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new S(D.UNKNOWN,i.toString())})}terminate(){this.lu=!0}}class YLe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Nt(n),this.mu=!1):x("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class ZLe{constructor(e,n,r,o,i){var s=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr(a=>{r.enqueueAndForget(v(function*(){var c;Da(s)&&(x("RemoteStore","Restarting streams for network reachability change."),yield function(u){return(c=c||v(function*(l){const d=O(l);d.vu.add(4),yield Od(d),d.bu.set("Unknown"),d.vu.delete(4),yield $g(d)})).apply(this,arguments)}(s))}))}),this.bu=new YLe(r,o)}}function $g(t){return(KK=KK||v(function*(e){if(Da(e))for(const n of e.Ru)yield n(!0)})).apply(this,arguments)}function Od(t){return(QK=QK||v(function*(e){for(const n of e.Ru)yield n(!1)})).apply(this,arguments)}function Zw(t,e){const n=O(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),OR(n)?RR(n):kd(n).Ko()&&NR(n,e))}function Bg(t,e){const n=O(t),r=kd(n);n.Au.delete(e),r.Ko()&&zZ(n,e),0===n.Au.size&&(r.Ko()?r.jo():Da(n)&&n.bu.set("Unknown"))}function NR(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(H.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}kd(t).su(e)}function zZ(t,e){t.Vu.qt(e),kd(t).iu(e)}function RR(t){t.Vu=new QFe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),kd(t).start(),t.bu.gu()}function OR(t){return Da(t)&&!kd(t).Uo()&&t.Au.size>0}function Da(t){return 0===O(t).vu.size}function qZ(t){t.Vu=void 0}function XLe(t){return(YK=YK||v(function*(e){e.Au.forEach((n,r)=>{NR(e,n)})})).apply(this,arguments)}function JLe(t,e){return(ZK=ZK||v(function*(n,r){qZ(n),OR(n)?(n.bu.Iu(r),RR(n)):n.bu.set("Unknown")})).apply(this,arguments)}function e2e(t,e,n){return(XK=XK||v(function*(r,o,i){if(r.bu.set("Online"),o instanceof HY&&2===o.state&&o.cause)try{var s;yield function(a,c){return(s=s||v(function*(u,l){const d=l.cause;for(const f of l.targetIds)u.Au.has(f)&&(yield u.remoteSyncer.rejectListen(f,d),u.Au.delete(f),u.Vu.removeTarget(f))})).apply(this,arguments)}(r,o)}catch(a){x("RemoteStore","Failed to remove targets %s: %s ",o.targetIds.join(","),a),yield Xw(r,a)}else if(o instanceof Pw?r.Vu.Ht(o):o instanceof BY?r.Vu.ne(o):r.Vu.Xt(o),!i.isEqual(H.min()))try{const a=yield kZ(r.localStore);i.compareTo(a)>=0&&(yield function(c,u){const l=c.Vu.ce(u);return l.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const h=c.Au.get(f);h&&c.Au.set(f,h.withResumeToken(d.resumeToken,u))}}),l.targetMismatches.forEach((d,f)=>{const h=c.Au.get(d);if(!h)return;c.Au.set(d,h.withResumeToken(Xt.EMPTY_BYTE_STRING,h.snapshotVersion)),zZ(c,d);const p=new ys(h.target,d,f,h.sequenceNumber);NR(c,p)}),c.remoteSyncer.applyRemoteEvent(l)}(r,i))}catch(a){x("RemoteStore","Failed to raise snapshot:",a),yield Xw(r,a)}})).apply(this,arguments)}function Xw(t,e,n){return(JK=JK||v(function*(r,o,i){if(!fa(o))throw o;r.vu.add(1),yield Od(r),r.bu.set("Offline"),i||(i=()=>kZ(r.localStore)),r.asyncQueue.enqueueRetryable(v(function*(){x("RemoteStore","Retrying IndexedDB access"),yield i(),r.vu.delete(1),yield $g(r)}))})).apply(this,arguments)}function YZ(t,e){return(iQ=iQ||v(function*(n,r){const o=O(n);o.asyncQueue.verifyOperationInProgress(),x("RemoteStore","RemoteStore received new credentials");const i=Da(o);o.vu.add(3),yield Od(o),i&&o.bu.set("Unknown"),yield o.remoteSyncer.handleCredentialChange(r),o.vu.delete(3),yield $g(o)})).apply(this,arguments)}function kd(t){var e;return t.Su||(t.Su=function(n,r,o){const i=O(n);return i.fu(),new qLe(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,o)}(t.datastore,t.asyncQueue,{uo:XLe.bind(null,t),ao:JLe.bind(null,t),nu:e2e.bind(null,t)}),t.Ru.push(function(n){return(e=e||v(function*(r){r?(t.Su.Qo(),OR(t)?RR(t):t.bu.set("Unknown")):(yield t.Su.stop(),qZ(t))})).apply(this,arguments)})),t.Su}class kR{constructor(e,n,r,o,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=i,this.deferred=new Zt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(e,n,r,o,i){const s=Date.now()+r,a=new kR(e,n,s,o,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new S(D.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fd(t,e){if(Nt("AsyncQueue",`${e}: ${t}`),fa(t))return new S(D.UNAVAILABLE,`${e}: ${t}`);throw t}class Ld{constructor(e){this.comparator=e?(n,r)=>e(n,r)||R.comparator(n.key,r.key):(n,r)=>R.comparator(n.key,r.key),this.keyedMap=Eg(),this.sortedSet=new tt(this.comparator)}static emptySet(e){return new Ld(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ld)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,i=r.getNext().key;if(!o.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Ld;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class ZZ{constructor(){this.Cu=new tt(R.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):L():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Vd{constructor(e,n,r,o,i,s,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,o,i){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Vd(e,n,Ld.emptySet(n),s,r,o,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ig(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}class a2e{constructor(){this.Nu=void 0,this.listeners=[]}}class c2e{constructor(){this.queries=new ms(e=>yY(e),Ig),this.onlineState="Unknown",this.ku=new Set}}function FR(t,e){return(aQ=aQ||v(function*(n,r){const o=O(n),i=r.query;let s=!1,a=o.queries.get(i);if(a||(s=!0,a=new a2e),s)try{a.Nu=yield o.onListen(i)}catch(c){const u=Fd(c,`Initialization of query '${XN(r.query)}' failed`);return void r.onError(u)}o.queries.set(i,a),a.listeners.push(r),r.Mu(o.onlineState),a.Nu&&r.$u(a.Nu)&&VR(o)})).apply(this,arguments)}function LR(t,e){return(cQ=cQ||v(function*(n,r){const o=O(n),i=r.query;let s=!1;const a=o.queries.get(i);if(a){const c=a.listeners.indexOf(r);c>=0&&(a.listeners.splice(c,1),s=0===a.listeners.length)}if(s)return o.queries.delete(i),o.onUnlisten(i)})).apply(this,arguments)}function u2e(t,e){const n=O(t);let r=!1;for(const o of e){const s=n.queries.get(o.query);if(s){for(const a of s.listeners)a.$u(o)&&(r=!0);s.Nu=o}}r&&VR(n)}function l2e(t,e,n){const r=O(t),o=r.queries.get(e);if(o)for(const i of o.listeners)i.onError(n);r.queries.delete(e)}function VR(t){t.ku.forEach(e=>{e.next()})}class jR{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new Vd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Vd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class eX{constructor(e){this.key=e}}class tX{constructor(e){this.key=e}}class nX{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=fe(),this.mutatedKeys=fe(),this.tc=IY(e),this.ec=new Ld(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new ZZ,o=n?n.ec:this.ec;let i=n?n.mutatedKeys:this.mutatedKeys,s=o,a=!1;const c="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,u="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((l,d)=>{const f=o.get(l),h=wg(this.query,d)?d:null,p=!!f&&this.mutatedKeys.has(f.key),g=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let m=!1;f&&h?f.data.isEqual(h.data)?p!==g&&(r.track({type:3,doc:h}),m=!0):this.rc(f,h)||(r.track({type:2,doc:h}),m=!0,(c&&this.tc(h,c)>0||u&&this.tc(h,u)<0)&&(a=!0)):!f&&h?(r.track({type:0,doc:h}),m=!0):f&&!h&&(r.track({type:1,doc:f}),m=!0,(c||u)&&(a=!0)),m&&(h?(s=s.add(h),i=g?i.add(l):i.delete(l)):(s=s.delete(l),i=i.delete(l)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const l="F"===this.query.limitType?s.last():s.first();s=s.delete(l.key),i=i.delete(l.key),r.track({type:1,doc:l})}return{ec:s,ic:r,zi:a,mutatedKeys:i}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const o=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort((u,l)=>function(d,f){const h=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return L()}};return h(d)-h(f)}(u.type,l.type)||this.tc(u.doc,l.doc)),this.oc(r);const s=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,c=a!==this.Xu;return this.Xu=a,0!==i.length||c?{snapshot:new Vd(this.query,e.ec,o,i,e.mutatedKeys,0===a,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new ZZ,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=fe(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new tX(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new eX(r))}),n}hc(e){this.Yu=e.ir,this.Zu=fe();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Vd.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class h2e{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class p2e{constructor(e){this.key=e,this.fc=!1}}class g2e{constructor(e,n,r,o,i,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new ms(a=>yY(a),Ig),this._c=new Map,this.mc=new Set,this.gc=new tt(R.comparator),this.yc=new Map,this.Ic=new vR,this.Tc={},this.Ec=new Map,this.Ac=zc.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function m2e(t,e){return(uQ=uQ||v(function*(n,r){const o=function zR(t){const e=O(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=rX.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=C2e.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=v2e.bind(null,e),e.dc.nu=u2e.bind(null,e.eventManager),e.dc.Pc=l2e.bind(null,e.eventManager),e}(n);let i,s;const a=o.wc.get(r);if(a)i=a.targetId,o.sharedClientState.addLocalQueryTarget(i),s=a.view.lc();else{const c=yield function Nd(t,e){const n=O(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return n.Bs.getTargetData(r,e).next(i=>i?(o=i,E.resolve(o)):n.Bs.allocateTargetId(r).next(s=>(o=new ys(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=n.Ji.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(o.localStore,ar(r)),u=o.sharedClientState.addLocalQueryTarget(c.targetId);i=c.targetId,s=yield function UR(t,e,n,r,o){return(lQ=lQ||v(function*(i,s,a,c,u){i.Rc=(m,y,_)=>{var I;return function(w,T,j,he){return(I=I||v(function*(xe,st,Zc,Yd){let IE=st.view.sc(Zc);IE.zi&&(IE=yield qw(xe.localStore,st.query,!1).then(({documents:mUe})=>st.view.sc(mUe,IE)));const gUe=Yd&&Yd.targetChanges.get(st.targetId),AJ=st.view.applyChanges(IE,xe.isPrimaryClient,gUe);return HR(xe,st.targetId,AJ.cc),AJ.snapshot})).apply(this,arguments)}(i,m,y,_)};const l=yield qw(i.localStore,s,!0),d=new nX(s,l.ir),f=d.sc(l.documents),h=Ag.createSynthesizedTargetChangeForCurrentChange(a,c&&"Offline"!==i.onlineState,u),p=d.applyChanges(f,i.isPrimaryClient,h);HR(i,a,p.cc);const g=new h2e(s,a,d);return i.wc.set(s,g),i._c.has(a)?i._c.get(a).push(s):i._c.set(a,[s]),p.snapshot})).apply(this,arguments)}(o,r,i,"current"===u,c.resumeToken),o.isPrimaryClient&&Zw(o.remoteStore,c)}return s})).apply(this,arguments)}function _2e(t,e){return(dQ=dQ||v(function*(n,r){const o=O(n),i=o.wc.get(r),s=o._c.get(i.targetId);if(s.length>1)return o._c.set(i.targetId,s.filter(a=>!Ig(a,r))),void o.wc.delete(r);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(i.targetId),o.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Rd(o.localStore,i.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(i.targetId),Bg(o.remoteStore,i.targetId),jd(o,i.targetId)}).catch(da))):(jd(o,i.targetId),yield Rd(o.localStore,i.targetId,!0))})).apply(this,arguments)}function rX(t,e){return(hQ=hQ||v(function*(n,r){const o=O(n);try{const i=yield function LLe(t,e){const n=O(t),r=e.snapshotVersion;let o=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const s=n.Zi.newChangeBuffer({trackRemovals:!0});o=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const f=o.get(d);if(!f)return;a.push(n.Bs.removeMatchingKeys(i,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(i,l.addedDocuments,d)));let h=f.withSequenceNumber(i.currentSequenceNumber);var p,g,m;null!==e.targetMismatches.get(d)?h=h.withResumeToken(Xt.EMPTY_BYTE_STRING,H.min()).withLastLimboFreeSnapshotVersion(H.min()):l.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(l.resumeToken,r)),o=o.insert(d,h),g=h,m=l,(0===(p=f).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(i,h))});let c=Tr(),u=fe();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,l))}),a.push(function FZ(t,e,n){let r=fe(),o=fe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let s=Tr();return n.forEach((a,c)=>{const u=i.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(o=o.add(a)),c.isNoDocument()&&c.version.isEqual(H.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||0===c.version.compareTo(u.version)&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):x("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{nr:s,sr:o}})}(i,s,e.documentUpdates).next(l=>{c=l.nr,u=l.sr})),!r.isEqual(H.min())){const l=n.Bs.getLastRemoteSnapshotVersion(i).next(d=>n.Bs.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(l)}return E.waitFor(a).next(()=>s.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(n.Ji=o,i))}(o.localStore,r);r.targetChanges.forEach((s,a)=>{const c=o.yc.get(a);c&&(B(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?c.fc=!0:s.modifiedDocuments.size>0?B(c.fc):s.removedDocuments.size>0&&(B(c.fc),c.fc=!1))}),yield vs(o,i,r)}catch(i){yield da(i)}})).apply(this,arguments)}function oX(t,e,n){const r=O(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const o=[];r.wc.forEach((i,s)=>{const a=s.view.Mu(e);a.snapshot&&o.push(a.snapshot)}),function(i,s){const a=O(i);a.onlineState=s;let c=!1;a.queries.forEach((u,l)=>{for(const d of l.listeners)d.Mu(s)&&(c=!0)}),c&&VR(a)}(r.eventManager,e),o.length&&r.dc.nu(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function v2e(t,e,n){return(pQ=pQ||v(function*(r,o,i){const s=O(r);s.sharedClientState.updateQueryState(o,"rejected",i);const a=s.yc.get(o),c=a&&a.key;if(c){let u=new tt(R.comparator);u=u.insert(c,ot.newNoDocument(c,H.min()));const l=fe().add(c),d=new Sg(H.min(),new Map,new tt(te),u,l);yield rX(s,d),s.gc=s.gc.remove(c),s.yc.delete(o),GR(s)}else yield Rd(s.localStore,o,!1).then(()=>jd(s,o,i)).catch(da)})).apply(this,arguments)}function jd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||iX(t,r)})}function iX(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(Bg(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),GR(t))}function HR(t,e,n){for(const r of n)r instanceof eX?(t.Ic.addReference(r.key,e),D2e(t,r)):r instanceof tX?(x("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||iX(t,r.key)):L()}function D2e(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(x("SyncEngine","New document in limbo: "+n),t.mc.add(r),GR(t))}function GR(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new R(Se.fromString(e)),r=t.Ac.next();t.yc.set(r,new p2e(n)),t.gc=t.gc.insert(n,r),Zw(t.remoteStore,new ys(ar(Ed(n.path)),r,"TargetPurposeLimboResolution",Wr.ct))}}function vs(t,e,n){return(yQ=yQ||v(function*(r,o,i){var s;const a=O(r),c=[],u=[],l=[];a.wc.isEmpty()||(a.wc.forEach((d,f)=>{l.push(a.Rc(f,o,i).then(h=>{if((h||i)&&a.isPrimaryClient&&a.sharedClientState.updateQueryState(f.targetId,h?.fromCache?"not-current":"current"),h){c.push(h);const p=bR.Li(f.targetId,h);u.push(p)}}))}),yield Promise.all(l),a.dc.nu(c),yield function(d,f){return(s=s||v(function*(h,p){const g=O(h);try{yield g.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>E.forEach(p,y=>E.forEach(y.Fi,_=>g.persistence.referenceDelegate.addReference(m,y.targetId,_)).next(()=>E.forEach(y.Bi,_=>g.persistence.referenceDelegate.removeReference(m,y.targetId,_)))))}catch(m){if(!fa(m))throw m;x("LocalStore","Failed to update sequence numbers: "+m)}for(const m of p){const y=m.targetId;if(!m.fromCache){const _=g.Ji.get(y),w=_.withLastLimboFreeSnapshotVersion(_.snapshotVersion);g.Ji=g.Ji.insert(y,w)}}})).apply(this,arguments)}(a.localStore,u))})).apply(this,arguments)}function b2e(t,e){return(vQ=vQ||v(function*(n,r){const o=O(n);if(!o.currentUser.isEqual(r)){x("SyncEngine","User change. New user:",r.toKey());const i=yield PZ(o.localStore,r);o.currentUser=r,(s=o).Ec.forEach(c=>{c.forEach(u=>{u.reject(new S(D.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Ec.clear(),o.sharedClientState.handleUserChange(r,i.removedBatchIds,i.addedBatchIds),yield vs(o,i.er)}var s})).apply(this,arguments)}function C2e(t,e){const n=O(t),r=n.yc.get(e);if(r&&r.fc)return fe().add(r.key);{let o=fe();const i=n._c.get(e);if(!i)return o;for(const s of i){const a=n.wc.get(s);o=o.unionWith(a.view.nc)}return o}}class Jw{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return v(function*(){n.serializer=Ug(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function OZ(t,e,n,r){return new kLe(t,e,n,r)}(this.persistence,new RZ,e.initialUser,this.serializer)}createPersistence(e){return new IR(Hw.zs,this.serializer)}createSharedClientState(e){return new BZ}terminate(){var e=this;return v(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Ud{initialize(e,n){var r=this;return v(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>oX(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=b2e.bind(null,r.syncEngine),yield function PR(t,e){return(sQ=sQ||v(function*(n,r){const o=O(n);r?(o.vu.delete(2),yield $g(o)):r||(o.vu.add(2),yield Od(o),o.bu.set("Unknown"))})).apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new c2e}createDatastore(e){const n=Ug(e.databaseInfo.databaseId),r=new GLe(e.databaseInfo);return new KLe(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,o=e.asyncQueue,i=a=>oX(this.syncEngine,a,0),s=HZ.D()?new HZ:new $Le,new ZLe(n,r,o,i,s);var n,r,o,i,s}createSyncEngine(e,n){return function(r,o,i,s,a,c,u){const l=new g2e(r,o,i,s,a,c);return u&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){var e;return function(n){return(e=e||v(function*(r){const o=O(r);x("RemoteStore","RemoteStore shutting down."),o.vu.add(5),yield Od(o),o.Pu.shutdown(),o.bu.set("Unknown")})).apply(this,arguments)}(this.remoteStore)}}class eE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Nt("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class V2e{constructor(e,n,r,o){var s,i=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=cn.UNAUTHENTICATED,this.clientId=kQ.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(a){return(s=s||v(function*(c){x("FirestoreClient","Received user=",c.uid),yield i.authCredentialListener(c),i.user=c})).apply(this,arguments)}),this.appCheckCredentials.start(r,a=>(x("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}getConfiguration(){var e=this;return v(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new S(D.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Zt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(v(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const o=Fd(r,"Failed to shutdown persistence");n.reject(o)}})),n.promise}}function tE(t,e){return(SQ=SQ||v(function*(n,r){var o;n.asyncQueue.verifyOperationInProgress(),x("FirestoreClient","Initializing OfflineComponentProvider");const i=yield n.getConfiguration();yield r.initialize(i);let s=i.initialUser;n.setCredentialChangeListener(function(a){return(o=o||v(function*(c){s.isEqual(c)||(yield PZ(r.localStore,c),s=c)})).apply(this,arguments)}),r.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=r})).apply(this,arguments)}function WR(t,e){return(AQ=AQ||v(function*(n,r){n.asyncQueue.verifyOperationInProgress();const o=yield function KR(t){return(MQ=MQ||v(function*(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){x("FirestoreClient","Using user provided OfflineComponentProvider");try{yield tE(e,e._uninitializedComponentsProvider._offline)}catch(n){const r=n;if(!function dX(t){return"FirebaseError"===t.name?t.code===D.FAILED_PRECONDITION||t.code===D.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r))throw r;Po("Error using user provided cache. Falling back to memory cache: "+r),yield tE(e,new Jw)}}else x("FirestoreClient","Using default OfflineComponentProvider"),yield tE(e,new Jw);return e._offlineComponents})).apply(this,arguments)}(n);x("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield r.initialize(o,i),n.setCredentialChangeListener(s=>YZ(r.remoteStore,s)),n.setAppCheckTokenChangeListener((s,a)=>YZ(r.remoteStore,a)),n._onlineComponents=r})).apply(this,arguments)}function $d(t){return(NQ=NQ||v(function*(e){const n=yield function nE(t){return(xQ=xQ||v(function*(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(x("FirestoreClient","Using user provided OnlineComponentProvider"),yield WR(e,e._uninitializedComponentsProvider._online)):(x("FirestoreClient","Using default OnlineComponentProvider"),yield WR(e,new Ud))),e._onlineComponents})).apply(this,arguments)}(e),r=n.eventManager;return r.onListen=m2e.bind(null,n.syncEngine),r.onUnlisten=_2e.bind(null,n.syncEngine),r})).apply(this,arguments)}function _X(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const yX=new Map;function YR(t,e,n){if(!n)throw new S(D.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function vX(t){if(!R.isDocumentKey(t))throw new S(D.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function IX(t){if(R.isDocumentKey(t))throw new S(D.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function we(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new S(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=function oE(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":L()}(t);throw new S(D.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class EX{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new S(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new S(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function W2e(t,e,n,r){if(!0===e&&!0===r)throw new S(D.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=_X(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new S(D.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new S(D.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new S(D.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hg{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new EX({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new S(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new S(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new EX(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Gke;switch(n.type){case"firstParty":return new Kke(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new S(D.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=yX.get(e);n&&(x("ComponentProvider","Removing Datastore"),yX.delete(e),n.terminate())}(this),Promise.resolve()}}class Pt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ci(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pt(this.firestore,e,this._key)}}class Tn{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Tn(this.firestore,e,this._query)}}class Ci extends Tn{constructor(e,n,r){super(e,n,Ed(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pt(this.firestore,null,new R(e))}withConverter(e){return new Ci(this.firestore,e,this._path)}}function Q2e(t,e,...n){if(t=bo(t),YR("collection","path",e),t instanceof Hg){const r=Se.fromString(e,...n);return IX(r),new Ci(t,null,r)}{if(!(t instanceof Pt||t instanceof Ci))throw new S(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Se.fromString(e,...n));return IX(r),new Ci(t.firestore,null,r)}}function DX(t,e,...n){if(t=bo(t),1===arguments.length&&(e=kQ.A()),YR("doc","path",e),t instanceof Hg){const r=Se.fromString(e,...n);return vX(r),new Pt(t,null,new R(r))}{if(!(t instanceof Pt||t instanceof Ci))throw new S(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Se.fromString(e,...n));return vX(r),new Pt(t.firestore,t instanceof Ci?t.converter:null,new R(r))}}class Y2e{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new xR(this,"async_queue_retry"),this.Xc=()=>{const n=Yw();n&&x("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Yw();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Yw();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Zt;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return v(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!fa(n))throw n;x("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Nt("INTERNAL UNHANDLED ERROR: ",function(i){let s=i.message||"";return i.stack&&(s=i.stack.includes(i.message)?i.stack:i.message+"\n"+i.stack),s}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const o=kR.createAndSchedule(this,e,n,r,i=>this.na(i));return this.zc.push(o),o}Zc(){this.Wc&&L()}verifyOperationInProgress(){}sa(){var e=this;return v(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class it extends Hg{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new Y2e,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||CX(this),this._firestoreClient.terminate()}}function X2e(t,e){const r="string"==typeof t?t:e||"(default)",o=ky("object"==typeof t?t:pS(),"firestore").getImmediate({identifier:r});if(!o._initialized){const i=G$("firestore");i&&function K2e(t,e,n,r={}){var o;const i=(t=we(t,Hg))._getSettings(),s=`${e}:${n}`;if("firestore.googleapis.com"!==i.host&&i.host!==s&&Po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:s,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=cn.MOCK_USER;else{a=W$(r.mockUserToken,null===(o=t._app)||void 0===o?void 0:o.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new S(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new cn(u)}t._authCredentials=new zke(new OQ(a,c))}}(o,...i)}return o}function Bt(t){return t._firestoreClient||CX(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function CX(t){var e,n,r;const o=t._freezeSettings(),i=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new bFe(t._databaseId,a,t._persistenceKey,(u=o).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,_X(u.experimentalLongPollingOptions),u.useFetchStreams));var a,u;t._firestoreClient=new V2e(t._authCredentials,t._appCheckCredentials,t._queue,i),null!==(n=o.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=o.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.cache.kind,_offline:o.cache._offlineComponentProvider,_online:o.cache._onlineComponentProvider})}class Wc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wc(Xt.fromBase64String(e))}catch(n){throw new S(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Wc(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Bd{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new S(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class XR{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new S(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new S(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return te(this._lat,e._lat)||te(this._long,e._long)}}const sVe=new RegExp("[~\\*/\\[\\]]");function aE(t,e,n,r,o){const i=r&&!r.isEmpty(),s=void 0!==o;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||s)&&(c+=" (found",i&&(c+=` in field ${r}`),s&&(c+=` in document ${o}`),c+=")"),new S(D.INVALID_ARGUMENT,a+t+c)}class n1{constructor(e,n,r,o,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Pt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new aVe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(cE("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class aVe extends n1{data(){return super.data()}}function cE(t,e){return"string"==typeof e?function sE(t,e,n){if(e.search(sVe)>=0)throw aE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Bd(...e.split("."))._internalPath}catch{throw aE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}(t,e):e instanceof Bd?e._internalPath:e._delegate._internalPath}class uVe{convertValue(e,n="none"){switch(ma(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw L()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ha(e,(o,i)=>{r[o]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new XR(bt(e.latitude),bt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Dw(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(gg(e));default:return null}}convertTimestamp(e){const n=pa(e);return new mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Se.fromString(e);B(rZ(r));const o=new Pc(r.get(1),r.get(3)),i=new R(r.popFirst(5));return o.isEqual(n)||Nt(`Document ${i} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}class Qc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zd extends n1{constructor(e,n,r,o,i,s){super(e,n,r,o,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new fE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(cE("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class fE extends zd{data(e={}){return super.data(e)}}class qd{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Qc(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new fE(this._firestore,this._userDataWriter,r.key,r,new Qc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new S(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let i=0;return r._snapshot.docChanges.map(s=>({type:"added",doc:new fE(r._firestore,r._userDataWriter,s.doc.key,s.doc,new Qc(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:i++}))}{let i=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(s=>o||3!==s.type).map(s=>{const a=new fE(r._firestore,r._userDataWriter,s.doc.key,s.doc,new Qc(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,u=-1;return 0!==s.type&&(c=i.indexOf(s.doc.key),i=i.delete(s.doc.key)),1!==s.type&&(i=i.add(s.doc),u=i.indexOf(s.doc.key)),{type:dVe(s.type),doc:a,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function dVe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return L()}}function fVe(t){t=we(t,Pt);const e=we(t.firestore,it);return function gX(t,e,n={}){const r=new Zt;return t.asyncQueue.enqueueAndForget(v(function*(){return function(o,i,s,a,c){const u=new eE({next:d=>{i.enqueueAndForget(()=>LR(o,l));const f=d.docs.has(s);!f&&d.fromCache?c.reject(new S(D.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&d.fromCache&&a&&"server"===a.source?c.reject(new S(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(d)},error:d=>c.reject(d)}),l=new jR(Ed(s.path),u,{includeMetadataChanges:!0,Ku:!0});return FR(o,l)}(yield $d(t),t.asyncQueue,e,n,r)})),r.promise}(Bt(e),t._key).then(n=>function i1(t,e,n){const r=n.docs.get(e._key),o=new Ca(t);return new zd(t,o,e._key,r,new Qc(n.hasPendingWrites,n.fromCache),e.converter)}(e,t,n))}class Ca extends uVe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pt(this.firestore,null,n)}}function hVe(t){t=we(t,Tn);const e=we(t.firestore,it),n=Bt(e),r=new Ca(e);return function VX(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new S(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query),function mX(t,e,n={}){const r=new Zt;return t.asyncQueue.enqueueAndForget(v(function*(){return function(o,i,s,a,c){const u=new eE({next:d=>{i.enqueueAndForget(()=>LR(o,l)),d.fromCache&&"server"===a.source?c.reject(new S(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),l=new jR(s,u,{includeMetadataChanges:!0,Ku:!0});return FR(o,l)}(yield $d(t),t.asyncQueue,e,n,r)})),r.promise}(n,t._query).then(o=>new qd(e,r,t,o))}!function(t,e=!0){md=dl,ll(new Wt("firestore",(n,{instanceIdentifier:r,options:o})=>{const i=n.getProvider("app").getImmediate(),s=new it(new qke(n.getProvider("auth-internal")),new Qke(n.getProvider("app-check-internal")),function(a,c){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new S(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pc(a.options.projectId,c)}(i,r),i);return o=Object.assign({useFetchStreams:e},o),s._setSettings(o),s},"PUBLIC").setMultipleInstances(!0)),Gs(RQ,"3.13.0",t),Gs(RQ,"3.13.0","esm2017")}();class Qg{constructor(e){return e}}const MVe=bc(Q2e,!0),xVe=bc(DX,!0),NVe=bc(fVe,!0),RVe=bc(hVe,!0),OVe=bc(X2e,!0),KX="firebasestorage.googleapis.com";class _t extends Zn{constructor(e,n,r=0){super(a1(e),`Firebase Storage: ${n} (${a1(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return a1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var dt=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(dt||{});function a1(t){return"storage/"+t}function u1(t){return new _t(dt.INVALID_ARGUMENT,t)}function JX(){return new _t(dt.APP_DELETED,"The Firebase app was deleted.")}class cr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=cr.makeFromUrl(e,n)}catch{return new cr(e,"")}if(""===r.path)return r;throw function HVe(t){return new _t(dt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}(e)}static makeFromUrl(e,n){let r=null;const o="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+o+"(/(.*))?$","i");function u(w){w.path_=decodeURIComponent(w.path)}const d=n.replace(/[.]/g,"\\."),I=[{regex:a,indices:{bucket:1,path:3},postModify:function i(w){"/"===w.path.charAt(w.path.length-1)&&(w.path_=w.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${d}/v[A-Za-z0-9_]+/b/${o}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:u},{regex:new RegExp(`^https?://${n===KX?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${o}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:u}];for(let w=0;w<I.length;w++){const T=I[w],j=T.regex.exec(e);if(j){let xe=j[T.indices.path];xe||(xe=""),r=new cr(j[T.indices.bucket],xe),T.postModify(r);break}}if(null==r)throw function BVe(t){return new _t(dt.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return r}}class QVe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function d1(t,e,n,r){if(r<e)throw u1(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw u1(`Invalid value for '${t}'. Expected ${n} or less.`)}var Wd=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(Wd||{});class tje{constructor(e,n,r,o,i,s,a,c,u,l,d,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=l,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,p)=>{this.resolve_=h,this.reject_=p,this.start_()})}start_(){const n=(r,o)=>{const i=this.resolve_,s=this.reject_,a=o.connection;if(o.wasSuccessCode)try{const c=this.callback_(a,a.getResponse());!function XVe(t){return void 0!==t}(c)?i():i(c)}catch(c){s(c)}else if(null!==a){const c=function c1(){return new _t(dt.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}();c.serverResponse=a.getErrorText(),s(this.errorCallback_?this.errorCallback_(a,c):c)}else s(o.canceled?this.appDelete_?JX():function ZX(){return new _t(dt.CANCELED,"User canceled the upload/download.")}():function YX(){return new _t(dt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?n(0,new gE(!1,null,!0)):this.backoffId_=function YVe(t,e,n){let r=1,o=null,i=null,s=!1,a=0;function c(){return 2===a}let u=!1;function l(...m){u||(u=!0,e.apply(null,m))}function d(m){o=setTimeout(()=>{o=null,t(h,c())},m)}function f(){i&&clearTimeout(i)}function h(m,...y){if(u)return void f();if(m)return f(),void l.call(null,m,...y);if(c()||s)return f(),void l.call(null,m,...y);let I;r<64&&(r*=2),1===a?(a=2,I=0):I=1e3*(r+Math.random()),d(I)}let p=!1;function g(m){p||(p=!0,f(),!u&&(null!==o?(m||(a=2),clearTimeout(o),d(0)):m||(a=1)))}return d(0),i=setTimeout(()=>{s=!0,g(!0)},n),g}((r,o)=>{if(o)return void r(!1,new gE(!1,null,!0));const i=this.connectionFactory_();this.pendingConnection_=i;const s=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&i.addUploadProgressListener(s),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&i.removeUploadProgressListener(s),this.pendingConnection_=null;const a=i.getErrorCode()===Wd.NO_ERROR,c=i.getStatus();if(!a||function nJ(t,e){const n=t>=500&&t<600,o=-1!==[408,429].indexOf(t),i=-1!==e.indexOf(t);return n||o||i}(c,this.additionalRetryCodes_)&&this.retry){const l=i.getErrorCode()===Wd.ABORT;return void r(!1,new gE(!1,null,l))}const u=-1!==this.successCodes_.indexOf(c);r(!0,new gE(u,i))})},n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function ZVe(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class gE{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}class Yc{constructor(e,n){this._service=e,this._location=n instanceof cr?n:cr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Yc(e,n)}get root(){const e=new cr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function aJ(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}(this._location.path)}get storage(){return this._service}get parent(){const e=function gje(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;const n=new cr(this._location.bucket,e);return new Yc(this._service,n)}_throwIfRoot(e){if(""===this._location.path)throw function KVe(t){return new _t(dt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function EJ(t,e){const n=e?.storageBucket;return null==n?null:cr.makeFromBucketSpec(n,t)}class _1{constructor(e,n,r,o,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=i,this._bucket=null,this._host=KX,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=o?cr.makeFromBucketSpec(o,this._host):EJ(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?cr.makeFromBucketSpec(this._url,e):EJ(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){d1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){d1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return v(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const n=e._authProvider.getImmediate({optional:!0});if(n){const r=yield n.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return v(function*(){const n=e._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Yc(this,e)}_makeRequest(e,n,r,o,i=!0){if(this._deleted)return new QVe(JX());{const s=function sje(t,e,n,r,o,i,s=!0){const a=function tJ(t){const e=encodeURIComponent;let n="?";for(const r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n=n.slice(0,-1),n}(t.urlParams),c=t.url+a,u=Object.assign({},t.headers);return function oje(t,e){e&&(t["X-Firebase-GMPID"]=e)}(u,e),function nje(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(u,n),function rje(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(u,i),function ije(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(u,r),new tje(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,o,s)}(e,this._appId,r,o,n,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,n){var r=this;return v(function*(){const[o,i]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,n,o,i).getPromise()})()}}const DJ="@firebase/storage",CJ="storage";function eUe(t=function MMe(t=_I){const e=_c.get(t);if(!e&&t===_I&&xy())return function AMe(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:_I,automaticDataCollectionEnabled:!1},e),o=r.name;if("string"!=typeof o||!o)throw os.create("bad-app-name",{appName:String(o)});if(n||(n=xy()),!n)throw os.create("no-options");const i=_c.get(o);if(i){if(cl(n,i.options)&&cl(r,i.config))return i;throw os.create("duplicate-app",{appName:o})}const s=new Y$(o);for(const c of yI.values())s.addComponent(c);const a=new SMe(n,r,s);return _c.set(o,a),a}();if(!e)throw os.create("no-app",{appName:t});return e}(),e){const r=vI(t=bo(t),CJ).getImmediate({identifier:e}),o=G$("storage");return o&&function tUe(t,e,n,r={}){!function Jje(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken="string"==typeof o?o:W$(o,t.app.options.projectId))}(t,e,n,r)}(r,...o),r}function nUe(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new _1(n,r,o,e,"10.3.1")}!function rUe(){No(new Wt(CJ,nUe,"PUBLIC").setMultipleInstances(!0)),Gr(DJ,"0.11.2",""),Gr(DJ,"0.11.2","esm2017")}();class vE{constructor(e){return e}}const cUe=bc(eUe,!0);let uUe=(()=>{var t;class e{constructor(r){this.firestore=r,this.animeCollection=MVe(this.firestore,"animes")}getTopRatedAnimes(){try{return Ct(RVe(this.animeCollection)).pipe(Ve(r=>r.docs.map(o=>o.data())))}catch(r){return console.error("Erro ao buscar animes:",r),G([])}}getAnimeDetails(r){try{const o=xVe(this.animeCollection,r.toString());return Ct(NVe(o)).pipe(Ve(i=>i.exists()?i.data():null))}catch(o){return console.error("Erro ao buscar detalhes do anime:",o),G(null)}}}return(t=e).\u0275fac=function(r){return new(r||t)(q(Qg))},t.\u0275prov=z({token:t,factory:t.\u0275fac}),e})();const lUe=new U("UserService");let dUe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=go({type:t}),t.\u0275inj=Yr({providers:[{provide:XT,useClass:uUe},{provide:lUe,useClass:JT}]}),e})();const v1={production:!1,firebase:{projectId:"eienotaku-5ce77",appId:"1:218697815529:web:1abcf52fa6a81d17dde778",storageBucket:"eienotaku-5ce77.appspot.com",locationId:"southamerica-east1",apiKey:"AIzaSyCZuyXetpn7UYxgSyZ-13I56bAOD_hhz34",authDomain:"eienotaku-5ce77.firebaseapp.com",messagingSenderId:"218697815529",measurementId:"G-VYY9C4C6DS"}};let fUe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=go({type:t,bootstrap:[zme]}),t.\u0275inj=Yr({providers:[{provide:"FirebaseConfig",useValue:v1.firebase},{provide:gc,useFactory:()=>function hUe(t){throw new Error("Function not implemented.")}()},{provide:HI,useFactory:()=>FPe()},{provide:Qg,useFactory:()=>OVe()},{provide:vE,useFactory:()=>cUe()}],imports:[Hfe,Bme,Xhe,dUe]}),e})();var SJ;!function pUe(){(SJ=SJ||v(function*(){try{yield $fe().bootstrapModule(fUe),console.log("Aplica\xe7\xe3o Angular iniciada com sucesso!")}catch(t){console.error(t)}})).apply(this,arguments)}()}},Zd=>{Zd(Zd.s=853)}]);