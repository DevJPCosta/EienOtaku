"use strict";(self.webpackChunkEienOtaku=self.webpackChunkEienOtaku||[]).push([[179],{7922:(rt,ve,x)=>{x.d(ve,{hO:()=>tt});var B=x(4946),p=x(9058),H=x(4537),z=x(7592),se=x(7879);class ae{constructor(Ae,U){this._delegate=Ae,this.firebase=U,(0,z._addComponent)(Ae,new H.wA("app-compat",()=>this,"PUBLIC")),this.container=Ae.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ae){this._delegate.automaticDataCollectionEnabled=Ae}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ae=>{this._delegate.checkDestroyed(),Ae()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,z.deleteApp)(this._delegate)))}_getService(Ae,U=z._DEFAULT_ENTRY_NAME){var G;this._delegate.checkDestroyed();const Z=this._delegate.container.getProvider(Ae);return!Z.isInitialized()&&"EXPLICIT"===(null===(G=Z.getComponent())||void 0===G?void 0:G.instantiationMode)&&Z.initialize(),Z.getImmediate({identifier:U})}_removeServiceInstance(Ae,U=z._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ae).clearInstance(U)}_addComponent(Ae){(0,z._addComponent)(this._delegate,Ae)}_addOrOverwriteComponent(Ae){(0,z._addOrOverwriteComponent)(this._delegate,Ae)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ke=new p.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),k=function V(){const he=function ye(he){const Ae={},U={__esModule:!0,initializeApp:function X(Ve,vt={}){const Ge=z.initializeApp(Ve,vt);if((0,p.r3)(Ae,Ge.name))return Ae[Ge.name];const Ct=new he(Ge,U);return Ae[Ge.name]=Ct,Ct},app:Z,registerVersion:z.registerVersion,setLogLevel:z.setLogLevel,onLog:z.onLog,apps:null,SDK_VERSION:z.SDK_VERSION,INTERNAL:{registerComponent:function ne(Ve){const vt=Ve.name,Ge=vt.replace("-compat","");if(z._registerComponent(Ve)&&"PUBLIC"===Ve.type){const Ct=(At=Z())=>{if("function"!=typeof At[Ge])throw ke.create("invalid-app-argument",{appName:vt});return At[Ge]()};void 0!==Ve.serviceProps&&(0,p.ZB)(Ct,Ve.serviceProps),U[Ge]=Ct,he.prototype[Ge]=function(...At){return this._getService.bind(this,vt).apply(this,Ve.multipleInstances?At:[])}}return"PUBLIC"===Ve.type?U[Ge]:null},removeApp:function G(Ve){delete Ae[Ve]},useAsService:function $e(Ve,vt){return"serverAuth"===vt?null:vt},modularAPIs:z}};function Z(Ve){if(!(0,p.r3)(Ae,Ve=Ve||z._DEFAULT_ENTRY_NAME))throw ke.create("no-app",{appName:Ve});return Ae[Ve]}return U.default=U,Object.defineProperty(U,"apps",{get:function ce(){return Object.keys(Ae).map(Ve=>Ae[Ve])}}),Z.App=he,U}(ae);return he.INTERNAL=Object.assign(Object.assign({},he.INTERNAL),{createFirebaseNamespace:V,extendNamespace:function Ae(U){(0,p.ZB)(he,U)},createSubscribe:p.ne,ErrorFactory:p.LL,deepExtend:p.ZB}),he}(),ee=new se.Yd("@firebase/app-compat");if((0,p.jU)()&&void 0!==self.firebase){ee.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const he=self.firebase.SDK_VERSION;he&&he.indexOf("LITE")>=0&&ee.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ht=k;!function Oe(he){(0,z.registerVersion)("@firebase/app-compat","0.2.13",he)}(),ht.registerVersion("firebase","9.23.0","app-compat");var Ht=x(8566);rt=x.hmd(rt);class de{constructor(Ae){return Ae}}const Be=new B.OlP("angularfire2.app.options"),ut=new B.OlP("angularfire2.app.name"),Ye={provide:de,useFactory:function re(he,Ae,U){const Z="object"==typeof U&&U||{};Z.name=Z.name||"string"==typeof U&&U||"[DEFAULT]";const ce=ht.apps.filter(ne=>ne&&ne.name===Z.name)[0]||Ae.runOutsideAngular(()=>ht.initializeApp(he,Z));try{JSON.stringify(he)!==JSON.stringify(ce.options)&&((he,...Ae)=>{(0,B.X6Q)()&&typeof console<"u"&&console[he](...Ae)})("error",`${ce.name} Firebase App already initialized with different options${rt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new de(ce)},deps:[Be,B.R0b,[new B.FiY,ut]]};let tt=(()=>{class he{constructor(U){ht.registerVersion("angularfire",Ht.q4.full,"core"),ht.registerVersion("angularfire",Ht.q4.full,"app-compat"),ht.registerVersion("angular",B.q4F.full,U.toString())}static initializeApp(U,G){return{ngModule:he,providers:[{provide:Be,useValue:U},{provide:ut,useValue:G}]}}}return he.\u0275fac=function(U){return new(U||he)(B.LFG(B.Lbi))},he.\u0275mod=B.oAB({type:he}),he.\u0275inj=B.cJS({providers:[Ye]}),he})();globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8566:(rt,ve,x)=>{x.d(ve,{q4:()=>By,vb:()=>wp,JM:()=>Uy,u3:()=>_u});var ye,V,B=x(4946),p=x(4097),H=x(5861),z=x(4537),se=x(7879),ae=x(9058),be=x(1878);class k{constructor(D){this.container=D}getPlatformInfoString(){return this.container.getProviders().map(C=>{if(function ee(w){const D=w.getComponent();return"VERSION"===D?.type}(C)){const T=C.getImmediate();return`${T.library}/${T.version}`}return null}).filter(C=>C).join(" ")}}const Ce="@firebase/app",Oe=new se.Yd("@firebase/app"),$e={[Ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ve=new Map,vt=new Map;function Ge(w,D){try{w.container.addComponent(D)}catch(C){Oe.debug(`Component ${D.name} failed to register with FirebaseApp ${w.name}`,C)}}function At(w){const D=w.name;if(vt.has(D))return Oe.debug(`There were multiple attempts to register component ${D}.`),!1;vt.set(D,w);for(const C of Ve.values())Ge(C,w);return!0}function Jt(w,D){const C=w.container.getProvider("heartbeat").getImmediate({optional:!0});return C&&C.triggerHeartbeat(),w.container.getProvider(D)}const zt=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});function qr(w,D,C){var T;let M=null!==(T=$e[w])&&void 0!==T?T:w;C&&(M+=`-${C}`);const L=M.match(/\s|\//),W=D.match(/\s|\//);if(L||W){const ie=[`Unable to register library "${M}" with version "${D}":`];return L&&ie.push(`library name "${M}" contains illegal characters (whitespace or "/")`),L&&W&&ie.push("and"),W&&ie.push(`version name "${D}" contains illegal characters (whitespace or "/")`),void Oe.warn(ie.join(" "))}At(new z.wA(`${M}-version`,()=>({library:M,version:D}),"VERSION"))}const It="firebase-heartbeat-database",Cs=1,ii="firebase-heartbeat-store";let jn=null;function wr(){return jn||(jn=(0,be.X3)(It,Cs,{upgrade:(w,D)=>{0===D&&w.createObjectStore(ii)}}).catch(w=>{throw zt.create("idb-open",{originalErrorMessage:w.message})})),jn}function qi(w,D){return(V=V||(0,H.Z)(function*(C,T){try{const L=(yield wr()).transaction(ii,"readwrite");yield L.objectStore(ii).put(T,sn(C)),yield L.done}catch(M){if(M instanceof ae.ZR)Oe.warn(M.message);else{const L=zt.create("idb-set",{originalErrorMessage:M?.message});Oe.warn(L.message)}}})).apply(this,arguments)}function sn(w){return`${w.name}!${w.options.appId}`}class za{constructor(D){this.container=D,this._heartbeatsCache=null;const C=this.container.getProvider("app").getImmediate();this._storage=new Ys(C),this._heartbeatsCachePromise=this._storage.read().then(T=>(this._heartbeatsCache=T,T))}triggerHeartbeat(){var D=this;return(0,H.Z)(function*(){const T=D.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),M=Dn();if(null===D._heartbeatsCache&&(D._heartbeatsCache=yield D._heartbeatsCachePromise),D._heartbeatsCache.lastSentHeartbeatDate!==M&&!D._heartbeatsCache.heartbeats.some(L=>L.date===M))return D._heartbeatsCache.heartbeats.push({date:M,agent:T}),D._heartbeatsCache.heartbeats=D._heartbeatsCache.heartbeats.filter(L=>{const W=new Date(L.date).valueOf();return Date.now()-W<=2592e6}),D._storage.overwrite(D._heartbeatsCache)})()}getHeartbeatsHeader(){var D=this;return(0,H.Z)(function*(){if(null===D._heartbeatsCache&&(yield D._heartbeatsCachePromise),null===D._heartbeatsCache||0===D._heartbeatsCache.heartbeats.length)return"";const C=Dn(),{heartbeatsToSend:T,unsentEntries:M}=function Ho(w,D=1024){const C=[];let T=w.slice();for(const M of w){const L=C.find(W=>W.agent===M.agent);if(L){if(L.dates.push(M.date),Re(C)>D){L.dates.pop();break}}else if(C.push({agent:M.agent,dates:[M.date]}),Re(C)>D){C.pop();break}T=T.slice(1)}return{heartbeatsToSend:C,unsentEntries:T}}(D._heartbeatsCache.heartbeats),L=(0,ae.L)(JSON.stringify({version:2,heartbeats:T}));return D._heartbeatsCache.lastSentHeartbeatDate=C,M.length>0?(D._heartbeatsCache.heartbeats=M,yield D._storage.overwrite(D._heartbeatsCache)):(D._heartbeatsCache.heartbeats=[],D._storage.overwrite(D._heartbeatsCache)),L})()}}function Dn(){return(new Date).toISOString().substring(0,10)}class Ys{constructor(D){this.app=D,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,H.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var D=this;return(0,H.Z)(function*(){return(yield D._canUseIndexedDBPromise)&&(yield function qn(w){return(ye=ye||(0,H.Z)(function*(D){try{return yield(yield wr()).transaction(ii).objectStore(ii).get(sn(D))}catch(C){if(C instanceof ae.ZR)Oe.warn(C.message);else{const T=zt.create("idb-get",{originalErrorMessage:C?.message});Oe.warn(T.message)}}})).apply(this,arguments)}(D.app))||{heartbeats:[]}})()}overwrite(D){var C=this;return(0,H.Z)(function*(){var T;if(yield C._canUseIndexedDBPromise){const L=yield C.read();return qi(C.app,{lastSentHeartbeatDate:null!==(T=D.lastSentHeartbeatDate)&&void 0!==T?T:L.lastSentHeartbeatDate,heartbeats:D.heartbeats})}})()}add(D){var C=this;return(0,H.Z)(function*(){var T;if(yield C._canUseIndexedDBPromise){const L=yield C.read();return qi(C.app,{lastSentHeartbeatDate:null!==(T=D.lastSentHeartbeatDate)&&void 0!==T?T:L.lastSentHeartbeatDate,heartbeats:[...L.heartbeats,...D.heartbeats]})}})()}}function Re(w){return(0,ae.L)(JSON.stringify({version:2,heartbeats:w})).length}!function _e(w){At(new z.wA("platform-logger",D=>new k(D),"PRIVATE")),At(new z.wA("heartbeat",D=>new za(D),"PRIVATE")),qr(Ce,"0.9.18",w),qr(Ce,"0.9.18","esm2017"),qr("fire-js","")}("");const He=(w,D)=>D.some(C=>w instanceof C);let at,mt;const P=new WeakMap,O=new WeakMap,j=new WeakMap,ue=new WeakMap,K=new WeakMap;let Ut={get(w,D,C){if(w instanceof IDBTransaction){if("done"===D)return O.get(w);if("objectStoreNames"===D)return w.objectStoreNames||j.get(w);if("store"===D)return C.objectStoreNames[1]?void 0:C.objectStore(C.objectStoreNames[0])}return St(w[D])},set:(w,D,C)=>(w[D]=C,!0),has:(w,D)=>w instanceof IDBTransaction&&("done"===D||"store"===D)||D in w};function Ri(w){return"function"==typeof w?function $n(w){return w!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Un(){return mt||(mt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(w)?function(...D){return w.apply(Fr(this),D),St(P.get(this))}:function(...D){return St(w.apply(Fr(this),D))}:function(D,...C){const T=w.call(Fr(this),D,...C);return j.set(T,D.sort?D.sort():[D]),St(T)}}(w):(w instanceof IDBTransaction&&function wt(w){if(O.has(w))return;const D=new Promise((C,T)=>{const M=()=>{w.removeEventListener("complete",L),w.removeEventListener("error",W),w.removeEventListener("abort",W)},L=()=>{C(),M()},W=()=>{T(w.error||new DOMException("AbortError","AbortError")),M()};w.addEventListener("complete",L),w.addEventListener("error",W),w.addEventListener("abort",W)});O.set(w,D)}(w),He(w,function Ft(){return at||(at=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(w,Ut):w)}function St(w){if(w instanceof IDBRequest)return function We(w){const D=new Promise((C,T)=>{const M=()=>{w.removeEventListener("success",L),w.removeEventListener("error",W)},L=()=>{C(St(w.result)),M()},W=()=>{T(w.error),M()};w.addEventListener("success",L),w.addEventListener("error",W)});return D.then(C=>{C instanceof IDBCursor&&P.set(C,w)}).catch(()=>{}),K.set(D,w),D}(w);if(ue.has(w))return ue.get(w);const D=Ri(w);return D!==w&&(ue.set(w,D),K.set(D,w)),D}const Fr=w=>K.get(w),Jm=["get","getKey","getAll","getAllKeys","count"],Is=["put","add","delete","clear"],ld=new Map;function kn(w,D){var C;if(!(w instanceof IDBDatabase)||D in w||"string"!=typeof D)return;if(ld.get(D))return ld.get(D);const T=D.replace(/FromIndex$/,""),M=D!==T,L=Is.includes(T);if(!(T in(M?IDBIndex:IDBObjectStore).prototype)||!L&&!Jm.includes(T))return;const W=function(De){return(C=C||(0,H.Z)(function*(Fe,...je){const Qe=this.transaction(Fe,L?"readwrite":"readonly");let Nt=Qe.store;return M&&(Nt=Nt.index(je.shift())),(yield Promise.all([Nt[T](...je),L&&Qe.done]))[0]})).apply(this,arguments)};return ld.set(D,W),W}var dd,Kt,qa,Go,bs,hd,Nf,ey,Pi,Xs,Fi,vi,kt,zo,lc,qo;!function Fn(w){Ut=w(Ut)}(w=>({...w,get:(D,C,T)=>kn(D,C)||w.get(D,C,T),has:(D,C)=>!!kn(D,C)||w.has(D,C)}));const ki="@firebase/installations",hc="0.6.4",fc=1e4,Wo=`w:${hc}`,Wa="FIS_v2",Of="https://firebaseinstallations.googleapis.com/v1",Ka=36e5,Zi=new ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ny(w){return w instanceof ae.ZR&&w.code.includes("request-failed")}function Rf({projectId:w}){return`${Of}/projects/${w}/installations`}function yn(w){return{token:w.token,requestStatus:2,expiresIn:yd(w.expiresIn),creationTime:Date.now()}}function pd(w,D){return(dd=dd||(0,H.Z)(function*(C,T){const L=(yield T.json()).error;return Zi.create("request-failed",{requestName:C,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function gd({apiKey:w}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w})}function md(w){return(Kt=Kt||(0,H.Z)(function*(D){const C=yield D();return C.status>=500&&C.status<600?D():C})).apply(this,arguments)}function yd(w){return Number(w.replace("s","000"))}function kf(w){return new Promise(D=>{setTimeout(D,w)})}const sy=/^[cdef][\w-]{21}$/,pc="";function oy(){try{const w=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(w),w[0]=112+w[0]%16;const C=function ay(w){return function iy(w){return btoa(String.fromCharCode(...w)).replace(/\+/g,"-").replace(/\//g,"_")}(w).substr(0,22)}(w);return sy.test(C)?C:pc}catch{return pc}}function Ko(w){return`${w.appName}!${w.appId}`}const Ss=new Map;function Lf(w,D){const C=Ko(w);vd(C,D),function Ot(w,D){const C=function sr(){return!cn&&"BroadcastChannel"in self&&(cn=new BroadcastChannel("[Firebase] FID Change"),cn.onmessage=w=>{vd(w.data.key,w.data.fid)}),cn}();C&&C.postMessage({key:w,fid:D}),function Js(){0===Ss.size&&cn&&(cn.close(),cn=null)}()}(C,D)}function vd(w,D){const C=Ss.get(w);if(C)for(const T of C)T(D)}let cn=null;const Dr="firebase-installations-database",gc=1,eo="firebase-installations-store";let Za=null;function _d(){return Za||(Za=function Qs(w,D,{blocked:C,upgrade:T,blocking:M,terminated:L}={}){const W=indexedDB.open(w,D),ie=St(W);return T&&W.addEventListener("upgradeneeded",De=>{T(St(W.result),De.oldVersion,De.newVersion,St(W.transaction))}),C&&W.addEventListener("blocked",()=>C()),ie.then(De=>{L&&De.addEventListener("close",()=>L()),M&&De.addEventListener("versionchange",()=>M())}).catch(()=>{}),ie}(Dr,gc,{upgrade:(w,D)=>{0===D&&w.createObjectStore(eo)}})),Za}function Ya(w,D){return(Go=Go||(0,H.Z)(function*(C,T){const M=Ko(C),W=(yield _d()).transaction(eo,"readwrite"),ie=W.objectStore(eo),De=yield ie.get(M);return yield ie.put(T,M),yield W.done,(!De||De.fid!==T.fid)&&Lf(C,T.fid),T})).apply(this,arguments)}function on(w){return(bs=bs||(0,H.Z)(function*(D){const C=Ko(D),M=(yield _d()).transaction(eo,"readwrite");yield M.objectStore(eo).delete(C),yield M.done})).apply(this,arguments)}function xe(w,D){return(hd=hd||(0,H.Z)(function*(C,T){const M=Ko(C),W=(yield _d()).transaction(eo,"readwrite"),ie=W.objectStore(eo),De=yield ie.get(M),Fe=T(De);return void 0===Fe?yield ie.delete(M):yield ie.put(Fe,M),yield W.done,Fe&&(!De||De.fid!==Fe.fid)&&Lf(C,Fe.fid),Fe})).apply(this,arguments)}function ct(w){return(Nf=Nf||(0,H.Z)(function*(D){let C;const T=yield xe(D.appConfig,M=>{const L=function ln(w){return vn(w||{fid:oy(),registrationStatus:0})}(M),W=function si(w,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(Zi.create("app-offline"))};const C={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},T=function mc(w,D){return(ey=ey||(0,H.Z)(function*(C,T){try{const M=yield function Ff(w,D){return(qa=qa||(0,H.Z)(function*({appConfig:C,heartbeatServiceProvider:T},{fid:M}){const L=Rf(C),W=gd(C),ie=T.getImmediate({optional:!0});if(ie){const Qe=yield ie.getHeartbeatsHeader();Qe&&W.append("x-firebase-client",Qe)}const Fe={method:"POST",headers:W,body:JSON.stringify({fid:M,authVersion:Wa,appId:C.appId,sdkVersion:Wo})},je=yield md(()=>fetch(L,Fe));if(je.ok){const Qe=yield je.json();return{fid:Qe.fid||M,registrationStatus:2,refreshToken:Qe.refreshToken,authToken:yn(Qe.authToken)}}throw yield pd("Create Installation",je)})).apply(this,arguments)}(C,T);return Ya(C.appConfig,M)}catch(M){throw ny(M)&&409===M.customData.serverCode?yield on(C.appConfig):yield Ya(C.appConfig,{fid:T.fid,registrationStatus:0}),M}})).apply(this,arguments)}(w,C);return{installationEntry:C,registrationPromise:T}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:Er(w)}:{installationEntry:D}}(D,L);return C=W.registrationPromise,W.installationEntry});return T.fid===pc?{installationEntry:yield C}:{installationEntry:T,registrationPromise:C}})).apply(this,arguments)}function Er(w){return(Pi=Pi||(0,H.Z)(function*(D){let C=yield Zo(D.appConfig);for(;1===C.registrationStatus;)yield kf(100),C=yield Zo(D.appConfig);if(0===C.registrationStatus){const{installationEntry:T,registrationPromise:M}=yield ct(D);return M||T}return C})).apply(this,arguments)}function Zo(w){return xe(w,D=>{if(!D)throw Zi.create("installation-not-found");return vn(D)})}function vn(w){return function Ts(w){return 1===w.registrationStatus&&w.registrationTime+fc<Date.now()}(w)?{fid:w.fid,registrationStatus:0}:w}function Yo(w,D){return(Xs=Xs||(0,H.Z)(function*({appConfig:C,heartbeatServiceProvider:T},M){const L=function ft(w,{fid:D}){return`${Rf(w)}/${D}/authTokens:generate`}(C,M),W=function Pf(w,{refreshToken:D}){const C=gd(w);return C.append("Authorization",function ry(w){return`${Wa} ${w}`}(D)),C}(C,M),ie=T.getImmediate({optional:!0});if(ie){const Qe=yield ie.getHeartbeatsHeader();Qe&&W.append("x-firebase-client",Qe)}const Fe={method:"POST",headers:W,body:JSON.stringify({installation:{sdkVersion:Wo,appId:C.appId}})},je=yield md(()=>fetch(L,Fe));if(je.ok)return yn(yield je.json());throw yield pd("Generate Auth Token",je)})).apply(this,arguments)}function to(w){return(Fi=Fi||(0,H.Z)(function*(D,C=!1){let T;const M=yield xe(D.appConfig,W=>{if(!Qo(W))throw Zi.create("not-registered");const ie=W.authToken;if(!C&&function Xo(w){return 2===w.requestStatus&&!function Li(w){const D=Date.now();return D<w.creationTime||w.creationTime+w.expiresIn<D+Ka}(w)}(ie))return W;if(1===ie.requestStatus)return T=function uy(w,D){return(vi=vi||(0,H.Z)(function*(C,T){let M=yield Yi(C.appConfig);for(;1===M.authToken.requestStatus;)yield kf(100),M=yield Yi(C.appConfig);const L=M.authToken;return 0===L.requestStatus?to(C,T):L})).apply(this,arguments)}(D,C),W;{if(!navigator.onLine)throw Zi.create("app-offline");const De=function As(w){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},w),{authToken:D})}(W);return T=function Mn(w,D){return(kt=kt||(0,H.Z)(function*(C,T){try{const M=yield Yo(C,T),L=Object.assign(Object.assign({},T),{authToken:M});return yield Ya(C.appConfig,L),M}catch(M){if(!ny(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const L=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield Ya(C.appConfig,L)}else yield on(C.appConfig);throw M}})).apply(this,arguments)}(D,De),De}});return T?yield T:M.authToken})).apply(this,arguments)}function Yi(w){return xe(w,D=>{if(!Qo(D))throw Zi.create("not-registered");return function jf(w){return 1===w.requestStatus&&w.requestTime+fc<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function Qo(w){return void 0!==w&&2===w.registrationStatus}function Xa(w){return Zi.create("missing-app-config-values",{valueName:w})}const ro="installations",Wn=w=>{const D=w.getProvider("app").getImmediate(),C=function Xi(w){if(!w||!w.options)throw Xa("App Configuration");if(!w.name)throw Xa("App Name");const D=["projectId","apiKey","appId"];for(const C of D)if(!w.options[C])throw Xa(C);return{appName:w.name,projectId:w.options.projectId,apiKey:w.options.apiKey,appId:w.options.appId}}(D);return{app:D,appConfig:C,heartbeatServiceProvider:Jt(D,"heartbeat"),_delete:()=>Promise.resolve()}},gb=w=>{const C=Jt(w.getProvider("app").getImmediate(),ro).getImmediate();return{getId:()=>function no(w){return(zo=zo||(0,H.Z)(function*(D){const C=D,{installationEntry:T,registrationPromise:M}=yield ct(C);return M?M.catch(console.error):to(C).catch(console.error),T.fid})).apply(this,arguments)}(C),getToken:M=>function Qi(w){return(lc=lc||(0,H.Z)(function*(D,C=!1){const T=D;return yield function Qa(w){return(qo=qo||(0,H.Z)(function*(D){const{registrationPromise:C}=yield ct(D);C&&(yield C)})).apply(this,arguments)}(T),(yield to(T,C)).token})).apply(this,arguments)}(C,M)}};var _c;(function Wr(){At(new z.wA(ro,Wn,"PUBLIC")),At(new z.wA("installations-internal",gb,"PRIVATE"))})(),qr(ki,hc),qr(ki,hc,"esm2017");const oi="@firebase/remote-config",Kr=new ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Db{constructor(D,C,T,M){this.client=D,this.storage=C,this.storageCache=T,this.logger=M}isCachedDataFresh(D,C){if(!C)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const T=Date.now()-C,M=T<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${T}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${M}.`),M}fetch(D){var C=this;return(0,H.Z)(function*(){const[T,M]=yield Promise.all([C.storage.getLastSuccessfulFetchTimestampMillis(),C.storage.getLastSuccessfulFetchResponse()]);if(M&&C.isCachedDataFresh(D.cacheMaxAgeMillis,T))return M;D.eTag=M&&M.eTag;const L=yield C.client.fetch(D),W=[C.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===L.status&&W.push(C.storage.setLastSuccessfulFetchResponse(L)),yield Promise.all(W),L})()}}function io(w=navigator){return w.languages&&w.languages[0]||w.language}class Ji{constructor(D,C,T,M,L,W){this.firebaseInstallations=D,this.sdkVersion=C,this.namespace=T,this.projectId=M,this.apiKey=L,this.appId=W}fetch(D){var C=this;return(0,H.Z)(function*(){const[T,M]=yield Promise.all([C.firebaseInstallations.getId(),C.firebaseInstallations.getToken()]),W=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${C.projectId}/namespaces/${C.namespace}:fetch?key=${C.apiKey}`,ie={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},De={sdk_version:C.sdkVersion,app_instance_id:T,app_instance_id_token:M,app_id:C.appId,language_code:io()},Fe={method:"POST",headers:ie,body:JSON.stringify(De)},je=fetch(W,Fe),Qe=new Promise((lt,Qr)=>{D.signal.addEventListener(()=>{const ss=new Error("The operation was aborted.");ss.name="AbortError",Qr(ss)})});let Nt;try{yield Promise.race([je,Qe]),Nt=yield je}catch(lt){let Qr="fetch-client-network";throw"AbortError"===lt?.name&&(Qr="fetch-timeout"),Kr.create(Qr,{originalErrorMessage:lt?.message})}let bn=Nt.status;const hn=Nt.headers.get("ETag")||void 0;let lr,Vr;if(200===Nt.status){let lt;try{lt=yield Nt.json()}catch(Qr){throw Kr.create("fetch-client-parse",{originalErrorMessage:Qr?.message})}lr=lt.entries,Vr=lt.state}if("INSTANCE_STATE_UNSPECIFIED"===Vr?bn=500:"NO_CHANGE"===Vr?bn=304:("NO_TEMPLATE"===Vr||"EMPTY_CONFIG"===Vr)&&(lr={}),304!==bn&&200!==bn)throw Kr.create("fetch-status",{httpStatus:bn});return{status:bn,eTag:hn,config:lr}})()}}class ar{constructor(D,C){this.client=D,this.storage=C}fetch(D){var C=this;return(0,H.Z)(function*(){const T=(yield C.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return C.attemptFetch(D,T)})()}attemptFetch(D,{throttleEndTimeMillis:C,backoffCount:T}){var M=this;return(0,H.Z)(function*(){yield function Eb(w,D){return new Promise((C,T)=>{const M=Math.max(D-Date.now(),0),L=setTimeout(C,M);w.addEventListener(()=>{clearTimeout(L),T(Kr.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,C);try{const L=yield M.client.fetch(D);return yield M.storage.deleteThrottleMetadata(),L}catch(L){if(!function gy(w){if(!(w instanceof ae.ZR&&w.customData))return!1;const D=Number(w.customData.httpStatus);return 429===D||500===D||503===D||504===D}(L))throw L;const W={throttleEndTimeMillis:Date.now()+(0,ae.$s)(T),backoffCount:T+1};return yield M.storage.setThrottleMetadata(W),M.attemptFetch(D,W)}})()}}class Ed{constructor(D,C,T,M,L){this.app=D,this._client=C,this._storageCache=T,this._storage=M,this._logger=L,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function wc(w,D){const C=w.target.error||void 0;return Kr.create(D,{originalErrorMessage:C&&C?.message})}const so="app_namespace_store";class Dc{constructor(D,C,T,M=function Gf(){return new Promise((w,D)=>{try{const C=indexedDB.open("firebase_remote_config",1);C.onerror=T=>{D(wc(T,"storage-open"))},C.onsuccess=T=>{w(T.target.result)},C.onupgradeneeded=T=>{0===T.oldVersion&&T.target.result.createObjectStore(so,{keyPath:"compositeKey"})}}catch(C){D(Kr.create("storage-open",{originalErrorMessage:C?.message}))}})}()){this.appId=D,this.appName=C,this.namespace=T,this.openDbPromise=M}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var C=this;return(0,H.Z)(function*(){const T=yield C.openDbPromise;return new Promise((M,L)=>{const ie=T.transaction([so],"readonly").objectStore(so),De=C.createCompositeKey(D);try{const Fe=ie.get(De);Fe.onerror=je=>{L(wc(je,"storage-get"))},Fe.onsuccess=je=>{const Qe=je.target.result;M(Qe?Qe.value:void 0)}}catch(Fe){L(Kr.create("storage-get",{originalErrorMessage:Fe?.message}))}})})()}set(D,C){var T=this;return(0,H.Z)(function*(){const M=yield T.openDbPromise;return new Promise((L,W)=>{const De=M.transaction([so],"readwrite").objectStore(so),Fe=T.createCompositeKey(D);try{const je=De.put({compositeKey:Fe,value:C});je.onerror=Qe=>{W(wc(Qe,"storage-set"))},je.onsuccess=()=>{L()}}catch(je){W(Kr.create("storage-set",{originalErrorMessage:je?.message}))}})})()}delete(D){var C=this;return(0,H.Z)(function*(){const T=yield C.openDbPromise;return new Promise((M,L)=>{const ie=T.transaction([so],"readwrite").objectStore(so),De=C.createCompositeKey(D);try{const Fe=ie.delete(De);Fe.onerror=je=>{L(wc(je,"storage-delete"))},Fe.onsuccess=()=>{M()}}catch(Fe){L(Kr.create("storage-delete",{originalErrorMessage:Fe?.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class Cd{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,H.Z)(function*(){const C=D.storage.getLastFetchStatus(),T=D.storage.getLastSuccessfulFetchTimestampMillis(),M=D.storage.getActiveConfig(),L=yield C;L&&(D.lastFetchStatus=L);const W=yield T;W&&(D.lastSuccessfulFetchTimestampMillis=W);const ie=yield M;ie&&(D.activeConfig=ie)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function yy(){return(_c=_c||(0,H.Z)(function*(){if(!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}!function my(){At(new z.wA("remote-config",function w(D,{instanceIdentifier:C}){const T=D.getProvider("app").getImmediate(),M=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Kr.create("registration-window");if(!(0,ae.hl)())throw Kr.create("indexed-db-unavailable");const{projectId:L,apiKey:W,appId:ie}=T.options;if(!L)throw Kr.create("registration-project-id");if(!W)throw Kr.create("registration-api-key");if(!ie)throw Kr.create("registration-app-id");const De=new Dc(ie,T.name,C=C||"firebase"),Fe=new Cd(De),je=new se.Yd(oi);je.logLevel=se.in.ERROR;const Qe=new Ji(M,"10.3.1",C,L,W,ie),Nt=new ar(Qe,De),bn=new Db(Nt,De,Fe,je),hn=new Ed(T,bn,Fe,De,je);return function I0(w){const D=(0,ae.m9)(w);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(hn),hn},"PUBLIC").setMultipleInstances(!0)),qr(oi,"0.4.4"),qr(oi,"0.4.4","esm2017")}();const Id=(w,D)=>D.some(C=>w instanceof C);let eu,ea;const bd=new WeakMap,xs=new WeakMap,Ec=new WeakMap,Sd=new WeakMap,Cc=new WeakMap;let na={get(w,D,C){if(w instanceof IDBTransaction){if("done"===D)return xs.get(w);if("objectStoreNames"===D)return w.objectStoreNames||Ec.get(w);if("store"===D)return C.objectStoreNames[1]?void 0:C.objectStore(C.objectStoreNames[0])}return wi(w[D])},set:(w,D,C)=>(w[D]=C,!0),has:(w,D)=>w instanceof IDBTransaction&&("done"===D||"store"===D)||D in w};function x0(w){return"function"==typeof w?function M0(w){return w!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Cb(){return ea||(ea=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(w)?function(...D){return w.apply(tu(this),D),wi(bd.get(this))}:function(...D){return wi(w.apply(tu(this),D))}:function(D,...C){const T=w.call(tu(this),D,...C);return Ec.set(T,D.sort?D.sort():[D]),wi(T)}}(w):(w instanceof IDBTransaction&&function Td(w){if(xs.has(w))return;const D=new Promise((C,T)=>{const M=()=>{w.removeEventListener("complete",L),w.removeEventListener("error",W),w.removeEventListener("abort",W)},L=()=>{C(),M()},W=()=>{T(w.error||new DOMException("AbortError","AbortError")),M()};w.addEventListener("complete",L),w.addEventListener("error",W),w.addEventListener("abort",W)});xs.set(w,D)}(w),Id(w,function vy(){return eu||(eu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(w,na):w)}function wi(w){if(w instanceof IDBRequest)return function ta(w){const D=new Promise((C,T)=>{const M=()=>{w.removeEventListener("success",L),w.removeEventListener("error",W)},L=()=>{C(wi(w.result)),M()},W=()=>{T(w.error),M()};w.addEventListener("success",L),w.addEventListener("error",W)});return D.then(C=>{C instanceof IDBCursor&&bd.set(C,w)}).catch(()=>{}),Cc.set(D,w),D}(w);if(Sd.has(w))return Sd.get(w);const D=x0(w);return D!==w&&(Sd.set(w,D),Cc.set(D,w)),D}const tu=w=>Cc.get(w);function Ic(w,D,{blocked:C,upgrade:T,blocking:M,terminated:L}={}){const W=indexedDB.open(w,D),ie=wi(W);return T&&W.addEventListener("upgradeneeded",De=>{T(wi(W.result),De.oldVersion,De.newVersion,wi(W.transaction))}),C&&W.addEventListener("blocked",()=>C()),ie.then(De=>{L&&De.addEventListener("close",()=>L()),M&&De.addEventListener("versionchange",()=>M())}).catch(()=>{}),ie}function nu(w,{blocked:D}={}){const C=indexedDB.deleteDatabase(w);return D&&C.addEventListener("blocked",()=>D()),wi(C).then(()=>{})}const zf=["get","getKey","getAll","getAllKeys","count"],Md=["put","add","delete","clear"],ru=new Map;function xd(w,D){var C;if(!(w instanceof IDBDatabase)||D in w||"string"!=typeof D)return;if(ru.get(D))return ru.get(D);const T=D.replace(/FromIndex$/,""),M=D!==T,L=Md.includes(T);if(!(T in(M?IDBIndex:IDBObjectStore).prototype)||!L&&!zf.includes(T))return;const W=function(De){return(C=C||(0,H.Z)(function*(Fe,...je){const Qe=this.transaction(Fe,L?"readwrite":"readonly");let Nt=Qe.store;return M&&(Nt=Nt.index(je.shift())),(yield Promise.all([Nt[T](...je),L&&Qe.done]))[0]})).apply(this,arguments)};return ru.set(D,W),W}var Nd,qf,_y,Wf,bc,Od,Rd,Pd,iu,Fd,wy,su,Kf,Zr,Sc,kd,Zt,Tc,ou,Cr;!function Ad(w){na=w(na)}(w=>({...w,get:(D,C,T)=>xd(D,C)||w.get(D,C,T),has:(D,C)=>!!xd(D,C)||w.has(D,C)}));const oo="/firebase-messaging-sw.js",ai="/firebase-cloud-messaging-push-scope",Yf="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ey="https://fcmregistrations.googleapis.com/v1",Qf="google.c.a.c_id",es="google.c.a.c_l",Xf="google.c.a.ts";var ra=function(w){return w.PUSH_RECEIVED="push-received",w.NOTIFICATION_CLICKED="notification-clicked",w}(ra||{});function Vi(w){const D=new Uint8Array(w);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function N0(w){const C=(w+"=".repeat((4-w.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),T=atob(C),M=new Uint8Array(T.length);for(let L=0;L<T.length;++L)M[L]=T.charCodeAt(L);return M}const st="fcm_token_details_db",Iy=5,by="fcm_token_object_Store",Ns="firebase-messaging-database",tp=1,ui="firebase-messaging-store";let au=null;function Ac(){return au||(au=Ic(Ns,tp,{upgrade:(w,D)=>{0===D&&w.createObjectStore(ui)}})),au}function Sy(w){return(qf=qf||(0,H.Z)(function*(D){const C=le(D),M=yield(yield Ac()).transaction(ui).objectStore(ui).get(C);if(M)return M;{const L=yield function Jf(w){return(Nd=Nd||(0,H.Z)(function*(D){var C;if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ie=>ie.name).includes(st))return null;let T=null;return(yield Ic(st,Iy,{upgrade:function(W,ie,De,Fe){return(C=C||(0,H.Z)(function*(je,Qe,Nt,bn){var hn;if(Qe<2||!je.objectStoreNames.contains(by))return;const lr=bn.objectStore(by),Vr=yield lr.index("fcmSenderId").get(D);if(yield lr.clear(),Vr)if(2===Qe){const lt=Vr;if(!lt.auth||!lt.p256dh||!lt.endpoint)return;T={token:lt.fcmToken,createTime:null!==(hn=lt.createTime)&&void 0!==hn?hn:Date.now(),subscriptionOptions:{auth:lt.auth,p256dh:lt.p256dh,endpoint:lt.endpoint,swScope:lt.swScope,vapidKey:"string"==typeof lt.vapidKey?lt.vapidKey:Vi(lt.vapidKey)}}}else if(3===Qe){const lt=Vr;T={token:lt.fcmToken,createTime:lt.createTime,subscriptionOptions:{auth:Vi(lt.auth),p256dh:Vi(lt.p256dh),endpoint:lt.endpoint,swScope:lt.swScope,vapidKey:Vi(lt.vapidKey)}}}else if(4===Qe){const lt=Vr;T={token:lt.fcmToken,createTime:lt.createTime,subscriptionOptions:{auth:Vi(lt.auth),p256dh:Vi(lt.p256dh),endpoint:lt.endpoint,swScope:lt.swScope,vapidKey:Vi(lt.vapidKey)}}}})).apply(this,arguments)}})).close(),yield nu(st),yield nu("fcm_vapid_details_db"),yield nu("undefined"),function ep(w){if(!w||!w.subscriptionOptions)return!1;const{subscriptionOptions:D}=w;return"number"==typeof w.createTime&&w.createTime>0&&"string"==typeof w.token&&w.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}(T)?T:null})).apply(this,arguments)}(D.appConfig.senderId);if(L)return yield np(D,L),L}})).apply(this,arguments)}function np(w,D){return(_y=_y||(0,H.Z)(function*(C,T){const M=le(C),W=(yield Ac()).transaction(ui,"readwrite");return yield W.objectStore(ui).put(T,M),yield W.done,T})).apply(this,arguments)}function le({appConfig:w}){return w.appId}const Kn=new ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ty(w,D){return(bc=bc||(0,H.Z)(function*(C,T){const M=yield Di(C),L=Vd(T),W={method:"POST",headers:M,body:JSON.stringify(L)};let ie;try{ie=yield(yield fetch(ia(C.appConfig),W)).json()}catch(De){throw Kn.create("token-subscribe-failed",{errorInfo:De?.toString()})}if(ie.error)throw Kn.create("token-subscribe-failed",{errorInfo:ie.error.message});if(!ie.token)throw Kn.create("token-subscribe-no-token");return ie.token})).apply(this,arguments)}function rp(w,D){return(Rd=Rd||(0,H.Z)(function*(C,T){const L={method:"DELETE",headers:yield Di(C)};try{const ie=yield(yield fetch(`${ia(C.appConfig)}/${T}`,L)).json();if(ie.error)throw Kn.create("token-unsubscribe-failed",{errorInfo:ie.error.message})}catch(W){throw Kn.create("token-unsubscribe-failed",{errorInfo:W?.toString()})}})).apply(this,arguments)}function ia({projectId:w}){return`${Ey}/projects/${w}/registrations`}function Di(w){return(Pd=Pd||(0,H.Z)(function*({appConfig:D,installations:C}){const T=yield C.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${T}`})})).apply(this,arguments)}function Vd({p256dh:w,auth:D,endpoint:C,vapidKey:T}){const M={web:{endpoint:C,auth:D,p256dh:w}};return T!==Yf&&(M.web.applicationPubKey=T),M}const Bd=6048e5;function ip(w){return(iu=iu||(0,H.Z)(function*(D){const C=yield function Os(w,D){return(Kf=Kf||(0,H.Z)(function*(C,T){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:N0(T)})})).apply(this,arguments)}(D.swRegistration,D.vapidKey),T={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:C.endpoint,auth:Vi(C.getKey("auth")),p256dh:Vi(C.getKey("p256dh"))},M=yield Sy(D.firebaseDependencies);if(M){if(function My(w,D){return D.vapidKey===w.vapidKey&&D.endpoint===w.endpoint&&D.auth===w.auth&&D.p256dh===w.p256dh}(M.subscriptionOptions,T))return Date.now()>=M.createTime+Bd?function Ay(w,D){return(wy=wy||(0,H.Z)(function*(C,T){try{const M=yield function ur(w,D){return(Od=Od||(0,H.Z)(function*(C,T){const M=yield Di(C),L=Vd(T.subscriptionOptions),W={method:"PATCH",headers:M,body:JSON.stringify(L)};let ie;try{ie=yield(yield fetch(`${ia(C.appConfig)}/${T.token}`,W)).json()}catch(De){throw Kn.create("token-update-failed",{errorInfo:De?.toString()})}if(ie.error)throw Kn.create("token-update-failed",{errorInfo:ie.error.message});if(!ie.token)throw Kn.create("token-update-no-token");return ie.token})).apply(this,arguments)}(C.firebaseDependencies,T),L=Object.assign(Object.assign({},T),{token:M,createTime:Date.now()});return yield np(C.firebaseDependencies,L),M}catch(M){throw yield function R0(w){return(Fd=Fd||(0,H.Z)(function*(D){const C=yield Sy(D.firebaseDependencies);C&&(yield rp(D.firebaseDependencies,C.token),yield function O0(w){return(Wf=Wf||(0,H.Z)(function*(D){const C=le(D),M=(yield Ac()).transaction(ui,"readwrite");yield M.objectStore(ui).delete(C),yield M.done})).apply(this,arguments)}(D.firebaseDependencies));const T=yield D.swRegistration.pushManager.getSubscription();return!T||T.unsubscribe()})).apply(this,arguments)}(C),M}})).apply(this,arguments)}(D,{token:M.token,createTime:Date.now(),subscriptionOptions:T}):M.token;try{yield rp(D.firebaseDependencies,M.token)}catch(L){console.warn(L)}return Ir(D.firebaseDependencies,T)}return Ir(D.firebaseDependencies,T)})).apply(this,arguments)}function Ir(w,D){return(su=su||(0,H.Z)(function*(C,T){const L={token:yield Ty(C,T),createTime:Date.now(),subscriptionOptions:T};return yield np(C,L),L.token})).apply(this,arguments)}function sa(w){const D={from:w.from,collapseKey:w.collapse_key,messageId:w.fcmMessageId};return function Rs(w,D){if(!D.notification)return;w.notification={};const C=D.notification.title;C&&(w.notification.title=C);const T=D.notification.body;T&&(w.notification.body=T);const M=D.notification.image;M&&(w.notification.image=M);const L=D.notification.icon;L&&(w.notification.icon=L)}(D,w),function Ln(w,D){D.data&&(w.data=D.data)}(D,w),function ao(w,D){var C,T,M,L,W;if(!(D.fcmOptions||null!==(C=D.notification)&&void 0!==C&&C.click_action))return;w.fcmOptions={};const ie=null!==(M=null===(T=D.fcmOptions)||void 0===T?void 0:T.link)&&void 0!==M?M:null===(L=D.notification)||void 0===L?void 0:L.click_action;ie&&(w.fcmOptions.link=ie);const De=null===(W=D.fcmOptions)||void 0===W?void 0:W.analytics_label;De&&(w.fcmOptions.analyticsLabel=De)}(D,w),D}function sp(w,D){const C=[];for(let T=0;T<w.length;T++)C.push(w.charAt(T)),T<D.length&&C.push(D.charAt(T));return C.join("")}function uu(w){return Kn.create("missing-app-config-values",{valueName:w})}sp("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),sp("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ud{constructor(D,C,T){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const M=function jd(w){if(!w||!w.options)throw uu("App Configuration Object");if(!w.name)throw uu("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:C}=w;for(const T of D)if(!C[T])throw uu(T);return{appName:w.name,projectId:C.projectId,apiKey:C.apiKey,appId:C.appId,senderId:C.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:M,installations:C,analyticsProvider:T}}_delete(){return Promise.resolve()}}function br(w,D){return(Zt=Zt||(0,H.Z)(function*(C,T){if(!navigator)throw Kn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Kn.create("permission-blocked");return yield function oa(w,D){return(kd=kd||(0,H.Z)(function*(C,T){T?C.vapidKey=T:C.vapidKey||(C.vapidKey=Yf)})).apply(this,arguments)}(C,T?.vapidKey),yield function xc(w,D){return(Sc=Sc||(0,H.Z)(function*(C,T){if(!T&&!C.swRegistration&&(yield function Mc(w){return(Zr=Zr||(0,H.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(oo,{scope:ai}),D.swRegistration.update().catch(()=>{})}catch(C){throw Kn.create("failed-service-worker-registration",{browserErrorMessage:C?.message})}})).apply(this,arguments)}(C)),T||!C.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw Kn.create("invalid-sw-registration");C.swRegistration=T}})).apply(this,arguments)}(C,T?.serviceWorkerRegistration),ip(C)})).apply(this,arguments)}function ap(w,D){return(ou=ou||(0,H.Z)(function*(C,T){const M=T.data;if(!M.isFirebaseMessaging)return;C.onMessageHandler&&M.messageType===ra.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(sa(M)):C.onMessageHandler.next(sa(M)));const L=M.data;(function xy(w){return"object"==typeof w&&!!w&&Qf in w})(L)&&"1"===L["google.c.a.e"]&&(yield function qt(w,D,C){return(Tc=Tc||(0,H.Z)(function*(T,M,L){const W=function op(w){switch(w){case ra.NOTIFICATION_CLICKED:return"notification_open";case ra.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(M);(yield T.firebaseDependencies.analyticsProvider.get()).logEvent(W,{message_id:L[Qf],message_name:L[es],message_time:L[Xf],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}(C,M.messageType,L))})).apply(this,arguments)}const Nc="@firebase/messaging",Ny=w=>{const D=new Ud(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),w.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",C=>ap(D,C)),D},up=w=>{const D=w.getProvider("messaging").getImmediate();return{getToken:T=>br(D,T)}};function Zn(){return(Cr=Cr||(0,H.Z)(function*(){try{yield(0,ae.eu)()}catch{return!1}return typeof window<"u"&&(0,ae.hl)()&&(0,ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}var Bi,aa,an,ts,lu,Yr,Ps,uo,Hd;!function En(){At(new z.wA("messaging",Ny,"PUBLIC")),At(new z.wA("messaging-internal",up,"PRIVATE")),qr(Nc,"0.12.4"),qr(Nc,"0.12.4","esm2017")}();const co="analytics",Oy="firebase_id",lp="origin",dp=6e4,L0="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Gd="https://www.googletagmanager.com/gtag/js",Cn=new se.Yd("@firebase/analytics"),cr=new ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ho(w){if(!w.startsWith(Gd)){const D=cr.create("invalid-gtag-resource",{gtagURL:w});return Cn.warn(D.message),""}return w}function hu(w){return Promise.all(w.map(D=>D.catch(C=>C)))}const ji=30,Wd=new class qd{constructor(D={},C=1e3){this.throttleMetadata=D,this.intervalMillis=C}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,C){this.throttleMetadata[D]=C}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function pp(w){return new Headers({Accept:"application/json","x-goog-api-key":w})}function Lc(w){return(ts=ts||(0,H.Z)(function*(D,C=Wd,T){const{appId:M,apiKey:L,measurementId:W}=D.options;if(!M)throw cr.create("no-app-id");if(!L){if(W)return{measurementId:W,appId:M};throw cr.create("no-api-key")}const ie=C.getThrottleMetadata(M)||{backoffCount:0,throttleEndTimeMillis:Date.now()},De=new Vc;return setTimeout((0,H.Z)(function*(){De.abort()}),void 0!==T?T:dp),ca({appId:M,apiKey:L,measurementId:W},ie,De,C)})).apply(this,arguments)}function ca(w,D,C){return(lu=lu||(0,H.Z)(function*(T,{throttleEndTimeMillis:M,backoffCount:L},W,ie=Wd){var De;const{appId:Fe,measurementId:je}=T;try{yield function gp(w,D){return new Promise((C,T)=>{const M=Math.max(D-Date.now(),0),L=setTimeout(C,M);w.addEventListener(()=>{clearTimeout(L),T(cr.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(W,M)}catch(Qe){if(je)return Cn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${je} provided in the "measurementId" field in the local Firebase config. [${Qe?.message}]`),{appId:Fe,measurementId:je};throw Qe}try{const Qe=yield function Kd(w){return(an=an||(0,H.Z)(function*(D){var C;const{appId:T,apiKey:M}=D,L={method:"GET",headers:pp(M)},W=L0.replace("{app-id}",T),ie=yield fetch(W,L);if(200!==ie.status&&304!==ie.status){let De="";try{const Fe=yield ie.json();null!==(C=Fe.error)&&void 0!==C&&C.message&&(De=Fe.error.message)}catch{}throw cr.create("config-fetch-failed",{httpStatus:ie.status,responseMessage:De})}return ie.json()})).apply(this,arguments)}(T);return ie.deleteThrottleMetadata(Fe),Qe}catch(Qe){const Nt=Qe;if(!function Zd(w){if(!(w instanceof ae.ZR&&w.customData))return!1;const D=Number(w.customData.httpStatus);return 429===D||500===D||503===D||504===D}(Nt)){if(ie.deleteThrottleMetadata(Fe),je)return Cn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${je} provided in the "measurementId" field in the local Firebase config. [${Nt?.message}]`),{appId:Fe,measurementId:je};throw Qe}const bn=503===Number(null===(De=Nt?.customData)||void 0===De?void 0:De.httpStatus)?(0,ae.$s)(L,ie.intervalMillis,ji):(0,ae.$s)(L,ie.intervalMillis),hn={throttleEndTimeMillis:Date.now()+bn,backoffCount:L+1};return ie.setThrottleMetadata(Fe,hn),Cn.debug(`Calling attemptFetch again in ${bn} millis`),ca(T,hn,W,ie)}})).apply(this,arguments)}class Vc{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let Fs,Yd;function ky(w,D,C,T,M,L,W){return(uo=uo||(0,H.Z)(function*(ie,De,Fe,je,Qe,Nt,bn){var hn;const lr=Lc(ie);lr.then(vo=>{Fe[vo.measurementId]=vo.appId,ie.options.measurementId&&vo.measurementId!==ie.options.measurementId&&Cn.warn(`The measurement ID in the local Firebase config (${ie.options.measurementId}) does not match the measurement ID fetched from the server (${vo.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(vo=>Cn.error(vo)),De.push(lr);const Vr=function j0(){return(Ps=Ps||(0,H.Z)(function*(){if(!(0,ae.hl)())return Cn.warn(cr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ae.eu)()}catch(w){return Cn.warn(cr.create("indexeddb-unavailable",{errorInfo:w?.toString()}).message),!1}return!0})).apply(this,arguments)}().then(vo=>{if(vo)return je.getId()}),[lt,Qr]=yield Promise.all([lr,Vr]);(function Hn(w){const D=window.document.getElementsByTagName("script");for(const C of Object.values(D))if(C.src&&C.src.includes(Gd)&&C.src.includes(w))return C;return null})(Nt)||function Ry(w,D){const C=function fu(w,D){let C;return window.trustedTypes&&(C=window.trustedTypes.createPolicy(w,D)),C}("firebase-js-sdk-policy",{createScriptURL:ho}),T=document.createElement("script"),M=`${Gd}?l=${w}&id=${D}`;T.src=C?C?.createScriptURL(M):M,T.async=!0,document.head.appendChild(T)}(Nt,lt.measurementId),Yd&&(Qe("consent","default",Yd),function jc(w){Yd=w}(void 0)),Qe("js",new Date);const ss=null!==(hn=bn?.config)&&void 0!==hn?hn:{};return ss[lp]="firebase",ss.update=!0,null!=Qr&&(ss[Oy]=Qr),Qe("config",lt.measurementId,ss),Fs&&(Qe("set",Fs),function Qd(w){Fs=w}(void 0)),lt.measurementId})).apply(this,arguments)}class fo{constructor(D){this.app=D}_delete(){return delete Gn[this.app.options.appId],Promise.resolve()}}let Gn={},ci=[];const Ci={};let ns,rs,po="dataLayer",la=!1;function Xd(w,D,C){!function Ly(){const w=[];if((0,ae.ru)()&&w.push("This is a browser extension environment."),(0,ae.zI)()||w.push("Cookies are not available."),w.length>0){const D=w.map((T,M)=>`(${M+1}) ${T}`).join(" "),C=cr.create("invalid-analytics-context",{errorInfo:D});Cn.warn(C.message)}}();const T=w.options.appId;if(!T)throw cr.create("no-app-id");if(!w.options.apiKey){if(!w.options.measurementId)throw cr.create("no-api-key");Cn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${w.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Gn[T])throw cr.create("already-exists",{id:T});if(!la){!function kc(w){let D=[];Array.isArray(window[w])?D=window[w]:window[w]=D}(po);const{wrappedGtag:L,gtagCore:W}=function fp(w,D,C,T,M){let L=function(...W){window[T].push(arguments)};return window[M]&&"function"==typeof window[M]&&(L=window[M]),window[M]=function Ei(w,D,C,T){var M;return function L(W){return(M=M||(0,H.Z)(function*(ie,...De){try{if("event"===ie){const[Fe,je]=De;yield function hp(w,D,C,T,M){return(aa=aa||(0,H.Z)(function*(L,W,ie,De,Fe){try{let je=[];if(Fe&&Fe.send_to){let Qe=Fe.send_to;Array.isArray(Qe)||(Qe=[Qe]);const Nt=yield hu(ie);for(const bn of Qe){const hn=Nt.find(Vr=>Vr.measurementId===bn),lr=hn&&W[hn.appId];if(!lr){je=[];break}je.push(lr)}}0===je.length&&(je=Object.values(W)),yield Promise.all(je),L("event",De,Fe||{})}catch(je){Cn.error(je)}})).apply(this,arguments)}(w,D,C,Fe,je)}else if("config"===ie){const[Fe,je]=De;yield function pu(w,D,C,T,M,L){return(Bi=Bi||(0,H.Z)(function*(W,ie,De,Fe,je,Qe){const Nt=Fe[je];try{if(Nt)yield ie[Nt];else{const hn=(yield hu(De)).find(lr=>lr.measurementId===je);hn&&(yield ie[hn.appId])}}catch(bn){Cn.error(bn)}W("config",je,Qe)})).apply(this,arguments)}(w,D,C,T,Fe,je)}else if("consent"===ie){const[Fe]=De;w("consent","update",Fe)}else if("get"===ie){const[Fe,je,Qe]=De;w("get",Fe,je,Qe)}else if("set"===ie){const[Fe]=De;w("set",Fe)}else w(ie,...De)}catch(Fe){Cn.error(Fe)}})).apply(this,arguments)}}(L,w,D,C),{gtagCore:L,wrappedGtag:window[M]}}(Gn,ci,Ci,po,"gtag");rs=L,ns=W,la=!0}return Gn[T]=ky(w,ci,Ci,D,ns,po,C),new fo(w)}function bb(){return(Hd=Hd||(0,H.Z)(function*(){if((0,ae.ru)()||!(0,ae.zI)()||!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}const go="@firebase/analytics";!function mo(){At(new z.wA(co,(D,{options:C})=>Xd(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),C),"PUBLIC")),At(new z.wA("analytics-internal",function w(D){try{const C=D.getProvider(co).getImmediate();return{logEvent:(T,M,L)=>function $c(w,D,C,T){w=(0,ae.m9)(w),function V0(w,D,C,T,M){return(Yr=Yr||(0,H.Z)(function*(L,W,ie,De,Fe){if(Fe&&Fe.global)L("event",ie,De);else{const je=yield W;L("event",ie,Object.assign(Object.assign({},De),{send_to:je}))}})).apply(this,arguments)}(rs,Gn[w.app.options.appId],D,C,T).catch(M=>Cn.error(M))}(C,T,M,L)}}catch(C){throw cr.create("interop-component-reg-failed",{reason:C})}},"PRIVATE")),qr(go,"0.10.0"),qr(go,"0.10.0","esm2017")}();var ha=x(5592),Vy=x(9397),mp=x(5137),yp=x(3093);const By=new B.GfV("7.6.1"),Sr="__angularfire_symbol__analyticsIsSupportedValue",Hc="__angularfire_symbol__analyticsIsSupported",Ls="__angularfire_symbol__remoteConfigIsSupportedValue",Gc="__angularfire_symbol__remoteConfigIsSupported",th="__angularfire_symbol__messagingIsSupportedValue",vp="__angularfire_symbol__messagingIsSupported";function Uy(w,D,C){if(D){if(1===D.length)return D[0];const L=D.filter(W=>W.app===C);if(1===L.length)return L[0]}return C.container.getProvider(w).getImmediate({optional:!0})}globalThis[Hc]||(globalThis[Hc]=bb().then(w=>globalThis[Sr]=w).catch(()=>globalThis[Sr]=!1)),globalThis[vp]||(globalThis[vp]=Zn().then(w=>globalThis[th]=w).catch(()=>globalThis[th]=!1)),globalThis[Gc]||(globalThis[Gc]=yy().then(w=>globalThis[Ls]=w).catch(()=>globalThis[Ls]=!1));const wp=(w,D)=>{const C=D?[D]:(0,p.C6)(),T=[];return C.forEach(M=>{M.container.getProvider(w).instances.forEach(W=>{T.includes(W)||T.push(W)})}),T};function is(){}class fa{constructor(D){this.zone=D,this.task=null}call(D,C){const T=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",is,{},is,is)),C.pipe((0,Vy.b)({next:T,complete:T,error:T})).subscribe(D).add(T)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}function Ii(){const w=globalThis.\u0275AngularFireScheduler;if(!w)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return w}function yo(w){return Ii().ngZone.run(()=>w())}function Hy(w){return Ii(),function H0(w){return function(C){return(C=C.lift(new fa(w.ngZone))).pipe((0,mp.R)(w.outsideAngular),(0,yp.Q)(w.insideAngular))}}(Ii())(w)}const G0=(w,D)=>function(){const T=arguments;return D&&setTimeout(()=>{"scheduled"===D.state&&D.invoke()},10),yo(()=>w.apply(void 0,T))},_u=(w,D)=>function(){let C;const T=arguments;for(let L=0;L<arguments.length;L++)"function"==typeof T[L]&&(D&&(C||(C=yo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",is,{},is,is)))),T[L]=G0(T[L],C));const M=function vu(w){return Ii().ngZone.runOutsideAngular(()=>w())}(()=>w.apply(this,T));if(!D){if(M instanceof ha.y){const L=Ii();return M.pipe((0,mp.R)(L.outsideAngular),(0,yp.Q)(L.insideAngular))}return yo(()=>M)}return M instanceof ha.y?M.pipe(Hy):M instanceof Promise?yo(()=>new Promise((L,W)=>M.then(ie=>yo(()=>L(ie)),ie=>yo(()=>W(ie))))):"function"==typeof M&&C?function(){return setTimeout(()=>{C&&"scheduled"===C.state&&C.invoke()},10),M.apply(this,arguments)}:yo(()=>M)}},9058:(rt,ve,x)=>{x.d(ve,{$s:()=>at,BH:()=>de,L:()=>ye,LL:()=>ne,ZB:()=>ee,ZR:()=>ce,aH:()=>we,eu:()=>G,hl:()=>U,jU:()=>Ye,m9:()=>Un,ne:()=>It,r3:()=>zr,ru:()=>tt,vZ:()=>Ha,zI:()=>Z});const z=function(P){const O=[];let j=0;for(let ue=0;ue<P.length;ue++){let K=P.charCodeAt(ue);K<128?O[j++]=K:K<2048?(O[j++]=K>>6|192,O[j++]=63&K|128):55296==(64512&K)&&ue+1<P.length&&56320==(64512&P.charCodeAt(ue+1))?(K=65536+((1023&K)<<10)+(1023&P.charCodeAt(++ue)),O[j++]=K>>18|240,O[j++]=K>>12&63|128,O[j++]=K>>6&63|128,O[j++]=63&K|128):(O[j++]=K>>12|224,O[j++]=K>>6&63|128,O[j++]=63&K|128)}return O},ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(P,O){if(!Array.isArray(P))throw Error("encodeByteArray takes an array as a parameter");this.init_();const j=O?this.byteToCharMapWebSafe_:this.byteToCharMap_,ue=[];for(let K=0;K<P.length;K+=3){const We=P[K],wt=K+1<P.length,Ut=wt?P[K+1]:0,Fn=K+2<P.length,$n=Fn?P[K+2]:0;let Fr=(15&Ut)<<2|$n>>6,Qs=63&$n;Fn||(Qs=64,wt||(Fr=64)),ue.push(j[We>>2],j[(3&We)<<4|Ut>>4],j[Fr],j[Qs])}return ue.join("")},encodeString(P,O){return this.HAS_NATIVE_SUPPORT&&!O?btoa(P):this.encodeByteArray(z(P),O)},decodeString(P,O){return this.HAS_NATIVE_SUPPORT&&!O?atob(P):function(P){const O=[];let j=0,ue=0;for(;j<P.length;){const K=P[j++];if(K<128)O[ue++]=String.fromCharCode(K);else if(K>191&&K<224){const We=P[j++];O[ue++]=String.fromCharCode((31&K)<<6|63&We)}else if(K>239&&K<365){const Fn=((7&K)<<18|(63&P[j++])<<12|(63&P[j++])<<6|63&P[j++])-65536;O[ue++]=String.fromCharCode(55296+(Fn>>10)),O[ue++]=String.fromCharCode(56320+(1023&Fn))}else{const We=P[j++],wt=P[j++];O[ue++]=String.fromCharCode((15&K)<<12|(63&We)<<6|63&wt)}}return O.join("")}(this.decodeStringToByteArray(P,O))},decodeStringToByteArray(P,O){this.init_();const j=O?this.charToByteMapWebSafe_:this.charToByteMap_,ue=[];for(let K=0;K<P.length;){const We=j[P.charAt(K++)],Ut=K<P.length?j[P.charAt(K)]:0;++K;const $n=K<P.length?j[P.charAt(K)]:64;++K;const St=K<P.length?j[P.charAt(K)]:64;if(++K,null==We||null==Ut||null==$n||null==St)throw new be;ue.push(We<<2|Ut>>4),64!==$n&&(ue.push(Ut<<4&240|$n>>2),64!==St&&ue.push($n<<6&192|St))}return ue},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let P=0;P<this.ENCODED_VALS.length;P++)this.byteToCharMap_[P]=this.ENCODED_VALS.charAt(P),this.charToByteMap_[this.byteToCharMap_[P]]=P,this.byteToCharMapWebSafe_[P]=this.ENCODED_VALS_WEBSAFE.charAt(P),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[P]]=P,P>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(P)]=P,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(P)]=P)}}};class be extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ye=function(P){return function(P){const O=z(P);return ae.encodeByteArray(O,!0)}(P).replace(/\./g,"")};function ee(P,O){if(!(O instanceof Object))return O;switch(O.constructor){case Date:return new Date(O.getTime());case Object:void 0===P&&(P={});break;case Array:P=[];break;default:return O}for(const j in O)!O.hasOwnProperty(j)||!Ce(j)||(P[j]=ee(P[j],O[j]));return P}function Ce(P){return"__proto__"!==P}const Ze=()=>{try{return function pe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const P=process.env.__FIREBASE_DEFAULTS__;return P?JSON.parse(P):void 0})()||(()=>{if(typeof document>"u")return;let P;try{P=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const O=P&&function(P){try{return ae.decodeString(P,!0)}catch(O){console.error("base64Decode failed: ",O)}return null}(P[1]);return O&&JSON.parse(O)})()}catch(P){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${P}`)}},we=()=>{var P;return null===(P=Ze())||void 0===P?void 0:P.config};class de{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((O,j)=>{this.resolve=O,this.reject=j})}wrapCallback(O){return(j,ue)=>{j?this.reject(j):this.resolve(ue),"function"==typeof O&&(this.promise.catch(()=>{}),1===O.length?O(j):O(j,ue))}}}function Ye(){return"object"==typeof self&&self.self===self}function tt(){const P="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof P&&void 0!==P.id}function U(){try{return"object"==typeof indexedDB}catch{return!1}}function G(){return new Promise((P,O)=>{try{let j=!0;const ue="validate-browser-context-for-indexeddb-analytics-module",K=self.indexedDB.open(ue);K.onsuccess=()=>{K.result.close(),j||self.indexedDB.deleteDatabase(ue),P(!0)},K.onupgradeneeded=()=>{j=!1},K.onerror=()=>{var We;O((null===(We=K.error)||void 0===We?void 0:We.message)||"")}}catch(j){O(j)}})}function Z(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ce extends Error{constructor(O,j,ue){super(j),this.code=O,this.customData=ue,this.name="FirebaseError",Object.setPrototypeOf(this,ce.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ne.prototype.create)}}class ne{constructor(O,j,ue){this.service=O,this.serviceName=j,this.errors=ue}create(O,...j){const ue=j[0]||{},K=`${this.service}/${O}`,We=this.errors[O],wt=We?function $e(P,O){return P.replace(Ve,(j,ue)=>{const K=O[ue];return null!=K?String(K):`<${ue}?>`})}(We,ue):"Error";return new ce(K,`${this.serviceName}: ${wt} (${K}).`,ue)}}const Ve=/\{\$([^}]+)}/g;function zr(P,O){return Object.prototype.hasOwnProperty.call(P,O)}function Ha(P,O){if(P===O)return!0;const j=Object.keys(P),ue=Object.keys(O);for(const K of j){if(!ue.includes(K))return!1;const We=P[K],wt=O[K];if(cc(We)&&cc(wt)){if(!Ha(We,wt))return!1}else if(We!==wt)return!1}for(const K of ue)if(!j.includes(K))return!1;return!0}function cc(P){return null!==P&&"object"==typeof P}function It(P,O){const j=new Cs(P,O);return j.subscribe.bind(j)}class Cs{constructor(O,j){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=j,this.task.then(()=>{O(this)}).catch(ue=>{this.error(ue)})}next(O){this.forEachObserver(j=>{j.next(O)})}error(O){this.forEachObserver(j=>{j.error(O)}),this.close(O)}complete(){this.forEachObserver(O=>{O.complete()}),this.close()}subscribe(O,j,ue){let K;if(void 0===O&&void 0===j&&void 0===ue)throw new Error("Missing Observer.");K=function jn(P,O){if("object"!=typeof P||null===P)return!1;for(const j of O)if(j in P&&"function"==typeof P[j])return!0;return!1}(O,["next","error","complete"])?O:{next:O,error:j,complete:ue},void 0===K.next&&(K.next=wr),void 0===K.error&&(K.error=wr),void 0===K.complete&&(K.complete=wr);const We=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?K.error(this.finalError):K.complete()}catch{}}),this.observers.push(K),We}unsubscribeOne(O){void 0===this.observers||void 0===this.observers[O]||(delete this.observers[O],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(O){if(!this.finalized)for(let j=0;j<this.observers.length;j++)this.sendOne(j,O)}sendOne(O,j){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[O])try{j(this.observers[O])}catch(ue){typeof console<"u"&&console.error&&console.error(ue)}})}close(O){this.finalized||(this.finalized=!0,void 0!==O&&(this.finalError=O),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wr(){}const Ys=1e3,Re=2,_e=144e5,He=.5;function at(P,O=Ys,j=Re){const ue=O*Math.pow(j,P),K=Math.round(He*ue*(Math.random()-.5)*2);return Math.min(_e,ue+K)}function Un(P){return P&&P._delegate?P._delegate:P}},7870:(rt,ve,x)=>{var B=x(5861),p=x(4946);let H=null;function z(){return H}class ae{}const be=new p.OlP("DocumentToken");let ke=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=p.Yz7({token:t,factory:function(){return(0,p.f3M)(V)},providedIn:"platform"}),e})();const ye=new p.OlP("Location Initialized");let V=(()=>{var t;class e extends ke{constructor(){super(),this._doc=(0,p.f3M)(be),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return z().getBaseHref(this._doc)}onPopState(r){const o=z().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",r,!1),()=>o.removeEventListener("popstate",r)}onHashChange(r){const o=z().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",r,!1),()=>o.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,o,u){this._history.pushState(r,o,u)}replaceState(r,o,u){this._history.replaceState(r,o,u)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=p.Yz7({token:t,factory:function(){return new t},providedIn:"platform"}),e})();function k(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function ee(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Ce(t){return t&&"?"!==t[0]?"?"+t:t}let pe=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=p.Yz7({token:t,factory:function(){return(0,p.f3M)(ht)},providedIn:"root"}),e})();const Oe=new p.OlP("appBaseHref");let ht=(()=>{var t;class e extends pe{constructor(r,o){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=o??this._platformLocation.getBaseHrefFromDOM()??(0,p.f3M)(be).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return k(this._baseHref,r)}path(r=!1){const o=this._platformLocation.pathname+Ce(this._platformLocation.search),u=this._platformLocation.hash;return u&&r?`${o}${u}`:o}pushState(r,o,u,l){const f=this.prepareExternalUrl(u+Ce(l));this._platformLocation.pushState(r,o,f)}replaceState(r,o,u,l){const f=this.prepareExternalUrl(u+Ce(l));this._platformLocation.replaceState(r,o,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(p.LFG(ke),p.LFG(Oe,8))},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),_t=(()=>{var t;class e extends pe{constructor(r,o){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(r){const o=k(this._baseHref,r);return o.length>0?"#"+o:o}pushState(r,o,u,l){let f=this.prepareExternalUrl(u+Ce(l));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.pushState(r,o,f)}replaceState(r,o,u,l){let f=this.prepareExternalUrl(u+Ce(l));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.replaceState(r,o,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(p.LFG(ke),p.LFG(Oe,8))},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac}),e})(),Ze=(()=>{var t;class e{constructor(r){this._subject=new p.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const o=this._locationStrategy.getBaseHref();this._basePath=function Se(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(ee(we(o))),this._locationStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,o=""){return this.path()==this.normalize(r+Ce(o))}normalize(r){return e.stripTrailingSlash(function wn(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,we(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,o="",u=null){this._locationStrategy.pushState(u,"",r,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Ce(o)),u)}replaceState(r,o="",u=null){this._locationStrategy.replaceState(u,"",r,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Ce(o)),u)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)})),()=>{const o=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(o,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",o){this._urlChangeListeners.forEach(u=>u(r,o))}subscribe(r,o,u){return this._subject.subscribe({next:r,error:o,complete:u})}}return(t=e).normalizeQueryParams=Ce,t.joinWithSlash=k,t.stripTrailingSlash=ee,t.\u0275fac=function(r){return new(r||t)(p.LFG(pe))},t.\u0275prov=p.Yz7({token:t,factory:function(){return function Ht(){return new Ze((0,p.LFG)(pe))}()},providedIn:"root"}),e})();function we(t){return t.replace(/\/index.html$/,"")}class lc{constructor(e,n,r,o){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let qo=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,o,u){this._viewContainer=r,this._template=o,this._differs=u,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const o=this._viewContainer;r.forEachOperation((u,l,f)=>{if(null==u.previousIndex)o.createEmbeddedView(this._template,new lc(u.item,this._ngForOf,-1,-1),null===f?void 0:f);else if(null==f)o.remove(null===l?void 0:l);else if(null!==l){const y=o.get(l);o.move(y,f),dc(y,u)}});for(let u=0,l=o.length;u<l;u++){const y=o.get(u).context;y.index=u,y.count=l,y.ngForOf=this._ngForOf}r.forEachIdentityChange(u=>{dc(o.get(u.currentIndex),u)})}static ngTemplateContextGuard(r,o){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))},t.\u0275dir=p.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function dc(t,e){t.context.$implicit=e.item}let ki=(()=>{var t;class e{constructor(r,o){this._viewContainer=r,this._context=new hc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){fc("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){fc("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,o){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(p.Y36(p.s_b),p.Y36(p.Rgc))},t.\u0275dir=p.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class hc{constructor(){this.$implicit=null,this.ngIf=null}}function fc(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,p.AaK)(e)}'.`)}class pd{createSubscription(e,n){return(0,p.rg0)(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){(0,p.rg0)(()=>e.unsubscribe())}}class gd{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}}const Pf=new gd,md=new pd;let yd=(()=>{var t;class e{constructor(r){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){return this._obj?r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue:(r&&this._subscribe(r),this._latestValue)}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,o=>this._updateLatestValue(r,o))}_selectStrategy(r){if((0,p.QGY)(r))return Pf;if((0,p.F4k)(r))return md;throw function yn(t,e){return new p.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,o){r===this._obj&&(this._latestValue=o,this._ref.markForCheck())}}return(t=e).\u0275fac=function(r){return new(r||t)(p.Y36(p.sBO,16))},t.\u0275pipe=p.Yjl({name:"async",type:t,pure:!1,standalone:!0}),e})(),_d=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({}),e})();function si(t){return"server"===t}let vn=(()=>{var t;class e{}return(t=e).\u0275prov=(0,p.Yz7)({token:t,providedIn:"root",factory:()=>new Ts((0,p.LFG)(be),window)}),e})();class Ts{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function Yo(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const u=o.shadowRoot;if(u){const l=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(l)return l}o=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,o=n.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],o-u[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Sd extends ae{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Cc extends Sd{static makeCurrent(){!function se(t){H||(H=t)}(new Cc)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function Td(){return ta=ta||document.querySelector("base"),ta?ta.getAttribute("href"):null}();return null==n?null:function Ad(t){na=na||document.createElement("a"),na.setAttribute("href",t);const e=na.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){ta=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Pi(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[o,u]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let na,ta=null,x0=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac}),e})();const wi=new p.OlP("EventManagerPlugins");let tu=(()=>{var t;class e{constructor(r,o){this._zone=o,this._eventNameToPlugin=new Map,r.forEach(u=>{u.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,o,u){return this._findPluginFor(o).addEventListener(r,o,u)}getZone(){return this._zone}_findPluginFor(r){let o=this._eventNameToPlugin.get(r);if(o)return o;if(o=this._plugins.find(l=>l.supports(r)),!o)throw new p.vHH(5101,!1);return this._eventNameToPlugin.set(r,o),o}}return(t=e).\u0275fac=function(r){return new(r||t)(p.LFG(wi),p.LFG(p.R0b))},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac}),e})();class Ic{constructor(e){this._doc=e}}const nu="ng-app-id";let zf=(()=>{var t;class e{constructor(r,o,u,l={}){this.doc=r,this.appId=o,this.nonce=u,this.platformId=l,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=si(l),this.resetHostNodes()}addStyles(r){for(const o of r)1===this.changeUsageCount(o,1)&&this.onStyleAdded(o)}removeStyles(r){for(const o of r)this.changeUsageCount(o,-1)<=0&&this.onStyleRemoved(o)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(o=>o.remove()),r.clear());for(const o of this.getAllStyles())this.onStyleRemoved(o);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const o of this.getAllStyles())this.addStyleToHost(r,o)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const o of this.hostNodes)this.addStyleToHost(o,r)}onStyleRemoved(r){const o=this.styleRef;o.get(r)?.elements?.forEach(u=>u.remove()),o.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${nu}="${this.appId}"]`);if(r?.length){const o=new Map;return r.forEach(u=>{null!=u.textContent&&o.set(u.textContent,u)}),o}return null}changeUsageCount(r,o){const u=this.styleRef;if(u.has(r)){const l=u.get(r);return l.usage+=o,l.usage}return u.set(r,{usage:o,elements:[]}),o}getStyleElement(r,o){const u=this.styleNodesInDOM,l=u?.get(o);if(l?.parentNode===r)return u.delete(o),l.removeAttribute(nu),l;{const f=this.doc.createElement("style");return this.nonce&&f.setAttribute("nonce",this.nonce),f.textContent=o,this.platformIsServer&&f.setAttribute(nu,this.appId),f}}addStyleToHost(r,o){const u=this.getStyleElement(r,o);r.appendChild(u);const l=this.styleRef,f=l.get(o)?.elements;f?f.push(u):l.set(o,{elements:[u],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(p.LFG(be),p.LFG(p.AFp),p.LFG(p.Ojb,8),p.LFG(p.Lbi))},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac}),e})();const Md={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ru=/%COMP%/g,Wf=new p.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Rd(t,e){return e.map(n=>n.replace(ru,t))}let Pd=(()=>{var t;class e{constructor(r,o,u,l,f,y,_,I=null){this.eventManager=r,this.sharedStylesHost=o,this.appId=u,this.removeStylesOnCompDestroy=l,this.doc=f,this.platformId=y,this.ngZone=_,this.nonce=I,this.rendererByCompId=new Map,this.platformIsServer=si(y),this.defaultRenderer=new iu(r,f,_,this.platformIsServer)}createRenderer(r,o){if(!r||!o)return this.defaultRenderer;this.platformIsServer&&o.encapsulation===p.ifc.ShadowDom&&(o={...o,encapsulation:p.ifc.Emulated});const u=this.getOrCreateRenderer(r,o);return u instanceof Sc?u.applyToHost(r):u instanceof Zr&&u.applyStyles(),u}getOrCreateRenderer(r,o){const u=this.rendererByCompId;let l=u.get(o.id);if(!l){const f=this.doc,y=this.ngZone,_=this.eventManager,I=this.sharedStylesHost,S=this.removeStylesOnCompDestroy,N=this.platformIsServer;switch(o.encapsulation){case p.ifc.Emulated:l=new Sc(_,I,o,this.appId,S,f,y,N);break;case p.ifc.ShadowDom:return new Kf(_,I,r,o,f,y,this.nonce,N);default:l=new Zr(_,I,o,S,f,y,N)}u.set(o.id,l)}return l}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(p.LFG(tu),p.LFG(zf),p.LFG(p.AFp),p.LFG(Wf),p.LFG(be),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(p.Ojb))},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac}),e})();class iu{constructor(e,n,r,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=o,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Md[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(su(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(su(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new p.vHH(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,o){if(o){n=o+":"+n;const u=Md[o];u?e.setAttributeNS(u,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const o=Md[r];o?e.removeAttributeNS(o,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,o){o&(p.JOm.DashCase|p.JOm.Important)?e.style.setProperty(n,r,o&p.JOm.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&p.JOm.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=z().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function su(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class Kf extends iu{constructor(e,n,r,o,u,l,f,y){super(e,u,l,y),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const _=Rd(o.id,o.styles);for(const I of _){const S=document.createElement("style");f&&S.setAttribute("nonce",f),S.textContent=I,this.shadowRoot.appendChild(S)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Zr extends iu{constructor(e,n,r,o,u,l,f,y){super(e,u,l,f),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o,this.styles=y?Rd(y,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Sc extends Zr{constructor(e,n,r,o,u,l,f,y){const _=o+"-"+r.id;super(e,n,r,u,l,f,y,_),this.contentAttr=function bc(t){return"_ngcontent-%COMP%".replace(ru,t)}(_),this.hostAttr=function Od(t){return"_nghost-%COMP%".replace(ru,t)}(_)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let kd=(()=>{var t;class e extends Ic{constructor(r){super(r)}supports(r){return!0}addEventListener(r,o,u){return r.addEventListener(o,u,!1),()=>this.removeEventListener(r,o,u)}removeEventListener(r,o,u){return r.removeEventListener(o,u)}}return(t=e).\u0275fac=function(r){return new(r||t)(p.LFG(be))},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac}),e})();const Zt=["alt","control","meta","shift"],Tc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ou={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Cr=(()=>{var t;class e extends Ic{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,o,u){const l=e.parseEventName(o),f=e.eventCallback(l.fullKey,u,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>z().onAndCancel(r,l.domEventName,f))}static parseEventName(r){const o=r.toLowerCase().split("."),u=o.shift();if(0===o.length||"keydown"!==u&&"keyup"!==u)return null;const l=e._normalizeKey(o.pop());let f="",y=o.indexOf("code");if(y>-1&&(o.splice(y,1),f="code."),Zt.forEach(I=>{const S=o.indexOf(I);S>-1&&(o.splice(S,1),f+=I+".")}),f+=l,0!=o.length||0===l.length)return null;const _={};return _.domEventName=u,_.fullKey=f,_}static matchEventFullKeyCode(r,o){let u=Tc[r.key]||r.key,l="";return o.indexOf("code.")>-1&&(u=r.code,l="code."),!(null==u||!u)&&(u=u.toLowerCase()," "===u?u="space":"."===u&&(u="dot"),Zt.forEach(f=>{f!==u&&(0,ou[f])(r)&&(l+=f+".")}),l+=u,l===o)}static eventCallback(r,o,u){return l=>{e.matchEventFullKeyCode(l,r)&&u.runGuarded(()=>o(l))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(p.LFG(be))},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac}),e})();const Xf=(0,p.eFA)(p._c5,"browser",[{provide:p.Lbi,useValue:"browser"},{provide:p.g9A,useValue:function Yf(){Cc.makeCurrent()},multi:!0},{provide:be,useFactory:function Qf(){return(0,p.RDi)(document),document},deps:[]}]),Cy=new p.OlP(""),Ld=[{provide:p.rWj,useClass:class M0{addToWindow(e){p.dqk.getAngularTestability=(r,o=!0)=>{const u=e.findTestabilityInTree(r,o);if(null==u)throw new p.vHH(5103,!1);return u},p.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),p.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),p.dqk.frameworkStabilizers||(p.dqk.frameworkStabilizers=[]),p.dqk.frameworkStabilizers.push(r=>{const o=p.dqk.getAllAngularTestabilities();let u=o.length,l=!1;const f=function(y){l=l||y,u--,0==u&&r(l)};o.forEach(y=>{y.whenStable(f)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?z().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:p.lri,useClass:p.dDg,deps:[p.R0b,p.eoX,p.rWj]},{provide:p.dDg,useClass:p.dDg,deps:[p.R0b,p.eoX,p.rWj]}],ra=[{provide:p.zSh,useValue:"root"},{provide:p.qLn,useFactory:function Ey(){return new p.qLn},deps:[]},{provide:wi,useClass:kd,multi:!0,deps:[be,p.R0b,p.Lbi]},{provide:wi,useClass:Cr,multi:!0,deps:[be]},Pd,zf,tu,{provide:p.FYo,useExisting:Pd},{provide:class to{},useClass:x0,deps:[]},[]];let Vi=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:p.AFp,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(p.LFG(Cy,12))},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({providers:[...ra,...Ld],imports:[_d,p.hGG]}),e})(),Jf=(()=>{var t;class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}}return(t=e).\u0275fac=function(r){return new(r||t)(p.LFG(be))},t.\u0275prov=p.Yz7({token:t,factory:function(r){let o=null;return o=r?new r:function by(){return new Jf((0,p.LFG)(be))}(),o},providedIn:"root"}),e})();typeof window<"u"&&window;var Ln=x(2459),ao=x(5592);const{isArray:xy}=Array,{getPrototypeOf:sp,prototype:jd,keys:uu}=Object;function Ud(t){if(1===t.length){const e=t[0];if(xy(e))return{args:e,keys:null};if(function Mc(t){return t&&"object"==typeof t&&sp(t)===jd}(e)){const n=uu(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}var xc=x(4829),oa=x(4564),br=x(8251),qt=x(7398);const{isArray:op}=Array;function Nc(t){return(0,qt.U)(e=>function ap(t,e){return op(e)?t(...e):t(e)}(t,e))}function cu(t,e){return t.reduce((n,r,o)=>(n[r]=e[o],n),{})}let up=(()=>{var t;class e{constructor(r,o){this._renderer=r,this._elementRef=o,this.onChange=u=>{},this.onTouched=()=>{}}setProperty(r,o){this._renderer.setProperty(this._elementRef.nativeElement,r,o)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return(t=e).\u0275fac=function(r){return new(r||t)(p.Y36(p.Qsj),p.Y36(p.SBq))},t.\u0275dir=p.lG2({type:t}),e})(),En=(()=>{var t;class e extends up{}return(t=e).\u0275fac=function(){let n;return function(o){return(n||(n=p.n5z(t)))(o||t)}}(),t.\u0275dir=p.lG2({type:t,features:[p.qOj]}),e})();const Zn=new p.OlP("NgValueAccessor"),P0={provide:Zn,useExisting:(0,p.Gpc)(()=>Oc),multi:!0},k0=new p.OlP("CompositionEventMode");let Oc=(()=>{var t;class e extends up{constructor(r,o,u){super(r,o),this._compositionMode=u,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function F0(){const t=z()?z().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(r){this.setProperty("value",r??"")}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(k0,8))},t.\u0275dir=p.lG2({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){1&r&&p.NdJ("input",function(l){return o._handleInput(l.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(l){return o._compositionEnd(l.target.value)})},features:[p._Bn([P0]),p.qOj]}),e})();function Bi(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function aa(t){return null!=t&&"number"==typeof t.length}const an=new p.OlP("NgValidators"),ts=new p.OlP("NgAsyncValidators"),lu=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Yr{static min(e){return function ua(t){return e=>{if(Bi(e.value)||Bi(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function du(t){return e=>{if(Bi(e.value)||Bi(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return function Rc(t){return Bi(t.value)?{required:!0}:null}(e)}static requiredTrue(e){return function Pc(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function $d(t){return Bi(t.value)||lu.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function Ps(t){return e=>Bi(e.value)||!aa(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function uo(t){return e=>aa(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Hd(t){if(!t)return Fc;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Bi(r.value))return null;const o=r.value;return e.test(o)?null:{pattern:{requiredPattern:n,actualValue:o}}}}(e)}static nullValidator(e){return null}static compose(e){return Cn(e)}static composeAsync(e){return cr(e)}}function Fc(t){return null}function co(t){return null!=t}function Oy(t){return(0,p.QGY)(t)?(0,Ln.D)(t):t}function lp(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function dp(t,e){return e.map(n=>n(t))}function Gd(t){return t.map(e=>function L0(t){return!t.validate}(e)?e:n=>e.validate(n))}function Cn(t){if(!t)return null;const e=t.filter(co);return 0==e.length?null:function(n){return lp(dp(n,e))}}function lo(t){return null!=t?Cn(Gd(t)):null}function cr(t){if(!t)return null;const e=t.filter(co);return 0==e.length?null:function(n){return function Ny(...t){const e=(0,oa.jO)(t),{args:n,keys:r}=Ud(t),o=new ao.y(u=>{const{length:l}=n;if(!l)return void u.complete();const f=new Array(l);let y=l,_=l;for(let I=0;I<l;I++){let S=!1;(0,xc.Xf)(n[I]).subscribe((0,br.x)(u,N=>{S||(S=!0,_--),f[I]=N},()=>y--,void 0,()=>{(!y||!S)&&(_||u.next(r?cu(r,f):f),u.complete())}))}});return e?o.pipe(Nc(e)):o}(dp(n,e).map(Oy)).pipe((0,qt.U)(lp))}}function ho(t){return null!=t?cr(Gd(t)):null}function hu(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function fu(t){return t._rawValidators}function Ry(t){return t._rawAsyncValidators}function kc(t){return t?Array.isArray(t)?t:[t]:[]}function pu(t,e){return Array.isArray(t)?t.includes(e):t===e}function hp(t,e){const n=kc(e);return kc(t).forEach(o=>{pu(n,o)||n.push(o)}),n}function Ei(t,e){return kc(e).filter(n=>!pu(t,n))}class fp{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=lo(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ho(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Hn extends fp{get formDirective(){return null}get path(){return null}}class ji extends fp{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class zd{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let pp=(()=>{var t;class e extends zd{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(p.Y36(ji,2))},t.\u0275dir=p.lG2({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){2&r&&p.ekj("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[p.qOj]}),e})(),Kd=(()=>{var t;class e extends zd{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(p.Y36(Hn,10))},t.\u0275dir=p.lG2({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){2&r&&p.ekj("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[p.qOj]}),e})();const fo="VALID",Gn="INVALID",ci="PENDING",Ci="DISABLED";function po(t){return(la(t)?t.validators:t)||null}function ns(t,e){return(la(e)?e.asyncValidators:t)||null}function la(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function U0(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new p.vHH(1e3,"");if(!r[n])throw new p.vHH(1001,"")}function Ly(t,e,n){t._forEachChild((r,o)=>{if(void 0===n[o])throw new p.vHH(1002,"")})}class Xd{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===fo}get invalid(){return this.status===Gn}get pending(){return this.status==ci}get disabled(){return this.status===Ci}get enabled(){return this.status!==Ci}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(hp(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(hp(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Ei(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Ei(e,this._rawAsyncValidators))}hasValidator(e){return pu(this._rawValidators,e)}hasAsyncValidator(e){return pu(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ci,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Ci,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=fo,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===fo||this.status===ci)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ci:fo}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ci,this._hasOwnPendingAsyncValidator=!0;const n=Oy(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,o)=>r&&r._find(o),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new p.vpe,this.statusChanges=new p.vpe}_calculateStatus(){return this._allControlsDisabled()?Ci:this.errors?Gn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ci)?ci:this._anyControlsHaveStatus(Gn)?Gn:fo}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){la(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Uc(t){return Array.isArray(t)?lo(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function rs(t){return Array.isArray(t)?ho(t):t||null}(this._rawAsyncValidators)}}class Jd extends Xd{constructor(e,n,r){super(po(n),ns(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){Ly(this,0,e),Object.keys(e).forEach(r=>{U0(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,o)=>((r.enabled||this.disabled)&&(n[o]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((o,u)=>{r=n(r,o,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class da extends Jd{}const gu=new p.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>In}),In="always";function ks(t,e,n=In){mu(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function ha(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&mp(t,e)})}(t,e),function yp(t,e){const n=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function Vy(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&mp(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function go(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function $c(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),mo(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Lr(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function mu(t,e){const n=fu(t);null!==e.validator?t.setValidators(hu(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=Ry(t);null!==e.asyncValidator?t.setAsyncValidators(hu(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const o=()=>t.updateValueAndValidity();Lr(e._rawValidators,o),Lr(e._rawAsyncValidators,o)}function mo(t,e){let n=!1;if(null!==t){if(null!==e.validator){const o=fu(t);if(Array.isArray(o)&&o.length>0){const u=o.filter(l=>l!==e.validator);u.length!==o.length&&(n=!0,t.setValidators(u))}}if(null!==e.asyncValidator){const o=Ry(t);if(Array.isArray(o)&&o.length>0){const u=o.filter(l=>l!==e.asyncValidator);u.length!==o.length&&(n=!0,t.setAsyncValidators(u))}}}const r=()=>{};return Lr(e._rawValidators,r),Lr(e._rawAsyncValidators,r),n}function mp(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function $y(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function Ii(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const vu=class extends Xd{constructor(e=null,n,r){super(po(n),ns(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),la(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=Ii(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){$y(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){$y(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Ii(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let L=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=p.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),je=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({}),e})();const lr=new p.OlP("NgModelWithFormControlWarning"),Qr={provide:Hn,useExisting:(0,p.Gpc)(()=>ss)};let ss=(()=>{var t;class e extends Hn{constructor(r,o,u){super(),this.callSetDisabledState=u,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new p.vpe,this._setValidators(r),this._setAsyncValidators(o)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(mo(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){const o=this.form.get(r.path);return ks(o,r,this.callSetDisabledState),o.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),o}getControl(r){return this.form.get(r.path)}removeControl(r){$c(r.control||null,r,!1),function Uy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,o){this.form.get(r.path).setValue(o)}onSubmit(r){return this.submitted=!0,function jy(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(r),"dialog"===r?.target?.method}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{const o=r.control,u=this.form.get(r.path);o!==u&&($c(o||null,r),(t=>t instanceof vu)(u)&&(ks(u,r,this.callSetDisabledState),r.control=u))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){const o=this.form.get(r.path);(function By(t,e){mu(t,e)})(o,r),o.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){const o=this.form.get(r.path);o&&function Sr(t,e){return mo(t,e)}(o,r)&&o.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){mu(this.form,this),this._oldForm&&mo(this._oldForm,this)}_checkFormPresent(){}}return(t=e).\u0275fac=function(r){return new(r||t)(p.Y36(an,10),p.Y36(ts,10),p.Y36(gu,8))},t.\u0275dir=p.lG2({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,o){1&r&&p.NdJ("submit",function(l){return o.onSubmit(l)})("reset",function(){return o.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([Qr]),p.qOj,p.TTD]}),e})();const FM={provide:ji,useExisting:(0,p.Gpc)(()=>q0)};let q0=(()=>{var t;class e extends ji{set isDisabled(r){}constructor(r,o,u,l,f){super(),this._ngModelWarningConfig=f,this._added=!1,this.name=null,this.update=new p.vpe,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(o),this._setAsyncValidators(u),this.valueAccessor=function _p(t,e){if(!e)return null;let n,r,o;return Array.isArray(e),e.forEach(u=>{u.constructor===Oc?n=u:function $0(t){return Object.getPrototypeOf(t.constructor)===En}(u)?r=u:o=u}),o||r||n||null}(0,l)}ngOnChanges(r){this._added||this._setUpControl(),function yu(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return function eh(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(t=e)._ngModelWarningSentOnce=!1,t.\u0275fac=function(r){return new(r||t)(p.Y36(Hn,13),p.Y36(an,10),p.Y36(ts,10),p.Y36(Zn,10),p.Y36(lr,8))},t.\u0275dir=p.lG2({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[p._Bn([FM]),p.qOj,p.TTD]}),e})(),kb=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({imports:[je]}),e})();class Yy extends Xd{constructor(e,n,r){super(po(n),ns(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let o=this._adjustIndex(e);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),n&&(this.controls.splice(o,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){Ly(this,0,e),e.forEach((r,o)=>{U0(this,!1,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function J0(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let Vb=(()=>{var t;class e{constructor(){this.useNonNullable=!1}get nonNullable(){const r=new e;return r.useNonNullable=!0,r}group(r,o=null){const u=this._reduceControls(r);let l={};return J0(o)?l=o:null!==o&&(l.validators=o.validator,l.asyncValidators=o.asyncValidator),new Jd(u,l)}record(r,o=null){const u=this._reduceControls(r);return new da(u,o)}control(r,o,u){let l={};return this.useNonNullable?(J0(o)?l=o:(l.validators=o,l.asyncValidators=u),new vu(r,{...l,nonNullable:!0})):new vu(r,o,u)}array(r,o,u){const l=r.map(f=>this._createControl(f));return new Yy(l,o,u)}_reduceControls(r){const o={};return Object.keys(r).forEach(u=>{o[u]=this._createControl(r[u])}),o}_createControl(r){return r instanceof vu||r instanceof Xd?r:Array.isArray(r)?this.control(r[0],r.length>1?r[1]:null,r.length>2?r[2]:null):this.control(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Bb=(()=>{var t;class e{static withConfig(r){return{ngModule:e,providers:[{provide:lr,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:gu,useValue:r.callSetDisabledState??In}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({imports:[kb]}),e})();var Tp=x(4674),Je=x(2096),Ui=x(5619),_o=x(2737),Ap=x(7103);function Mp(...t){const e=(0,oa.yG)(t),n=(0,oa.jO)(t),{args:r,keys:o}=Ud(t);if(0===r.length)return(0,Ln.D)([],e);const u=new ao.y(function Qy(t,e,n=_o.y){return r=>{oh(e,()=>{const{length:o}=t,u=new Array(o);let l=o,f=o;for(let y=0;y<o;y++)oh(e,()=>{const _=(0,Ln.D)(t[y],e);let I=!1;_.subscribe((0,br.x)(r,S=>{u[y]=S,I||(I=!0,f--),f||r.next(n(u.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,e,o?l=>cu(o,l):_o.y));return n?u.pipe(Nc(n)):u}function oh(t,e,n){t?(0,Ap.f)(n,t,e):e()}const xp=(0,x(2306).d)(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});var ah=x(7537);function Xy(...t){return function Ub(){return(0,ah.J)(1)}()((0,Ln.D)(t,(0,oa.yG)(t)))}function rD(t){return new ao.y(e=>{(0,xc.Xf)(t()).subscribe(e)})}var iD=x(8407);function pa(t,e){const n=(0,Tp.m)(t)?t:()=>t,r=o=>o.error(n());return new ao.y(e?o=>e.schedule(r,0,o):r)}var Vs=x(6232),uh=x(7394),$i=x(9360);function Jy(){return(0,$i.e)((t,e)=>{let n=null;t._refCount++;const r=(0,br.x)(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const o=t._connection,u=n;n=null,o&&(!u||o===u)&&o.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class Np extends ao.y{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,(0,$i.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new uh.w0;const n=this.getSubject();e.add(this.source.subscribe((0,br.x)(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=uh.w0.EMPTY)}return e}refCount(){return Jy()(this)}}var ga=x(8645),Jr=x(4664);function Eu(t){return t<=0?()=>Vs.E:(0,$i.e)((e,n)=>{let r=0;e.subscribe((0,br.x)(n,o=>{++r<=t&&(n.next(o),t<=r&&n.complete())}))})}function ma(t,e){return(0,$i.e)((n,r)=>{let o=0;n.subscribe((0,br.x)(r,u=>t.call(e,u,o++)&&r.next(u)))})}var li=x(1631);function Cu(t){return(0,$i.e)((e,n)=>{let r=!1;e.subscribe((0,br.x)(n,o=>{r=!0,n.next(o)},()=>{r||n.next(t),n.complete()}))})}function oD(t=aD){return(0,$i.e)((e,n)=>{let r=!1;e.subscribe((0,br.x)(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(t())))})}function aD(){return new xp}function ya(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ma((o,u)=>t(o,u,r)):_o.y,Eu(1),n?Cu(e):oD(()=>new xp))}function Kc(t,e){return(0,Tp.m)(e)?(0,li.z)(t,e,1):(0,li.z)(t,1)}var dr=x(9397);function va(t){return(0,$i.e)((e,n)=>{let u,r=null,o=!1;r=e.subscribe((0,br.x)(n,void 0,void 0,l=>{u=(0,xc.Xf)(t(l,va(t)(e))),r?(r.unsubscribe(),r=null,u.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,u.subscribe(n))})}function Rp(t){return t<=0?()=>Vs.E:(0,$i.e)((e,n)=>{let r=[];e.subscribe((0,br.x)(n,o=>{r.push(o),t<r.length&&r.shift()},()=>{for(const o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function Fp(t){return(0,$i.e)((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}var tv=x(2420);const Dt="primary",Zc=Symbol("RouteTitle");class $b{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Yc(t){return new $b(t)}function Hb(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const o={};for(let u=0;u<r.length;u++){const l=r[u],f=t[u];if(l.startsWith(":"))o[l.substring(1)]=f;else if(l!==f.path)return null}return{consumed:t.slice(0,r.length),posParams:o}}function os(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let u=0;u<n.length;u++)if(o=n[u],!dh(t[o],e[o]))return!1;return!0}function dh(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((o,u)=>r[u]===o)}return t===e}function kp(t){return t.length>0?t[t.length-1]:null}function bi(t){return function nD(t){return!!t&&(t instanceof ao.y||(0,Tp.m)(t.lift)&&(0,Tp.m)(t.subscribe))}(t)?t:(0,p.QGY)(t)?(0,Ln.D)(Promise.resolve(t)):(0,Je.of)(t)}const Gb={exact:function Lp(t,e,n){if(!Su(t.segments,e.segments)||!Qc(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!Lp(t.children[r],e.children[r],n))return!1;return!0},subset:Iu},cD={exact:function qb(t,e){return os(t,e)},subset:function Wb(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>dh(t[n],e[n]))},ignored:()=>!0};function zb(t,e,n){return Gb[n.paths](t.root,e.root,n.matrixParams)&&cD[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function Iu(t,e,n){return hh(t,e,e.segments,n)}function hh(t,e,n,r){if(t.segments.length>n.length){const o=t.segments.slice(0,n.length);return!(!Su(o,n)||e.hasChildren()||!Qc(o,n,r))}if(t.segments.length===n.length){if(!Su(t.segments,n)||!Qc(t.segments,n,r))return!1;for(const o in e.children)if(!t.children[o]||!Iu(t.children[o],e.children[o],r))return!1;return!0}{const o=n.slice(0,t.segments.length),u=n.slice(t.segments.length);return!!(Su(t.segments,o)&&Qc(t.segments,o,r)&&t.children[Dt])&&hh(t.children[Dt],e,u,r)}}function Qc(t,e,n){return e.every((r,o)=>cD[n](t[o].parameters,r.parameters))}class bu{constructor(e=new Yt([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Yc(this.queryParams)),this._queryParamMap}toString(){return Zb.serialize(this)}}class Yt{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return as(this)}}class Xc{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Yc(this.parameters)),this._parameterMap}toString(){return sv(this)}}function Su(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let fh=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=p.Yz7({token:t,factory:function(){return new nv},providedIn:"root"}),e})();class nv{parse(e){const n=new jM(e);return new bu(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${wo(e.root,!0)}`,r=function Xb(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(o=>`${rv(n)}=${rv(o)}`).join("&"):`${rv(n)}=${rv(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function BM(t){return encodeURI(t)}(e.fragment)}`:""}`}}const Zb=new nv;function as(t){return t.segments.map(e=>sv(e)).join("/")}function wo(t,e){if(!t.hasChildren())return as(t);if(e){const n=t.children[Dt]?wo(t.children[Dt],!1):"",r=[];return Object.entries(t.children).forEach(([o,u])=>{o!==Dt&&r.push(`${o}:${wo(u,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function Kb(t,e){let n=[];return Object.entries(t.children).forEach(([r,o])=>{r===Dt&&(n=n.concat(e(o,r)))}),Object.entries(t.children).forEach(([r,o])=>{r!==Dt&&(n=n.concat(e(o,r)))}),n}(t,(r,o)=>o===Dt?[wo(t.children[Dt],!1)]:[`${o}:${wo(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Dt]?`${as(t)}/${n[0]}`:`${as(t)}/(${n.join("//")})`}}function dD(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function rv(t){return dD(t).replace(/%3B/gi,";")}function hD(t){return dD(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function iv(t){return decodeURIComponent(t)}function Yb(t){return iv(t.replace(/\+/g,"%20"))}function sv(t){return`${hD(t.path)}${function Qb(t){return Object.keys(t).map(e=>`;${hD(e)}=${hD(t[e])}`).join("")}(t.parameters)}`}const Jb=/^[^\/()?;#]+/;function ov(t){const e=t.match(Jb);return e?e[0]:""}const av=/^[^\/()?;=#]+/,ph=/^[^=?&#]+/,pD=/^[^&#]+/;class jM{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Yt([],{}):new Yt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Dt]=new Yt(e,n)),r}parseSegment(){const e=ov(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new p.vHH(4009,!1);return this.capture(e),new Xc(iv(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function Do(t){const e=t.match(av);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=ov(this.remaining);o&&(r=o,this.capture(r))}e[iv(n)]=iv(r)}parseQueryParam(e){const n=function fD(t){const e=t.match(ph);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const l=function gD(t){const e=t.match(pD);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const o=Yb(n),u=Yb(r);if(e.hasOwnProperty(o)){let l=e[o];Array.isArray(l)||(l=[l],e[o]=l),l.push(u)}else e[o]=u}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ov(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new p.vHH(4010,!1);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Dt);const l=this.parseChildren();n[u]=1===Object.keys(l).length?l[Dt]:new Yt([],l),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new p.vHH(4011,!1)}}function eS(t){return t.segments.length>0?new Yt([],{[Dt]:t}):t}function tS(t){const e={};for(const r of Object.keys(t.children)){const u=tS(t.children[r]);if(r===Dt&&0===u.segments.length&&u.hasChildren())for(const[l,f]of Object.entries(u.children))e[l]=f;else(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function uv(t){if(1===t.numberOfChildren&&t.children[Dt]){const e=t.children[Dt];return new Yt(t.segments.concat(e.segments),e.children)}return t}(new Yt(t.segments,e))}function Eo(t){return t instanceof bu}function nS(t){let e;const o=eS(function n(u){const l={};for(const y of u.children){const _=n(y);l[y.outlet]=_}const f=new Yt(u.url,l);return u===t&&(e=f),f}(t.root));return e??o}function cv(t,e,n,r){let o=t;for(;o.parent;)o=o.parent;if(0===e.length)return lv(o,o,o,n,r);const u=function Bp(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new dv(!0,0,t);let e=0,n=!1;const r=t.reduce((o,u,l)=>{if("object"==typeof u&&null!=u){if(u.outlets){const f={};return Object.entries(u.outlets).forEach(([y,_])=>{f[y]="string"==typeof _?_.split("/"):_}),[...o,{outlets:f}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===l?(u.split("/").forEach((f,y)=>{0==y&&"."===f||(0==y&&""===f?n=!0:".."===f?e++:""!=f&&o.push(f))}),o):[...o,u]},[]);return new dv(n,e,r)}(e);if(u.toRoot())return lv(o,o,new Yt([],{}),n,r);const l=function hv(t,e,n){if(t.isAbsolute)return new jp(e,!0,0);if(!n)return new jp(e,!1,NaN);if(null===n.parent)return new jp(n,!0,0);const r=Vp(t.commands[0])?0:1;return function rS(t,e,n){let r=t,o=e,u=n;for(;u>o;){if(u-=o,r=r.parent,!r)throw new p.vHH(4005,!1);o=r.segments.length}return new jp(r,!1,o-u)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(u,o,t),f=l.processChildren?mh(l.segmentGroup,l.index,u.commands):yD(l.segmentGroup,l.index,u.commands);return lv(o,l.segmentGroup,f,n,r)}function Vp(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function gh(t){return"object"==typeof t&&null!=t&&t.outlets}function lv(t,e,n,r,o){let l,u={};r&&Object.entries(r).forEach(([y,_])=>{u[y]=Array.isArray(_)?_.map(I=>`${I}`):`${_}`}),l=t===e?n:mD(t,e,n);const f=eS(tS(l));return new bu(f,u,o)}function mD(t,e,n){const r={};return Object.entries(t.children).forEach(([o,u])=>{r[o]=u===e?n:mD(u,e,n)}),new Yt(t.segments,r)}class dv{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Vp(r[0]))throw new p.vHH(4003,!1);const o=r.find(gh);if(o&&o!==kp(r))throw new p.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class jp{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function yD(t,e,n){if(t||(t=new Yt([],{})),0===t.segments.length&&t.hasChildren())return mh(t,e,n);const r=function fv(t,e,n){let r=0,o=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<t.segments.length;){if(r>=n.length)return u;const l=t.segments[o],f=n[r];if(gh(f))break;const y=`${f}`,_=r<n.length-1?n[r+1]:null;if(o>0&&void 0===y)break;if(y&&_&&"object"==typeof _&&void 0===_.outlets){if(!_D(y,_,l))return u;r+=2}else{if(!_D(y,{},l))return u;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(t,e,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const u=new Yt(t.segments.slice(0,r.pathIndex),{});return u.children[Dt]=new Yt(t.segments.slice(r.pathIndex),t.children),mh(u,0,o)}return r.match&&0===o.length?new Yt(t.segments,{}):r.match&&!t.hasChildren()?Up(t,e,n):r.match?mh(t,0,o):Up(t,e,n)}function mh(t,e,n){if(0===n.length)return new Yt(t.segments,{});{const r=function Jc(t){return gh(t[0])?t[0].outlets:{[Dt]:t}}(n),o={};if(Object.keys(r).some(u=>u!==Dt)&&t.children[Dt]&&1===t.numberOfChildren&&0===t.children[Dt].segments.length){const u=mh(t.children[Dt],e,n);return new Yt(t.segments,u.children)}return Object.entries(r).forEach(([u,l])=>{"string"==typeof l&&(l=[l]),null!==l&&(o[u]=yD(t.children[u],e,l))}),Object.entries(t.children).forEach(([u,l])=>{void 0===r[u]&&(o[u]=l)}),new Yt(t.segments,o)}}function Up(t,e,n){const r=t.segments.slice(0,e);let o=0;for(;o<n.length;){const u=n[o];if(gh(u)){const y=iS(u.outlets);return new Yt(r,y)}if(0===o&&Vp(n[0])){r.push(new Xc(t.segments[e].path,vD(n[0]))),o++;continue}const l=gh(u)?u.outlets[Dt]:`${u}`,f=o<n.length-1?n[o+1]:null;l&&f&&Vp(f)?(r.push(new Xc(l,vD(f))),o+=2):(r.push(new Xc(l,{})),o++)}return new Yt(r,{})}function iS(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=Up(new Yt([],{}),0,r))}),e}function vD(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function _D(t,e,n){return t==n.path&&os(e,n.parameters)}const yh="imperative";class us{constructor(e,n){this.id=e,this.url=n}}class pv extends us{constructor(e,n,r="imperative",o=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Tu extends us{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Co extends us{constructor(e,n,r,o){super(e,n),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Rt extends us{constructor(e,n,r,o){super(e,n),this.reason=r,this.code=o,this.type=16}}class _a extends us{constructor(e,n,r,o){super(e,n),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class gv extends us{constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wD extends us{constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mv extends us{constructor(e,n,r,o,u){super(e,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class DD extends us{constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sS extends us{constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ED{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class CD{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class $p{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $M{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yv{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oS{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hp{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Gp{}class zp{constructor(e){this.url=e}}class aS{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Au,this.attachRef=null}}let Au=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,o){const u=this.getOrCreateContext(r);u.outlet=o,this.contexts.set(r,u)}onChildOutletDestroyed(r){const o=this.getContext(r);o&&(o.outlet=null,o.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let o=this.getContext(r);return o||(o=new aS,this.contexts.set(r,o)),o}getContext(r){return this.contexts.get(r)||null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class vh{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=vv(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=vv(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=_h(e,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return _h(e,this._root).map(n=>n.value)}}function vv(t,e){if(t===e.value)return e;for(const n of e.children){const r=vv(t,n);if(r)return r}return null}function _h(t,e){if(t===e.value)return[e];for(const n of e.children){const r=_h(t,n);if(r.length)return r.unshift(e),r}return[]}class Hi{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function ei(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class wh extends vh{constructor(e,n){super(e),this.snapshot=n,wv(this,e)}toString(){return this.snapshot.toString()}}function qp(t,e){const n=function uS(t,e){const l=new Wp([],{},{},"",{},Dt,e,null,{});return new ID("",new Hi(l,[]))}(0,e),r=new Ui.X([new Xc("",{})]),o=new Ui.X({}),u=new Ui.X({}),l=new Ui.X({}),f=new Ui.X(""),y=new Mu(r,o,l,f,u,Dt,e,n.root);return y.snapshot=n.root,new wh(new Hi(y,[]),n)}class Mu{constructor(e,n,r,o,u,l,f,y){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=u,this.outlet=l,this.component=f,this._futureSnapshot=y,this.title=this.dataSubject?.pipe((0,qt.U)(_=>_[Zc]))??(0,Je.of)(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=o,this.data=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,qt.U)(e=>Yc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,qt.U)(e=>Yc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function _v(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const o=n[r],u=n[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(u.component)break;r--}}return function tl(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Wp{get title(){return this.data?.[Zc]}constructor(e,n,r,o,u,l,f,y,_){this.url=e,this.params=n,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=l,this.component=f,this.routeConfig=y,this._resolve=_}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Yc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Yc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ID extends vh{constructor(e,n){super(n),this.url=e,wv(this,n)}toString(){return Kp(this._root)}}function wv(t,e){e.value._routerState=t,e.children.forEach(n=>wv(t,n))}function Kp(t){const e=t.children.length>0?` { ${t.children.map(Kp).join(", ")} } `:"";return`${t.value}${e}`}function Zp(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,os(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),os(e.params,n.params)||t.paramsSubject.next(n.params),function uD(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!os(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),os(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Dv(t,e){const n=os(t.params,e.params)&&function lD(t,e){return Su(t,e)&&t.every((n,r)=>os(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||Dv(t.parent,e.parent))}let Dh=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Dt,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.attachEvents=new p.vpe,this.detachEvents=new p.vpe,this.parentContexts=(0,p.f3M)(Au),this.location=(0,p.f3M)(p.s_b),this.changeDetector=(0,p.f3M)(p.sBO),this.environmentInjector=(0,p.f3M)(p.lqb),this.inputBinder=(0,p.f3M)(Cv,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:o,previousValue:u}=r.name;if(o)return;this.isTrackedInParentContexts(u)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(u)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new p.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new p.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new p.vHH(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,o){this.activated=r,this._activatedRoute=o,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,o){if(this.isActivated)throw new p.vHH(4013,!1);this._activatedRoute=r;const u=this.location,f=r.snapshot.component,y=this.parentContexts.getOrCreateContext(this.name).children,_=new Ev(r,y,u.injector);this.activated=u.createComponent(f,{index:u.length,injector:_,environmentInjector:o??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=p.lG2({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[p.TTD]}),e})();class Ev{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Mu?this.route:e===Au?this.childContexts:this.parent.get(e,n)}}const Cv=new p.OlP("");let cS=(()=>{var t;class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){const{activatedRoute:o}=r,u=Mp([o.queryParams,o.params,o.data]).pipe((0,Jr.w)(([l,f,y],_)=>(y={...l,...f,...y},0===_?(0,Je.of)(y):Promise.resolve(y)))).subscribe(l=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==o||null===o.component)return void this.unsubscribeFromRouteData(r);const f=(0,p.qFp)(o.component);if(f)for(const{templateName:y}of f.inputs)r.activatedComponentRef.setInput(y,l[y]);else this.unsubscribeFromRouteData(r)});this.outletDataSubscriptions.set(r,u)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac}),e})();function Eh(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const o=function HM(t,e,n){return e.children.map(r=>{for(const o of n.children)if(t.shouldReuseRoute(r.value,o.value.snapshot))return Eh(t,r,o);return Eh(t,r)})}(t,e,n);return new Hi(r,o)}{if(t.shouldAttach(e.value)){const u=t.retrieve(e.value);if(null!==u){const l=u.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(f=>Eh(t,f)),l}}const r=function GM(t){return new Mu(new Ui.X(t.url),new Ui.X(t.params),new Ui.X(t.queryParams),new Ui.X(t.fragment),new Ui.X(t.data),t.outlet,t.component,t)}(e.value),o=e.children.map(u=>Eh(t,u));return new Hi(r,o)}}const nl="ngNavigationCancelingError";function bD(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Eo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=Yp(!1,0,e);return o.url=n,o.navigationBehaviorOptions=r,o}function Yp(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[nl]=!0,r.cancellationCode=e,n&&(r.url=n),r}function xu(t){return t&&t[nl]}let Qp=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=p.Xpm({type:t,selectors:[["ng-component"]],standalone:!0,features:[p.jDz],decls:1,vars:0,template:function(r,o){1&r&&p._UZ(0,"router-outlet")},dependencies:[Dh],encapsulation:2}),e})();function Nu(t){const e=t.children&&t.children.map(Nu),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Dt&&(n.component=Qp),n}function cs(t){return t.outlet||Dt}function Ih(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class AD{constructor(e,n,r,o,u){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=u}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Zp(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const o=ei(n);e.children.forEach(u=>{const l=u.value.outlet;this.deactivateRoutes(u,o[l],r),delete o[l]}),Object.values(o).forEach(u=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,n,r){const o=e.value,u=n?n.value:null;if(o===u)if(o.component){const l=r.getContext(o.outlet);l&&this.deactivateChildRoutes(e,n,l.children)}else this.deactivateChildRoutes(e,n,r);else u&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),o=r&&e.value.component?r.children:n,u=ei(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],o);if(r&&r.outlet){const l=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:f})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),o=r&&e.value.component?r.children:n,u=ei(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const o=ei(n);e.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],r),this.forwardEvent(new oS(u.value.snapshot))}),e.children.length&&this.forwardEvent(new $M(e.value.snapshot))}activateRoutes(e,n,r){const o=e.value,u=n?n.value:null;if(Zp(o),o===u)if(o.component){const l=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,n,l.children)}else this.activateChildRoutes(e,n,r);else if(o.component){const l=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const f=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),l.children.onOutletReAttached(f.contexts),l.attachRef=f.componentRef,l.route=f.route.value,l.outlet&&l.outlet.attach(f.componentRef,f.route.value),Zp(f.route.value),this.activateChildRoutes(e,null,l.children)}else{const f=Ih(o.snapshot);l.attachRef=null,l.route=o,l.injector=f,l.outlet&&l.outlet.activateWith(o,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}class MD{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Jp{constructor(e,n){this.component=e,this.route=n}}function WM(t,e,n){const r=t._root;return Ou(r,e?e._root:null,n,[r.value])}function Io(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||(0,p.Z0I)(t)?e.get(t):t:r}function Ou(t,e,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=ei(e);return t.children.forEach(l=>{(function hS(t,e,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=t.value,l=e?e.value:null,f=n?n.getContext(t.value.outlet):null;if(l&&u.routeConfig===l.routeConfig){const y=function xD(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Su(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Su(t.url,e.url)||!os(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Dv(t,e)||!os(t.queryParams,e.queryParams);default:return!Dv(t,e)}}(l,u,u.routeConfig.runGuardsAndResolvers);y?o.canActivateChecks.push(new MD(r)):(u.data=l.data,u._resolvedData=l._resolvedData),Ou(t,e,u.component?f?f.children:null:n,r,o),y&&f&&f.outlet&&f.outlet.isActivated&&o.canDeactivateChecks.push(new Jp(f.outlet.component,l))}else l&&Ru(e,f,o),o.canActivateChecks.push(new MD(r)),Ou(t,null,u.component?f?f.children:null:n,r,o)})(l,u[l.value.outlet],n,r.concat([l.value]),o),delete u[l.value.outlet]}),Object.entries(u).forEach(([l,f])=>Ru(f,n.getContext(l),o)),o}function Ru(t,e,n){const r=ei(t),o=t.value;Object.entries(r).forEach(([u,l])=>{Ru(l,o.component?e?e.children.getContext(u):null:e,n)}),n.canDeactivateChecks.push(new Jp(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}function wa(t){return"function"==typeof t}function Pu(t){return t instanceof xp||"EmptyError"===t?.name}const Da=Symbol("INITIAL_VALUE");function rl(){return(0,Jr.w)(t=>Mp(t.map(e=>e.pipe(Eu(1),function sD(...t){const e=(0,oa.yG)(t);return(0,$i.e)((n,r)=>{(e?Xy(t,n,e):Xy(t,n)).subscribe(r)})}(Da)))).pipe((0,qt.U)(e=>{for(const n of e)if(!0!==n){if(n===Da)return Da;if(!1===n||n instanceof bu)return n}return!0}),ma(e=>e!==Da),Eu(1)))}function Pv(t){return(0,iD.z)((0,dr.b)(e=>{if(Eo(e))throw bD(0,e)}),(0,qt.U)(e=>!0===e))}class eg{constructor(e){this.segmentGroup=e||null}}class Fv{constructor(e){this.urlTree=e}}function il(t){return pa(new eg(t))}function kv(t){return pa(new Fv(t))}class YM{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new p.vHH(4002,!1)}lineralizeSegments(e,n){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return(0,Je.of)(r);if(o.numberOfChildren>1||!o.children[Dt])return pa(new p.vHH(4e3,!1));o=o.children[Dt]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,o){const u=this.createSegmentGroup(e,n.root,r,o);return new bu(u,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([o,u])=>{if("string"==typeof u&&u.startsWith(":")){const f=u.substring(1);r[o]=n[f]}else r[o]=u}),r}createSegmentGroup(e,n,r,o){const u=this.createSegments(e,n.segments,r,o);let l={};return Object.entries(n.children).forEach(([f,y])=>{l[f]=this.createSegmentGroup(e,y,r,o)}),new Yt(u,l)}createSegments(e,n,r,o){return n.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,o):this.findOrReturn(u,r))}findPosParam(e,n,r){const o=r[n.path.substring(1)];if(!o)throw new p.vHH(4001,!1);return o}findOrReturn(e,n){let r=0;for(const o of n){if(o.path===e.path)return n.splice(r),o;r++}return e}}const tg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function kD(t,e,n,r,o){const u=Si(t,e,n);return u.matched?(r=function bv(t,e){return t.providers&&!t._injector&&(t._injector=(0,p.MMx)(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function wS(t,e,n,r){const o=e.canMatch;if(!o||0===o.length)return(0,Je.of)(!0);const u=o.map(l=>{const f=Io(l,t);return bi(function gS(t){return t&&wa(t.canMatch)}(f)?f.canMatch(e,n):t.runInContext(()=>f(e,n)))});return(0,Je.of)(u).pipe(rl(),Pv())}(r,e,n).pipe((0,qt.U)(l=>!0===l?u:{...tg}))):(0,Je.of)(u)}function Si(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...tg}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const o=(e.matcher||Hb)(n,t,e);if(!o)return{...tg};const u={};Object.entries(o.posParams??{}).forEach(([f,y])=>{u[f]=y.path});const l=o.consumed.length>0?{...u,...o.consumed[o.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:l,positionalParamSegments:o.posParams??{}}}function ng(t,e,n,r){return n.length>0&&function IS(t,e,n){return n.some(r=>Ti(t,e,r)&&cs(r)!==Dt)}(t,n,r)?{segmentGroup:new Yt(e,QM(r,new Yt(n,t.children))),slicedSegments:[]}:0===n.length&&function Lv(t,e,n){return n.some(r=>Ti(t,e,r))}(t,n,r)?{segmentGroup:new Yt(t.segments,CS(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Yt(t.segments,t.children),slicedSegments:n}}function CS(t,e,n,r,o){const u={};for(const l of r)if(Ti(t,n,l)&&!o[cs(l)]){const f=new Yt([],{});u[cs(l)]=f}return{...o,...u}}function QM(t,e){const n={};n[Dt]=e;for(const r of t)if(""===r.path&&cs(r)!==Dt){const o=new Yt([],{});n[cs(r)]=o}return n}function Ti(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class hr{constructor(e,n,r,o,u,l,f){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=o,this.urlTree=u,this.paramsInheritanceStrategy=l,this.urlSerializer=f,this.allowRedirects=!0,this.applyRedirects=new YM(this.urlSerializer,this.urlTree)}noMatchError(e){return new p.vHH(4002,!1)}recognize(){const e=ng(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Dt).pipe(va(n=>{if(n instanceof Fv)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof eg?this.noMatchError(n):n}),(0,qt.U)(n=>{const r=new Wp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Dt,this.rootComponentType,null,{}),o=new Hi(r,n),u=new ID("",o),l=function UM(t,e,n=null,r=null){return cv(nS(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return l.queryParams=this.urlTree.queryParams,u.url=this.urlSerializer.serialize(l),this.inheritParamsAndData(u._root),{state:u,tree:l}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Dt).pipe(va(r=>{throw r instanceof eg?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=_v(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,n,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,o,!0)}processChildren(e,n,r){const o=[];for(const u of Object.keys(r.children))"primary"===u?o.unshift(u):o.push(u);return(0,Ln.D)(o).pipe(Kc(u=>{const l=r.children[u],f=function TD(t,e){const n=t.filter(r=>cs(r)===e);return n.push(...t.filter(r=>cs(r)!==e)),n}(n,u);return this.processSegmentGroup(e,f,l,u)}),function ch(t,e){return(0,$i.e)(function Op(t,e,n,r,o){return(u,l)=>{let f=n,y=e,_=0;u.subscribe((0,br.x)(l,I=>{const S=_++;y=f?t(y,I,S):(f=!0,I),r&&l.next(y)},o&&(()=>{f&&l.next(y),l.complete()})))}}(t,e,arguments.length>=2,!0))}((u,l)=>(u.push(...l),u)),Cu(null),function ev(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ma((o,u)=>t(o,u,r)):_o.y,Rp(1),n?Cu(e):oD(()=>new xp))}(),(0,li.z)(u=>{if(null===u)return il(r);const l=VD(u);return function SS(t){t.sort((e,n)=>e.value.outlet===Dt?-1:n.value.outlet===Dt?1:e.value.outlet.localeCompare(n.value.outlet))}(l),(0,Je.of)(l)}))}processSegment(e,n,r,o,u,l){return(0,Ln.D)(n).pipe(Kc(f=>this.processSegmentAgainstRoute(f._injector??e,n,f,r,o,u,l).pipe(va(y=>{if(y instanceof eg)return(0,Je.of)(null);throw y}))),ya(f=>!!f),va(f=>{if(Pu(f))return function bS(t,e,n){return 0===e.length&&!t.children[n]}(r,o,u)?(0,Je.of)([]):il(r);throw f}))}processSegmentAgainstRoute(e,n,r,o,u,l,f){return function LD(t,e,n,r){return!!(cs(t)===r||r!==Dt&&Ti(e,n,t))&&("**"===t.path||Si(e,t,n).matched)}(r,o,u,l)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,o,r,u,l,f):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,o,n,r,u,l):il(o):il(o)}expandSegmentAgainstRouteUsingRedirect(e,n,r,o,u,l){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,o,u,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,o){const u=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?kv(u):this.applyRedirects.lineralizeSegments(r,u).pipe((0,li.z)(l=>{const f=new Yt(l,{});return this.processSegment(e,n,f,l,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,o,u,l){const{matched:f,consumedSegments:y,remainingSegments:_,positionalParamSegments:I}=Si(n,o,u);if(!f)return il(n);const S=this.applyRedirects.applyRedirectCommands(y,o.redirectTo,I);return o.redirectTo.startsWith("/")?kv(S):this.applyRedirects.lineralizeSegments(o,S).pipe((0,li.z)(N=>this.processSegment(e,r,n,N.concat(_),l,!1)))}matchSegmentAgainstRoute(e,n,r,o,u,l){let f;if("**"===r.path){const y=o.length>0?kp(o).parameters:{},_=new Wp(o,y,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,rg(r),cs(r),r.component??r._loadedComponent??null,r,Bv(r));f=(0,Je.of)({snapshot:_,consumedSegments:[],remainingSegments:[]}),n.children={}}else f=kD(n,r,o,e).pipe((0,qt.U)(({matched:y,consumedSegments:_,remainingSegments:I,parameters:S})=>y?{snapshot:new Wp(_,S,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,rg(r),cs(r),r.component??r._loadedComponent??null,r,Bv(r)),consumedSegments:_,remainingSegments:I}:null));return f.pipe((0,Jr.w)(y=>null===y?il(n):this.getChildConfig(e=r._injector??e,r,o).pipe((0,Jr.w)(({routes:_})=>{const I=r._loadedInjector??e,{snapshot:S,consumedSegments:N,remainingSegments:R}=y,{segmentGroup:J,slicedSegments:me}=ng(n,N,R,_);if(0===me.length&&J.hasChildren())return this.processChildren(I,_,J).pipe((0,qt.U)(et=>null===et?null:[new Hi(S,et)]));if(0===_.length&&0===me.length)return(0,Je.of)([new Hi(S,[])]);const Ie=cs(r)===u;return this.processSegment(I,_,J,me,Ie?Dt:u,!0).pipe((0,qt.U)(et=>[new Hi(S,et)]))}))))}getChildConfig(e,n,r){return n.children?(0,Je.of)({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?(0,Je.of)({routes:n._loadedRoutes,injector:n._loadedInjector}):function Rv(t,e,n,r){const o=e.canLoad;if(void 0===o||0===o.length)return(0,Je.of)(!0);const u=o.map(l=>{const f=Io(l,t);return bi(function ND(t){return t&&wa(t.canLoad)}(f)?f.canLoad(e,n):t.runInContext(()=>f(e,n)))});return(0,Je.of)(u).pipe(rl(),Pv())}(e,n,r).pipe((0,li.z)(o=>o?this.configLoader.loadChildren(e,n).pipe((0,dr.b)(u=>{n._loadedRoutes=u.routes,n._loadedInjector=u.injector})):function ES(t){return pa(Yp(!1,3))}())):(0,Je.of)({routes:[],injector:e})}}function Vv(t){const e=t.value.routeConfig;return e&&""===e.path}function VD(t){const e=[],n=new Set;for(const r of t){if(!Vv(r)){e.push(r);continue}const o=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...r.children),n.add(o)):e.push(r)}for(const r of n){const o=VD(r.children);e.push(new Hi(r.value,o))}return e.filter(r=>!n.has(r))}function rg(t){return t.data||{}}function Bv(t){return t.resolve||{}}function $D(t){return"string"==typeof t.title||null===t.title}function ig(t){return(0,Jr.w)(e=>{const n=t(e);return n?(0,Ln.D)(n).pipe((0,qt.U)(()=>e)):(0,Je.of)(e)})}const ls=new p.OlP("ROUTES");let ds=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,p.f3M)(p.Sil)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return(0,Je.of)(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const o=bi(r.loadComponent()).pipe((0,qt.U)(HD),(0,dr.b)(l=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=l}),Fp(()=>{this.componentLoaders.delete(r)})),u=new Np(o,()=>new ga.x).pipe(Jy());return this.componentLoaders.set(r,u),u}loadChildren(r,o){if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return(0,Je.of)({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);const l=this.loadModuleFactoryOrRoutes(o.loadChildren).pipe((0,qt.U)(y=>{this.onLoadEndListener&&this.onLoadEndListener(o);let _,I;return Array.isArray(y)?I=y:(_=y.create(r).injector,I=_.get(ls,[],p.XFs.Self|p.XFs.Optional).flat()),{routes:I.map(Nu),injector:_}}),Fp(()=>{this.childrenLoaders.delete(o)})),f=new Np(l,()=>new ga.x).pipe(Jy());return this.childrenLoaders.set(o,f),f}loadModuleFactoryOrRoutes(r){return bi(r()).pipe((0,qt.U)(HD),(0,li.z)(o=>o instanceof p.YKP||Array.isArray(o)?(0,Je.of)(o):(0,Ln.D)(this.compiler.compileModuleAsync(o))))}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function HD(t){return function sl(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let sg=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ga.x,this.transitionAbortSubject=new ga.x,this.configLoader=(0,p.f3M)(ds),this.environmentInjector=(0,p.f3M)(p.lqb),this.urlSerializer=(0,p.f3M)(fh),this.rootContexts=(0,p.f3M)(Au),this.inputBindingEnabled=null!==(0,p.f3M)(Cv,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Je.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=u=>this.events.next(new CD(u)),this.configLoader.onLoadStartListener=u=>this.events.next(new ED(u))}complete(){this.transitions?.complete()}handleNavigationRequest(r){const o=++this.navigationId;this.transitions?.next({...this.transitions.value,...r,id:o})}setupNavigations(r,o,u){return this.transitions=new Ui.X({id:0,currentUrlTree:o,currentRawUrl:o,currentBrowserUrl:o,extractedUrl:r.urlHandlingStrategy.extract(o),urlAfterRedirects:r.urlHandlingStrategy.extract(o),rawUrl:o,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:yh,restoredState:null,currentSnapshot:u.snapshot,targetSnapshot:null,currentRouterState:u,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ma(l=>0!==l.id),(0,qt.U)(l=>({...l,extractedUrl:r.urlHandlingStrategy.extract(l.rawUrl)})),(0,Jr.w)(l=>{this.currentTransition=l;let f=!1,y=!1;return(0,Je.of)(l).pipe((0,dr.b)(_=>{this.currentNavigation={id:_.id,initialUrl:_.rawUrl,extractedUrl:_.extractedUrl,trigger:_.source,extras:_.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Jr.w)(_=>{const I=_.currentBrowserUrl.toString(),S=!r.navigated||_.extractedUrl.toString()!==I||I!==_.currentUrlTree.toString();if(!S&&"reload"!==(_.extras.onSameUrlNavigation??r.onSameUrlNavigation)){const R="";return this.events.next(new Rt(_.id,this.urlSerializer.serialize(_.rawUrl),R,0)),_.resolve(null),Vs.E}if(r.urlHandlingStrategy.shouldProcessUrl(_.rawUrl))return(0,Je.of)(_).pipe((0,Jr.w)(R=>{const J=this.transitions?.getValue();return this.events.next(new pv(R.id,this.urlSerializer.serialize(R.extractedUrl),R.source,R.restoredState)),J!==this.transitions?.getValue()?Vs.E:Promise.resolve(R)}),function BD(t,e,n,r,o,u){return(0,li.z)(l=>function XM(t,e,n,r,o,u,l="emptyOnly"){return new hr(t,e,n,r,o,l,u).recognize()}(t,e,n,r,l.extractedUrl,o,u).pipe((0,qt.U)(({state:f,tree:y})=>({...l,targetSnapshot:f,urlAfterRedirects:y}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,r.paramsInheritanceStrategy),(0,dr.b)(R=>{l.targetSnapshot=R.targetSnapshot,l.urlAfterRedirects=R.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:R.urlAfterRedirects};const J=new gv(R.id,this.urlSerializer.serialize(R.extractedUrl),this.urlSerializer.serialize(R.urlAfterRedirects),R.targetSnapshot);this.events.next(J)}));if(S&&r.urlHandlingStrategy.shouldProcessUrl(_.currentRawUrl)){const{id:R,extractedUrl:J,source:me,restoredState:Ie,extras:et}=_,nt=new pv(R,this.urlSerializer.serialize(J),me,Ie);this.events.next(nt);const ze=qp(0,this.rootComponentType).snapshot;return this.currentTransition=l={..._,targetSnapshot:ze,urlAfterRedirects:J,extras:{...et,skipLocationChange:!1,replaceUrl:!1}},(0,Je.of)(l)}{const R="";return this.events.next(new Rt(_.id,this.urlSerializer.serialize(_.extractedUrl),R,1)),_.resolve(null),Vs.E}}),(0,dr.b)(_=>{const I=new wD(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(I)}),(0,qt.U)(_=>(this.currentTransition=l={..._,guards:WM(_.targetSnapshot,_.currentSnapshot,this.rootContexts)},l)),function RD(t,e){return(0,li.z)(n=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:l}}=n;return 0===l.length&&0===u.length?(0,Je.of)({...n,guardsResult:!0}):function yS(t,e,n,r){return(0,Ln.D)(t).pipe((0,li.z)(o=>function ZM(t,e,n,r,o){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!u||0===u.length)return(0,Je.of)(!0);const l=u.map(f=>{const y=Ih(e)??o,_=Io(f,y);return bi(function KM(t){return t&&wa(t.canDeactivate)}(_)?_.canDeactivate(t,e,n,r):y.runInContext(()=>_(t,e,n,r))).pipe(ya())});return(0,Je.of)(l).pipe(rl())}(o.component,o.route,n,e,r)),ya(o=>!0!==o,!0))}(l,r,o,t).pipe((0,li.z)(f=>f&&function fS(t){return"boolean"==typeof t}(f)?function vS(t,e,n,r){return(0,Ln.D)(e).pipe(Kc(o=>Xy(function PD(t,e){return null!==t&&e&&e(new $p(t)),(0,Je.of)(!0)}(o.route.parent,r),function _S(t,e){return null!==t&&e&&e(new yv(t)),(0,Je.of)(!0)}(o.route,r),function Ov(t,e,n){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(l=>function dS(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(l)).filter(l=>null!==l).map(l=>rD(()=>{const f=l.guards.map(y=>{const _=Ih(l.node)??n,I=Io(y,_);return bi(function OD(t){return t&&wa(t.canActivateChild)}(I)?I.canActivateChild(r,t):_.runInContext(()=>I(r,t))).pipe(ya())});return(0,Je.of)(f).pipe(rl())}));return(0,Je.of)(u).pipe(rl())}(t,o.path,n),function FD(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,Je.of)(!0);const o=r.map(u=>rD(()=>{const l=Ih(e)??n,f=Io(u,l);return bi(function pS(t){return t&&wa(t.canActivate)}(f)?f.canActivate(e,t):l.runInContext(()=>f(e,t))).pipe(ya())}));return(0,Je.of)(o).pipe(rl())}(t,o.route,n))),ya(o=>!0!==o,!0))}(r,u,t,e):(0,Je.of)(f)),(0,qt.U)(f=>({...n,guardsResult:f})))})}(this.environmentInjector,_=>this.events.next(_)),(0,dr.b)(_=>{if(l.guardsResult=_.guardsResult,Eo(_.guardsResult))throw bD(0,_.guardsResult);const I=new mv(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot,!!_.guardsResult);this.events.next(I)}),ma(_=>!!_.guardsResult||(this.cancelNavigationTransition(_,"",3),!1)),ig(_=>{if(_.guards.canActivateChecks.length)return(0,Je.of)(_).pipe((0,dr.b)(I=>{const S=new DD(I.id,this.urlSerializer.serialize(I.extractedUrl),this.urlSerializer.serialize(I.urlAfterRedirects),I.targetSnapshot);this.events.next(S)}),(0,Jr.w)(I=>{let S=!1;return(0,Je.of)(I).pipe(function TS(t,e){return(0,li.z)(n=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=n;if(!o.length)return(0,Je.of)(n);let u=0;return(0,Ln.D)(o).pipe(Kc(l=>function jD(t,e,n,r){const o=t.routeConfig,u=t._resolve;return void 0!==o?.title&&!$D(o)&&(u[Zc]=o.title),function UD(t,e,n,r){const o=function AS(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===o.length)return(0,Je.of)({});const u={};return(0,Ln.D)(o).pipe((0,li.z)(l=>function MS(t,e,n,r){const o=Ih(e)??r,u=Io(t,o);return bi(u.resolve?u.resolve(e,n):o.runInContext(()=>u(e,n)))}(t[l],e,n,r).pipe(ya(),(0,dr.b)(f=>{u[l]=f}))),Rp(1),function Pp(t){return(0,qt.U)(()=>t)}(u),va(l=>Pu(l)?Vs.E:pa(l)))}(u,t,e,r).pipe((0,qt.U)(l=>(t._resolvedData=l,t.data=_v(t,n).resolve,o&&$D(o)&&(t.data[Zc]=o.title),null)))}(l.route,r,t,e)),(0,dr.b)(()=>u++),Rp(1),(0,li.z)(l=>u===o.length?(0,Je.of)(n):Vs.E))})}(r.paramsInheritanceStrategy,this.environmentInjector),(0,dr.b)({next:()=>S=!0,complete:()=>{S||this.cancelNavigationTransition(I,"",2)}}))}),(0,dr.b)(I=>{const S=new sS(I.id,this.urlSerializer.serialize(I.extractedUrl),this.urlSerializer.serialize(I.urlAfterRedirects),I.targetSnapshot);this.events.next(S)}))}),ig(_=>{const I=S=>{const N=[];S.routeConfig?.loadComponent&&!S.routeConfig._loadedComponent&&N.push(this.configLoader.loadComponent(S.routeConfig).pipe((0,dr.b)(R=>{S.component=R}),(0,qt.U)(()=>{})));for(const R of S.children)N.push(...I(R));return N};return Mp(I(_.targetSnapshot.root)).pipe(Cu(),Eu(1))}),ig(()=>this.afterPreactivation()),(0,qt.U)(_=>{const I=function lS(t,e,n){const r=Eh(t,e._root,n?n._root:void 0);return new wh(r,e)}(r.routeReuseStrategy,_.targetSnapshot,_.currentRouterState);return this.currentTransition=l={..._,targetRouterState:I},l}),(0,dr.b)(()=>{this.events.next(new Gp)}),((t,e,n,r)=>(0,qt.U)(o=>(new AD(e,o.targetRouterState,o.currentRouterState,n,r).activate(t),o)))(this.rootContexts,r.routeReuseStrategy,_=>this.events.next(_),this.inputBindingEnabled),Eu(1),(0,dr.b)({next:_=>{f=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Tu(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects))),r.titleStrategy?.updateTitle(_.targetRouterState.snapshot),_.resolve(!0)},complete:()=>{f=!0}}),function lh(t){return(0,$i.e)((e,n)=>{(0,xc.Xf)(t).subscribe((0,br.x)(n,()=>n.complete(),tv.Z)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe((0,dr.b)(_=>{throw _}))),Fp(()=>{f||y||this.cancelNavigationTransition(l,"",1),this.currentNavigation?.id===l.id&&(this.currentNavigation=null)}),va(_=>{if(y=!0,xu(_))this.events.next(new Co(l.id,this.urlSerializer.serialize(l.extractedUrl),_.message,_.cancellationCode)),function Iv(t){return xu(t)&&Eo(t.url)}(_)?this.events.next(new zp(_.url)):l.resolve(!1);else{this.events.next(new _a(l.id,this.urlSerializer.serialize(l.extractedUrl),_,l.targetSnapshot??void 0));try{l.resolve(r.errorHandler(_))}catch(I){l.reject(I)}}return Vs.E}))}))}cancelNavigationTransition(r,o,u){const l=new Co(r.id,this.urlSerializer.serialize(r.extractedUrl),o,u);this.events.next(l),r.resolve(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function jv(t){return t!==yh}let og=(()=>{var t;class e{buildTitle(r){let o,u=r.root;for(;void 0!==u;)o=this.getResolvedTitleForRoute(u)??o,u=u.children.find(l=>l.outlet===Dt);return o}getResolvedTitleForRoute(r){return r.data[Zc]}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=p.Yz7({token:t,factory:function(){return(0,p.f3M)(bh)},providedIn:"root"}),e})(),bh=(()=>{var t;class e extends og{constructor(r){super(),this.title=r}updateTitle(r){const o=this.buildTitle(r);void 0!==o&&this.title.setTitle(o)}}return(t=e).\u0275fac=function(r){return new(r||t)(p.LFG(Jf))},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),GD=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=p.Yz7({token:t,factory:function(){return(0,p.f3M)(Uv)},providedIn:"root"}),e})();class ex{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let Uv=(()=>{var t;class e extends ex{}return(t=e).\u0275fac=function(){let n;return function(o){return(n||(n=p.n5z(t)))(o||t)}}(),t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const bo=new p.OlP("",{providedIn:"root",factory:()=>({})});let ag=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=p.Yz7({token:t,factory:function(){return(0,p.f3M)(zD)},providedIn:"root"}),e})(),zD=(()=>{var t;class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,o){return r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var ol=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(ol||{});function qD(t,e){t.events.pipe(ma(n=>n instanceof Tu||n instanceof Co||n instanceof _a||n instanceof Rt),(0,qt.U)(n=>n instanceof Tu||n instanceof Rt?ol.COMPLETE:n instanceof Co&&(0===n.code||1===n.code)?ol.REDIRECTING:ol.FAILED),ma(n=>n!==ol.REDIRECTING),Eu(1)).subscribe(()=>{e()})}function xS(t){throw t}function NS(t,e,n){return e.parse("/")}const OS={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},WD={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Gi=(()=>{var t;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,p.f3M)(p.c2e),this.isNgZoneEnabled=!1,this._events=new ga.x,this.options=(0,p.f3M)(bo,{optional:!0})||{},this.pendingTasks=(0,p.f3M)(p.HDt),this.errorHandler=this.options.errorHandler||xS,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||NS,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,p.f3M)(ag),this.routeReuseStrategy=(0,p.f3M)(GD),this.titleStrategy=(0,p.f3M)(og),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,p.f3M)(ls,{optional:!0})?.flat()??[],this.navigationTransitions=(0,p.f3M)(sg),this.urlSerializer=(0,p.f3M)(fh),this.location=(0,p.f3M)(Ze),this.componentInputBindingEnabled=!!(0,p.f3M)(Cv,{optional:!0}),this.eventsSubscription=new uh.w0,this.isNgZoneEnabled=(0,p.f3M)(p.R0b)instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new bu,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=qp(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(r=>{this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(o=>{try{const{currentTransition:u}=this.navigationTransitions;if(null===u)return void(PS(o)&&this._events.next(o));if(o instanceof pv)jv(u.source)&&(this.browserUrlTree=u.extractedUrl);else if(o instanceof Rt)this.rawUrlTree=u.rawUrl;else if(o instanceof gv){if("eager"===this.urlUpdateStrategy){if(!u.extras.skipLocationChange){const l=this.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl);this.setBrowserUrl(l,u)}this.browserUrlTree=u.urlAfterRedirects}}else if(o instanceof Gp)this.currentUrlTree=u.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl),this.routerState=u.targetRouterState,"deferred"===this.urlUpdateStrategy&&(u.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,u),this.browserUrlTree=u.urlAfterRedirects);else if(o instanceof Co)0!==o.code&&1!==o.code&&(this.navigated=!0),(3===o.code||2===o.code)&&this.restoreHistory(u);else if(o instanceof zp){const l=this.urlHandlingStrategy.merge(o.url,u.currentRawUrl),f={skipLocationChange:u.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||jv(u.source)};this.scheduleNavigation(l,yh,null,f,{resolve:u.resolve,reject:u.reject,promise:u.promise})}o instanceof _a&&this.restoreHistory(u,!0),o instanceof Tu&&(this.navigated=!0),PS(o)&&this._events.next(o)}catch(u){this.navigationTransitions.transitionAbortSubject.next(u)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const r=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),yh,r)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const o="popstate"===r.type?"popstate":"hashchange";"popstate"===o&&setTimeout(()=>{this.navigateToSyncWithBrowser(r.url,o,r.state)},0)}))}navigateToSyncWithBrowser(r,o,u){const l={replaceUrl:!0},f=u?.navigationId?u:null;if(u){const _={...u};delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(l.state=_)}const y=this.parseUrl(r);this.scheduleNavigation(y,o,f,l)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Nu),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,o={}){const{relativeTo:u,queryParams:l,fragment:f,queryParamsHandling:y,preserveFragment:_}=o,I=_?this.currentUrlTree.fragment:f;let N,S=null;switch(y){case"merge":S={...this.currentUrlTree.queryParams,...l};break;case"preserve":S=this.currentUrlTree.queryParams;break;default:S=l||null}null!==S&&(S=this.removeEmptyProps(S));try{N=nS(u?u.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),N=this.currentUrlTree.root}return cv(N,r,S,I??null)}navigateByUrl(r,o={skipLocationChange:!1}){const u=Eo(r)?r:this.parseUrl(r),l=this.urlHandlingStrategy.merge(u,this.rawUrlTree);return this.scheduleNavigation(l,yh,null,o)}navigate(r,o={skipLocationChange:!1}){return function RS(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new p.vHH(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,o),o)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let o;try{o=this.urlSerializer.parse(r)}catch(u){o=this.malformedUriErrorHandler(u,this.urlSerializer,r)}return o}isActive(r,o){let u;if(u=!0===o?{...OS}:!1===o?{...WD}:o,Eo(r))return zb(this.currentUrlTree,r,u);const l=this.parseUrl(r);return zb(this.currentUrlTree,l,u)}removeEmptyProps(r){return Object.keys(r).reduce((o,u)=>{const l=r[u];return null!=l&&(o[u]=l),o},{})}scheduleNavigation(r,o,u,l,f){if(this.disposed)return Promise.resolve(!1);let y,_,I;f?(y=f.resolve,_=f.reject,I=f.promise):I=new Promise((N,R)=>{y=N,_=R});const S=this.pendingTasks.add();return qD(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(S))}),this.navigationTransitions.handleNavigationRequest({source:o,restoredState:u,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:r,extras:l,resolve:y,reject:_,promise:I,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),I.catch(N=>Promise.reject(N))}setBrowserUrl(r,o){const u=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(u)||o.extras.replaceUrl){const f={...o.extras.state,...this.generateNgRouterState(o.id,this.browserPageId)};this.location.replaceState(u,"",f)}else{const l={...o.extras.state,...this.generateNgRouterState(o.id,this.browserPageId+1)};this.location.go(u,"",l)}}restoreHistory(r,o=!1){if("computed"===this.canceledNavigationResolution){const l=this.currentPageId-this.browserPageId;0!==l?this.location.historyGo(l):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===l&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,o){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:o}:{navigationId:r}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function PS(t){return!(t instanceof Gp||t instanceof zp)}class FS{}let QD=(()=>{var t;class e{constructor(r,o,u,l,f){this.router=r,this.injector=u,this.preloadingStrategy=l,this.loader=f}setUpPreloading(){this.subscription=this.router.events.pipe(ma(r=>r instanceof Tu),Kc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,o){const u=[];for(const l of o){l.providers&&!l._injector&&(l._injector=(0,p.MMx)(l.providers,r,`Route: ${l.path}`));const f=l._injector??r,y=l._loadedInjector??f;(l.loadChildren&&!l._loadedRoutes&&void 0===l.canLoad||l.loadComponent&&!l._loadedComponent)&&u.push(this.preloadConfig(f,l)),(l.children||l._loadedRoutes)&&u.push(this.processRoutes(y,l.children??l._loadedRoutes))}return(0,Ln.D)(u).pipe((0,ah.J)())}preloadConfig(r,o){return this.preloadingStrategy.preload(o,()=>{let u;u=o.loadChildren&&void 0===o.canLoad?this.loader.loadChildren(r,o):(0,Je.of)(null);const l=u.pipe((0,li.z)(f=>null===f?(0,Je.of)(void 0):(o._loadedRoutes=f.routes,o._loadedInjector=f.injector,this.processRoutes(f.injector??r,f.routes))));if(o.loadComponent&&!o._loadedComponent){const f=this.loader.loadComponent(o);return(0,Ln.D)([l,f]).pipe((0,ah.J)())}return l})}}return(t=e).\u0275fac=function(r){return new(r||t)(p.LFG(Gi),p.LFG(p.Sil),p.LFG(p.lqb),p.LFG(FS),p.LFG(ds))},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const ug=new p.OlP("");let XD=(()=>{var t;class e{constructor(r,o,u,l,f={}){this.urlSerializer=r,this.transitions=o,this.viewportScroller=u,this.zone=l,this.options=f,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},f.scrollPositionRestoration=f.scrollPositionRestoration||"disabled",f.anchorScrolling=f.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof pv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Tu?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof Rt&&0===r.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Hp&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,o){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Hp(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){p.$Z()},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac}),e})();function ot(t,e){return{\u0275kind:t,\u0275providers:e}}function eE(){const t=(0,p.f3M)(p.zs3);return e=>{const n=t.get(p.z2F);if(e!==n.components[0])return;const r=t.get(Gi),o=t.get(Th);1===t.get(Ea)&&r.initialNavigation(),t.get(cg,null,p.XFs.Optional)?.setUpPreloading(),t.get(ug,null,p.XFs.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const Th=new p.OlP("",{factory:()=>new ga.x}),Ea=new p.OlP("",{providedIn:"root",factory:()=>1}),cg=new p.OlP("");function zv(t){return ot(0,[{provide:cg,useExisting:QD},{provide:FS,useExisting:t}])}const rE=new p.OlP("ROUTER_FORROOT_GUARD"),iE=[Ze,{provide:fh,useClass:nv},Gi,Au,{provide:Mu,useFactory:function Hv(t){return t.routerState.root},deps:[Gi]},ds,[]];function $S(){return new p.PXZ("Router",Gi)}let sE=(()=>{var t;class e{constructor(r){}static forRoot(r,o){return{ngModule:e,providers:[iE,[],{provide:ls,multi:!0,useValue:r},{provide:rE,useFactory:aE,deps:[[Gi,new p.FiY,new p.tp0]]},{provide:bo,useValue:o||{}},o?.useHash?{provide:pe,useClass:_t}:{provide:pe,useClass:ht},{provide:ug,useFactory:()=>{const t=(0,p.f3M)(vn),e=(0,p.f3M)(p.R0b),n=(0,p.f3M)(bo),r=(0,p.f3M)(sg),o=(0,p.f3M)(fh);return n.scrollOffset&&t.setOffset(n.scrollOffset),new XD(o,r,t,e,n)}},o?.preloadingStrategy?zv(o.preloadingStrategy).\u0275providers:[],{provide:p.PXZ,multi:!0,useFactory:$S},o?.initialNavigation?zS(o):[],o?.bindToComponentInputs?ot(8,[cS,{provide:Cv,useExisting:cS}]).\u0275providers:[],[{provide:uE,useFactory:eE},{provide:p.tb,multi:!0,useExisting:uE}]]}}static forChild(r){return{ngModule:e,providers:[{provide:ls,multi:!0,useValue:r}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(p.LFG(rE,8))},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({}),e})();function aE(t){return"guarded"}function zS(t){return["disabled"===t.initialNavigation?ot(3,[{provide:p.ip1,multi:!0,useFactory:()=>{const e=(0,p.f3M)(Gi);return()=>{e.setUpLocationChangeListener()}}},{provide:Ea,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?ot(2,[{provide:Ea,useValue:0},{provide:p.ip1,multi:!0,deps:[p.zs3],useFactory:e=>{const n=e.get(ye,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const o=e.get(Gi),u=e.get(Th);qD(o,()=>{r(!0)}),e.get(sg).afterPreactivation=()=>(r(!0),u.closed?(0,Je.of)(void 0):u),o.initialNavigation()}))}}]).\u0275providers:[]]}const uE=new p.OlP(""),qv=new p.OlP("AnimeService");function WS(t,e){if(1&t){const n=p.EpF();p.TgZ(0,"button",2),p.NdJ("click",function(){p.CHM(n);const o=p.oxw();return p.KtG(o.login())}),p._uU(1,"Login"),p.qZA()}}function lE(t,e){if(1&t){const n=p.EpF();p.TgZ(0,"button",2),p.NdJ("click",function(){p.CHM(n);const o=p.oxw();return p.KtG(o.logout())}),p._uU(1,"Logout"),p.qZA()}}let dE=(()=>{var t;class e{constructor(){this.title="EienOtaku",this.isLoggedIn=!1}login(){this.isLoggedIn=!0}logout(){this.isLoggedIn=!1}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-root"]],decls:6,vars:3,consts:[[1,"header"],[3,"click",4,"ngIf"],[3,"click"]],template:function(r,o){1&r&&(p.TgZ(0,"div",0)(1,"h1"),p._uU(2),p.qZA(),p.YNc(3,WS,2,0,"button",1),p.YNc(4,lE,2,0,"button",1),p.qZA(),p._UZ(5,"router-outlet")),2&r&&(p.xp6(2),p.Oqu(o.title),p.xp6(1),p.Q6J("ngIf",!o.isLoggedIn),p.xp6(1),p.Q6J("ngIf",o.isLoggedIn))},dependencies:[ki,Dh],styles:[".App[_ngcontent-%COMP%]{text-align:center;padding:20px;background-color:#1e1e1e;color:#fff}h1[_ngcontent-%COMP%]{font-size:24px;margin-top:20px}"]}),e})();function KS(t,e){if(1&t&&(p.TgZ(0,"div",3),p._UZ(1,"img",4),p.TgZ(2,"h2"),p._uU(3),p.qZA(),p.TgZ(4,"p"),p._uU(5),p.qZA(),p.TgZ(6,"body"),p._UZ(7,"app-root"),p.qZA()()),2&t){const n=e.$implicit;p.xp6(1),p.s9C("alt",n.title),p.Q6J("src",n.imageUrl,p.LSH),p.xp6(2),p.Oqu(n.title),p.xp6(2),p.Oqu(n.description)}}let Wv=(()=>{var t;class e{constructor(r){this.animeService=r}ngOnInit(){this.topAnimes$=(0,Ln.D)(this.animeService.getTopRatedAnimes())}}return(t=e).\u0275fac=function(r){return new(r||t)(p.Y36(qv))},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-home"]],decls:7,vars:3,consts:[[1,"App"],[1,"anime-list"],["class","anime",4,"ngFor","ngForOf"],[1,"anime"],[3,"src","alt"]],template:function(r,o){1&r&&(p.TgZ(0,"div",0)(1,"h1"),p._uU(2,"Bem-vindo ao EienOtaku!"),p.qZA(),p._UZ(3,"router-outlet"),p.TgZ(4,"div",1),p.YNc(5,KS,8,4,"div",2),p.ALo(6,"async"),p.qZA()()),2&r&&(p.xp6(5),p.Q6J("ngForOf",p.lcZ(6,1,o.topAnimes$)))},dependencies:[qo,Dh,dE,yd],styles:[".App[_ngcontent-%COMP%]{text-align:center;padding:20px;color:#fff}h1[_ngcontent-%COMP%]{font-size:24px;margin-top:20px}.anime-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:20px}.anime[_ngcontent-%COMP%]{background-color:#333;padding:10px;border-radius:5px;box-shadow:0 2px 4px #0000001a}.anime[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto;border-radius:5px}.anime[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px;margin:10px 0}.anime[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}"]}),e})(),Kv=(()=>{var t;class e{constructor(){this.loggedInUser=null}registerUser(r,o,u,l){return u!==l?(0,Je.of)(!1):(this.loggedInUser={id:1,username:r,email:o,profileImageUrl:"user123.jpg",animeList:[]},(0,Je.of)(!0))}loginUser(r,o){return this.isLoggedIn()?(0,Je.of)(!0):"user123"===r&&"password123"===o?(this.loggedInUser={id:1,username:r,email:"user123@example.com",profileImageUrl:"user123.jpg",animeList:[]},(0,Je.of)(!0)):(0,Je.of)(!1)}logoutUser(){this.loggedInUser=null}isLoggedIn(){return null!==this.loggedInUser}getLoggedInUser(){return(0,Je.of)(this.loggedInUser)}markAnime(r,o){return this.isLoggedIn()&&this.loggedInUser.animeList.push({title:r,status:o}),(0,Je.of)()}getMarkedAnimes(){return this.isLoggedIn()?(0,Je.of)(this.loggedInUser.animeList):(0,Je.of)([])}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac}),e})();function ZS(t,e){if(1&t&&(p.TgZ(0,"li"),p._uU(1),p.qZA()),2&t){const n=e.$implicit;p.xp6(1),p.AsE("",n.title," - Status: ",n.status,"")}}function YS(t,e){if(1&t&&(p.TgZ(0,"ul",6),p.YNc(1,ZS,2,2,"li",7),p.qZA()),2&t){const n=e.ngIf;p.xp6(1),p.Q6J("ngForOf",n)}}let QS=(()=>{var t;class e{constructor(r){this.userService=r,this.loggedInUser=null,this.markedAnimes$=null}ngOnInit(){this.loggedInUser=this.userService.getLoggedInUser(),this.markedAnimes$=this.userService.getMarkedAnimes()}}return(t=e).\u0275fac=function(r){return new(r||t)(p.Y36(Kv))},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-user-profile"]],decls:19,vars:6,consts:[[1,"user-profile"],[1,"user-info"],[1,"profile-image"],["alt","Imagem de Perfil",3,"src"],[1,"profile-details"],["class","anime-list",4,"ngIf"],[1,"anime-list"],[4,"ngFor","ngForOf"]],template:function(r,o){1&r&&(p.TgZ(0,"div",0)(1,"h2"),p._uU(2,"Perfil do Usu\xe1rio"),p.qZA(),p.TgZ(3,"div",1)(4,"div",2),p._UZ(5,"img",3),p.qZA(),p.TgZ(6,"div",4)(7,"p")(8,"strong"),p._uU(9,"Nome de Usu\xe1rio:"),p.qZA(),p._uU(10),p.qZA(),p.TgZ(11,"p")(12,"strong"),p._uU(13,"Email:"),p.qZA(),p._uU(14),p.qZA()()(),p.TgZ(15,"h3"),p._uU(16,"Animes Marcados"),p.qZA(),p.YNc(17,YS,2,1,"ul",5),p.ALo(18,"async"),p.qZA()),2&r&&(p.xp6(5),p.Q6J("src",o.loggedInUser.profileImageUrl,p.LSH),p.xp6(5),p.hij(" ",o.loggedInUser.username,""),p.xp6(4),p.hij(" ",o.loggedInUser.email,""),p.xp6(3),p.Q6J("ngIf",p.lcZ(18,4,o.markedAnimes$)))},dependencies:[qo,ki,yd],styles:[".user-profile[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;padding:20px;background-color:#1e1e1e;border-radius:10px;box-shadow:0 4px 8px #0003;color:#fff}.user-profile[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;margin-bottom:20px}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:20px}.profile-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;margin-right:20px}.anime-list[_ngcontent-%COMP%]{list-style:none;padding:0}.anime-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;margin-bottom:6px}"]}),e})();function XS(t,e){if(1&t&&(p.TgZ(0,"div",2)(1,"h2"),p._uU(2),p.qZA(),p._UZ(3,"img",3),p.TgZ(4,"p"),p._uU(5),p.qZA(),p.TgZ(6,"p"),p._uU(7),p.qZA()()),2&t){const n=p.oxw();p.xp6(2),p.Oqu(n.anime.title),p.xp6(1),p.s9C("alt",n.anime.title),p.Q6J("src",n.anime.image,p.LSH),p.xp6(2),p.Oqu(n.anime.description),p.xp6(2),p.hij("Data de Lan\xe7amento: ",n.anime.releaseDate,"")}}function Bs(t,e){1&t&&(p.TgZ(0,"div"),p._uU(1,"Anime n\xe3o encontrado."),p.qZA())}let Zv=(()=>{var t;class e{constructor(r,o){this.animeService=r,this.route=o}ngOnInit(){var r=this;return(0,B.Z)(function*(){const o=r.route.snapshot.paramMap.get("id");o?(r.anime=yield r.animeService.getAnimeDetails(+o),r.anime||console.error("Anime n\xe3o encontrado.")):console.error("ID do anime n\xe3o fornecido.")})()}}return(t=e).\u0275fac=function(r){return new(r||t)(p.Y36(qv),p.Y36(Mu))},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-anime-details"]],decls:2,vars:2,consts:[["class","anime-details",4,"ngIf"],[4,"ngIf"],[1,"anime-details"],[3,"src","alt"]],template:function(r,o){1&r&&(p.YNc(0,XS,8,5,"div",0),p.YNc(1,Bs,2,0,"div",1)),2&r&&(p.Q6J("ngIf",o.anime),p.xp6(1),p.Q6J("ngIf",!o.anime))},dependencies:[ki],styles:[".anime-details[_ngcontent-%COMP%]{text-align:center;padding:20px;color:#fff}.anime-details[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;border-radius:5px;box-shadow:0 2px 4px #0003}.anime-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;margin-top:10px}.anime-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;margin-top:10px}.anime-details[_ngcontent-%COMP%]   .not-found[_ngcontent-%COMP%]{font-size:20px;margin-top:20px;color:red}"]}),e})();function JS(t,e){1&t&&(p.TgZ(0,"div",15),p._uU(1," O nome de usu\xe1rio \xe9 obrigat\xf3rio. "),p.qZA())}function hE(t,e){1&t&&(p.TgZ(0,"div",15),p._uU(1," O email \xe9 obrigat\xf3rio. "),p.qZA())}function eT(t,e){1&t&&(p.TgZ(0,"div",15),p._uU(1," Insira um email v\xe1lido. "),p.qZA())}function fE(t,e){1&t&&(p.TgZ(0,"div",15),p._uU(1," A senha \xe9 obrigat\xf3ria. "),p.qZA())}function pE(t,e){1&t&&(p.TgZ(0,"div",15),p._uU(1," A senha deve conter pelo menos uma letra mai\xfascula, uma min\xfascula, um n\xfamero e um caractere especial, e ter pelo menos 8 caracteres. "),p.qZA())}function lg(t,e){1&t&&(p.TgZ(0,"div",15),p._uU(1," A confirma\xe7\xe3o de senha \xe9 obrigat\xf3ria. "),p.qZA())}function Yv(t,e){1&t&&(p.TgZ(0,"div",15),p._uU(1," As senhas n\xe3o coincidem. "),p.qZA())}function sx(t,e){1&t&&(p.TgZ(0,"div",15),p._uU(1," O ID \xe9 obrigat\xf3rio. "),p.qZA())}function gE(t,e){1&t&&(p.TgZ(0,"div",15),p._uU(1," O ID deve ter entre 3 e 16 caracteres. "),p.qZA())}function mE(t,e){if(1&t&&(p.TgZ(0,"div",15),p._uU(1),p.qZA()),2&t){const n=p.oxw();p.xp6(1),p.hij(" ",n.registrationError," ")}}const Qv=[{path:"home",component:Wv},{path:"user",component:QS},{path:"register",component:(()=>{var t;class e{constructor(r,o,u){this.fb=r,this.router=o,this.userService=u,this.registrationError="",this.registrationForm=this.fb.group({username:["",Yr.required],email:["",[Yr.required,Yr.email]],password:["",[Yr.required,Yr.pattern(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/)]],confirmPassword:["",Yr.required],userId:["",[Yr.required,Yr.minLength(3),Yr.maxLength(16)]]},{validators:this.passwordsMatchValidator()})}registerUser(){if(this.registrationForm.valid){const r=this.registrationForm.get("username")?.value,o=this.registrationForm.get("email")?.value,u=this.registrationForm.get("password")?.value;this.userService.registerUser(r,o,u,u)?this.router.navigate(["/user"]):this.registrationError="O registro falhou. Por favor, verifique suas informa\xe7\xf5es."}}passwordsMatchValidator(){return r=>{const o=r.get("password"),u=r.get("confirmPassword");return o&&u&&o.value!==u.value?{passwordMismatch:!0}:null}}}return(t=e).\u0275fac=function(r){return new(r||t)(p.Y36(Vb),p.Y36(Gi),p.Y36(Kv))},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-user-registration"]],decls:36,vars:11,consts:[[1,"registration"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","username"],["type","text","id","username","formControlName","username",1,"form-control"],["class","error-message",4,"ngIf"],["for","email"],["type","email","id","email","formControlName","email",1,"form-control"],["for","password"],["type","password","id","password","formControlName","password",1,"form-control"],["for","confirmPassword"],["type","password","id","confirmPassword","formControlName","confirmPassword",1,"form-control"],["for","userId"],["type","text","id","userId","formControlName","userId",1,"form-control"],["type","submit",1,"btn","btn-primary"],[1,"error-message"]],template:function(r,o){if(1&r&&(p.TgZ(0,"div",0)(1,"h2"),p._uU(2,"Cadastro de Usu\xe1rio"),p.qZA(),p.TgZ(3,"form",1),p.NdJ("ngSubmit",function(){return o.registerUser()}),p.TgZ(4,"div",2)(5,"label",3),p._uU(6,"Nome de Usu\xe1rio:"),p.qZA(),p._UZ(7,"input",4),p.YNc(8,JS,2,0,"div",5),p.qZA(),p.TgZ(9,"div",2)(10,"label",6),p._uU(11,"Email:"),p.qZA(),p._UZ(12,"input",7),p.YNc(13,hE,2,0,"div",5),p.YNc(14,eT,2,0,"div",5),p.qZA(),p.TgZ(15,"div",2)(16,"label",8),p._uU(17,"Senha:"),p.qZA(),p._UZ(18,"input",9),p.YNc(19,fE,2,0,"div",5),p.YNc(20,pE,2,0,"div",5),p.qZA(),p.TgZ(21,"div",2)(22,"label",10),p._uU(23,"Confirma\xe7\xe3o de Senha:"),p.qZA(),p._UZ(24,"input",11),p.YNc(25,lg,2,0,"div",5),p.YNc(26,Yv,2,0,"div",5),p.qZA(),p.TgZ(27,"div",2)(28,"label",12),p._uU(29,"ID \xdanico:"),p.qZA(),p._UZ(30,"input",13),p.YNc(31,sx,2,0,"div",5),p.YNc(32,gE,2,0,"div",5),p.qZA(),p.YNc(33,mE,2,1,"div",5),p.TgZ(34,"button",14),p._uU(35,"Cadastrar"),p.qZA()()()),2&r){let u,l,f,y,_,I,S,N,R;p.xp6(3),p.Q6J("formGroup",o.registrationForm),p.xp6(5),p.Q6J("ngIf",(null==(u=o.registrationForm.get("username"))?null:u.hasError("required"))&&(null==(u=o.registrationForm.get("username"))?null:u.touched)),p.xp6(5),p.Q6J("ngIf",(null==(l=o.registrationForm.get("email"))?null:l.hasError("required"))&&(null==(l=o.registrationForm.get("email"))?null:l.touched)),p.xp6(1),p.Q6J("ngIf",(null==(f=o.registrationForm.get("email"))?null:f.hasError("email"))&&(null==(f=o.registrationForm.get("email"))?null:f.touched)),p.xp6(5),p.Q6J("ngIf",(null==(y=o.registrationForm.get("password"))?null:y.hasError("required"))&&(null==(y=o.registrationForm.get("password"))?null:y.touched)),p.xp6(1),p.Q6J("ngIf",(null==(_=o.registrationForm.get("password"))?null:_.hasError("pattern"))&&(null==(_=o.registrationForm.get("password"))?null:_.touched)),p.xp6(5),p.Q6J("ngIf",(null==(I=o.registrationForm.get("confirmPassword"))?null:I.hasError("required"))&&(null==(I=o.registrationForm.get("confirmPassword"))?null:I.touched)),p.xp6(1),p.Q6J("ngIf",(null==o.registrationForm?null:o.registrationForm.hasError("passwordMismatch"))&&(null==(S=o.registrationForm.get("confirmPassword"))?null:S.touched)),p.xp6(5),p.Q6J("ngIf",(null==(N=o.registrationForm.get("userId"))?null:N.hasError("required"))&&(null==(N=o.registrationForm.get("userId"))?null:N.touched)),p.xp6(1),p.Q6J("ngIf",((null==(R=o.registrationForm.get("userId"))?null:R.hasError("minlength"))||(null==(R=o.registrationForm.get("userId"))?null:R.hasError("maxlength")))&&(null==(R=o.registrationForm.get("userId"))?null:R.touched)),p.xp6(1),p.Q6J("ngIf",o.registrationError)}},dependencies:[ki,L,Oc,pp,Kd,ss,q0],styles:[".registration[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;padding:20px;background-color:#1e1e1e;border-radius:10px;box-shadow:0 4px 8px #0003;color:#fff}.registration[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;margin-bottom:20px}.registration[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px;display:block;margin-bottom:6px}.registration[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px;margin-bottom:16px;border:1px solid #505050;border-radius:6px;background-color:#282828;color:#fff}.registration[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#f60}.registration[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.error-message[_ngcontent-%COMP%]{color:#f33;font-size:14px;margin-top:4px}.registration[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#f60;color:#fff;border:none;padding:10px 20px;border-radius:6px;font-size:16px;cursor:pointer;transition:background-color .3s ease}.registration[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ff8000}"]}),e})()},{path:"anime",component:Zv},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",component:(()=>{var t;class e{constructor(){}ngOnInit(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-pagina-nao-encontrada"]],decls:2,vars:0,template:function(r,o){1&r&&(p.TgZ(0,"p"),p._uU(1,"pagina-nao-encontrada works!"),p.qZA())}}),e})()}];let So=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({imports:[sE.forRoot(Qv),sE]}),e})();var rT=x(7922),al=x(8566);x(4097);var Le,Mh=x(7592),vE=x(4537),ul=x(7879),Jv=x(9058),xh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},hs={},e_=e_||{},yt=xh||self;function gg(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Nh(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var t_="closure_uid_"+(1e9*Math.random()>>>0),_E=0;function n_(t,e,n){return t.call.apply(t.bind,arguments)}function dT(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),t.apply(e,o)}}return function(){return t.apply(e,arguments)}}function Yn(t,e,n){return(Yn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?n_:dT).apply(null,arguments)}function mg(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function fr(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,o,u){for(var l=Array(arguments.length-2),f=2;f<arguments.length;f++)l[f-2]=arguments[f];return e.prototype[o].apply(r,l)}}function Ca(){this.s=this.s,this.o=this.o}Ca.prototype.s=!1,Ca.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function lT(t){Object.prototype.hasOwnProperty.call(t,t_)&&t[t_]||(t[t_]=++_E)}(this)},Ca.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const wE=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function r_(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function DE(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(gg(r)){const o=t.length||0,u=r.length||0;t.length=o+u;for(let l=0;l<u;l++)t[o+l]=r[l]}else t.push(r)}}function Ar(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ar.prototype.h=function(){this.defaultPrevented=!0};var EE=function(){if(!yt.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{yt.addEventListener("test",()=>{},e),yt.removeEventListener("test",()=>{},e)}catch{}return t}();function Oh(t){return/^[\s\xa0]*$/.test(t)}function i_(){var t=yt.navigator;return t&&(t=t.userAgent)?t:""}function fs(t){return-1!=i_().indexOf(t)}function yg(t){return yg[" "](t),t}yg[" "]=function(){};var pr,t,vg=fs("Opera"),cl=fs("Trident")||fs("MSIE"),CE=fs("Edge"),Rh=CE||cl,IE=fs("Gecko")&&!(-1!=i_().toLowerCase().indexOf("webkit")&&!fs("Edge"))&&!(fs("Trident")||fs("MSIE"))&&!fs("Edge"),js=-1!=i_().toLowerCase().indexOf("webkit")&&!fs("Edge");function ll(){var t=yt.document;return t?t.documentMode:void 0}e:{var To="",dl=(t=i_(),IE?/rv:([^\);]+)(\)|;)/.exec(t):CE?/Edge\/([\d\.]+)/.exec(t):cl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):js?/WebKit\/(\S+)/.exec(t):vg?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(dl&&(To=dl?dl[1]:""),cl){var di=ll();if(null!=di&&di>parseFloat(To)){pr=String(di);break e}}pr=To}var hl=yt.document&&cl&&(ll()||parseInt(pr,10))||void 0;function Us(t,e){if(Ar.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(IE){e:{try{yg(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:fl[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Us.$.h.call(this)}}fr(Us,Ar);var fl={2:"touch",3:"pen",4:"mouse"};Us.prototype.h=function(){Us.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var $s="closure_listenable_"+(1e6*Math.random()|0),pl=0;function gl(t,e,n,r,o){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=o,this.key=++pl,this.fa=this.ia=!1}function Ao(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Ia(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function s_(t){const e={};for(const n in t)e[n]=t[n];return e}const o_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function a_(t,e){let n,r;for(let o=1;o<arguments.length;o++){for(n in r=arguments[o],r)t[n]=r[n];for(let u=0;u<o_.length;u++)n=o_[u],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Fh(t){this.src=t,this.g={},this.h=0}function _g(t,e){var n=e.type;if(n in t.g){var u,r=t.g[n],o=wE(r,e);(u=0<=o)&&Array.prototype.splice.call(r,o,1),u&&(Ao(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function wg(t,e,n,r){for(var o=0;o<t.length;++o){var u=t[o];if(!u.fa&&u.listener==e&&u.capture==!!n&&u.la==r)return o}return-1}Fh.prototype.add=function(t,e,n,r,o){var u=t.toString();(t=this.g[u])||(t=this.g[u]=[],this.h++);var l=wg(t,e,r,o);return-1<l?(e=t[l],n||(e.ia=!1)):((e=new gl(e,this.src,u,!!r,o)).ia=n,t.push(e)),e};var Dg="closure_lm_"+(1e6*Math.random()|0),Eg={};function Cg(t,e,n,r,o){if(r&&r.once)return fT(t,e,n,r,o);if(Array.isArray(e)){for(var u=0;u<e.length;u++)Cg(t,e[u],n,r,o);return null}return n=l_(n),t&&t[$s]?t.O(e,n,Nh(r)?!!r.capture:!!r,o):SE(t,e,n,!1,r,o)}function SE(t,e,n,r,o,u){if(!e)throw Error("Invalid event type");var l=Nh(o)?!!o.capture:!!o,f=AE(t);if(f||(t[Dg]=f=new Fh(t)),(n=f.add(e,n,r,l,u)).proxy)return n;if(r=function hx(){const e=gT;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)EE||(o=l),void 0===o&&(o=!1),t.addEventListener(e.toString(),r,o);else if(t.attachEvent)t.attachEvent(pT(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function fT(t,e,n,r,o){if(Array.isArray(e)){for(var u=0;u<e.length;u++)fT(t,e[u],n,r,o);return null}return n=l_(n),t&&t[$s]?t.P(e,n,Nh(r)?!!r.capture:!!r,o):SE(t,e,n,!0,r,o)}function TE(t,e,n,r,o){if(Array.isArray(e))for(var u=0;u<e.length;u++)TE(t,e[u],n,r,o);else r=Nh(r)?!!r.capture:!!r,n=l_(n),t&&t[$s]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=wg(u=t.g[e],n,r,o))&&(Ao(u[n]),Array.prototype.splice.call(u,n,1),0==u.length&&(delete t.g[e],t.h--))):t&&(t=AE(t))&&(e=t.g[e.toString()],t=-1,e&&(t=wg(e,n,r,o)),(n=-1<t?e[t]:null)&&u_(n))}function u_(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[$s])_g(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(pT(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=AE(e))?(_g(n,t),0==n.h&&(n.src=null,e[Dg]=null)):Ao(t)}}}function pT(t){return t in Eg?Eg[t]:Eg[t]="on"+t}function gT(t,e){if(t.fa)t=!0;else{e=new Us(e,this);var n=t.listener,r=t.la||t.src;t.ia&&u_(t),t=n.call(r,e)}return t}function AE(t){return(t=t[Dg])instanceof Fh?t:null}var c_="__closure_events_fn_"+(1e9*Math.random()>>>0);function l_(t){return"function"==typeof t?t:(t[c_]||(t[c_]=function(e){return t.handleEvent(e)}),t[c_])}function gr(){Ca.call(this),this.i=new Fh(this),this.S=this,this.J=null}function Qn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new Ar(e,t);else if(e instanceof Ar)e.target=e.target||t;else{var o=e;a_(e=new Ar(r,t),o)}if(o=!0,n)for(var u=n.length-1;0<=u;u--){var l=e.g=n[u];o=ba(l,r,!0,e)&&o}if(o=ba(l=e.g=t,r,!0,e)&&o,o=ba(l,r,!1,e)&&o,n)for(u=0;u<n.length;u++)o=ba(l=e.g=n[u],r,!1,e)&&o}function ba(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,u=0;u<e.length;++u){var l=e[u];if(l&&!l.fa&&l.capture==n){var f=l.listener,y=l.la||l.src;l.ia&&_g(t.i,l),o=!1!==f.call(y,r)&&o}}return o&&!r.defaultPrevented}fr(gr,Ca),gr.prototype[$s]=!0,gr.prototype.removeEventListener=function(t,e,n,r){TE(this,t,e,n,r)},gr.prototype.N=function(){if(gr.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ao(n[r]);delete t.g[e],t.h--}}this.J=null},gr.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},gr.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var kh=yt.JSON.stringify;function ME(){var t=h_;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var d_=new class Ig{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new mT,t=>t.reset());class mT{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Vh(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function yT(t){yt.setTimeout(()=>{throw t},0)}let Bh,jh=!1,h_=new class Lh{constructor(){this.h=this.g=null}add(e,n){const r=d_.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},bg=()=>{const t=yt.Promise.resolve(void 0);Bh=()=>{t.then(Sg)}};var Sg=()=>{for(var t;t=ME();){try{t.h.call(t.g)}catch(n){yT(n)}var e=d_;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}jh=!1};function Lu(t,e){gr.call(this),this.h=t||1,this.g=e||yt,this.j=Yn(this.qb,this),this.l=Date.now()}function xE(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function f_(t,e,n){if("function"==typeof t)n&&(t=Yn(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Yn(t.handleEvent,t)}return 2147483647<Number(e)?-1:yt.setTimeout(t,e||0)}function NE(t){t.g=f_(()=>{t.g=null,t.i&&(t.i=!1,NE(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}fr(Lu,gr),(Le=Lu.prototype).ga=!1,Le.T=null,Le.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Qn(this,"tick"),this.ga&&(xE(this),this.start()))}},Le.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Le.N=function(){Lu.$.N.call(this),xE(this),delete this.g};class p_ extends Ca{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:NE(this)}N(){super.N(),this.g&&(yt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Uh(t){Ca.call(this),this.h=t,this.g={}}fr(Uh,Ca);var g_=[];function OE(t,e,n,r){Array.isArray(n)||(n&&(g_[0]=n.toString()),n=g_);for(var o=0;o<n.length;o++){var u=Cg(e,n[o],r||t.handleEvent,!1,t.h||t);if(!u)break;t.g[u.key]=u}}function RE(t){Ia(t.g,function(e,n){this.g.hasOwnProperty(n)&&u_(e)},t),t.g={}}function $h(){this.g=!0}function ml(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function _T(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var l=1;l<o.length;l++)o[l]=""}}}return kh(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Uh.prototype.N=function(){Uh.$.N.call(this),RE(this)},Uh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},$h.prototype.Ea=function(){this.g=!1},$h.prototype.info=function(){};var Vu={},Tg=null;function yl(){return Tg=Tg||new gr}function kE(t){Ar.call(this,Vu.Ta,t)}function Sa(t){const e=yl();Qn(e,new kE(e))}function Hh(t,e){Ar.call(this,Vu.STAT_EVENT,t),this.stat=e}function Mr(t){const e=yl();Qn(e,new Hh(e,t))}function m_(t,e){Ar.call(this,Vu.Ua,t),this.size=e}function Gh(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return yt.setTimeout(function(){t()},e)}Vu.Ta="serverreachability",fr(kE,Ar),Vu.STAT_EVENT="statevent",fr(Hh,Ar),Vu.Ua="timingevent",fr(m_,Ar);var Ag={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},LE={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function zh(){}function y_(){}zh.prototype.h=null;var xg,vl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function v_(){Ar.call(this,"d")}function __(){Ar.call(this,"c")}function _l(){}function wl(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Uh(this),this.P=VE,this.V=new Lu(t=Rh?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ng}function Ng(){this.i=null,this.g="",this.h=!1}fr(v_,Ar),fr(__,Ar),fr(_l,zh),_l.prototype.g=function(){return new XMLHttpRequest},_l.prototype.i=function(){return{}},xg=new _l;var VE=45e3,w_={},qh={};function Og(t,e,n){t.L=1,t.v=Cl(Br(e)),t.s=n,t.S=!0,D_(t,null)}function D_(t,e){t.G=Date.now(),Wh(t),t.A=Br(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),b_(n.i,"t",r),t.C=0,n=t.l.J,t.h=new Ng,t.g=sC(t.l,n?e:null,!t.s),0<t.O&&(t.M=new p_(Yn(t.Pa,t,t.g),t.O)),OE(t.U,t.g,"readystatechange",t.nb),e=t.I?s_(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Sa(),function PE(t,e,n,r,o,u){t.info(function(){if(t.g)if(u)for(var l="",f=u.split("&"),y=0;y<f.length;y++){var _=f[y].split("=");if(1<_.length){var I=_[0];_=_[1];var S=I.split("_");l=2<=S.length&&"type"==S[1]?l+(I+"=")+_+"&":l+(I+"=redacted&")}}else l=null;else l=u;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+n+"\n"+l})}(t.j,t.u,t.A,t.m,t.W,t.s)}function E_(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function BE(t,e,n){let o,r=!0;for(;!t.J&&t.C<n.length;){if(o=wT(t,n),o==qh){4==e&&(t.o=4,Mr(14),r=!1),ml(t.j,t.m,null,"[Incomplete Response]");break}if(o==w_){t.o=4,Mr(15),ml(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}ml(t.j,t.m,o,null),Pg(t,o)}E_(t)&&o!=qh&&o!=w_&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Mr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),j_(e),e.M=!0,Mr(11))):(ml(t.j,t.m,n,"[Invalid Chunked Response]"),Ta(t),El(t))}function wT(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?qh:(n=Number(e.substring(n,r)),isNaN(n)?w_:(r+=1)+n>e.length?qh:(e=e.slice(r,r+n),t.C=r+n,e))}function Wh(t){t.Y=Date.now()+t.P,Rg(t,t.P)}function Rg(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Gh(Yn(t.lb,t),e)}function Dl(t){t.B&&(yt.clearTimeout(t.B),t.B=null)}function El(t){0==t.l.H||t.J||tC(t.l,t)}function Ta(t){Dl(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,xE(t.V),RE(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Pg(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||T_(n.i,t)))if(!t.K&&T_(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;$g(n),Sl(n)}B_(n),Mr(18)}}else n.Fa=o[1],0<n.Fa-n.V&&37500>o[2]&&n.G&&0==n.A&&!n.v&&(n.v=Gh(Yn(n.ib,n),6e3));if(1>=S_(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Uu(n,11)}else if((t.K||n.g==t)&&$g(n),!Oh(e))for(o=n.Ja.g.parse(e),e=0;e<o.length;e++){let _=o[e];if(n.V=_[0],_=_[1],2==n.H)if("c"==_[0]){n.K=_[1],n.pa=_[2];const I=_[3];null!=I&&(n.ra=I,n.l.info("VER="+n.ra));const S=_[4];null!=S&&(n.Ga=S,n.l.info("SVER="+n.Ga));const N=_[5];null!=N&&"number"==typeof N&&0<N&&(n.L=r=1.5*N,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const R=t.g;if(R){const J=R.g?R.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(J){var u=r.i;u.g||-1==J.indexOf("spdy")&&-1==J.indexOf("quic")&&-1==J.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(Vg(u,u.h),u.h=null))}if(r.F){const me=R.g?R.g.getResponseHeader("X-HTTP-Session-Id"):null;me&&(r.Da=me,Wt(r.I,r.F,me))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var l=t;if((r=n).wa=iC(r,r.J?r.pa:null,r.Y),l.K){ST(r.i,l);var f=l,y=r.L;y&&f.setTimeout(y),f.B&&(Dl(f),Wh(f)),r.g=l}else V_(r);0<n.j.length&&tf(n)}else"stop"!=_[0]&&"close"!=_[0]||Uu(n,7);else 3==n.H&&("stop"==_[0]||"close"==_[0]?"stop"==_[0]?Uu(n,7):bl(n):"noop"!=_[0]&&n.h&&n.h.Aa(_),n.A=0)}Sa()}catch{}}function C_(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(gg(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function UE(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(gg(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function jE(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(gg(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),o=r.length,u=0;u<o;u++)e.call(void 0,r[u],n&&n[u],t)}(Le=wl.prototype).setTimeout=function(t){this.P=t},Le.nb=function(t){t=t.target;const e=this.M;e&&3==zs(t)?e.l():this.Pa(t)},Le.Pa=function(t){try{if(t==this.g)e:{const I=zs(this.g);var e=this.g.Ia();if(this.g.da(),!(3>I)&&(3!=I||Rh||this.g&&(this.h.h||this.g.ja()||O_(this.g)))){this.J||4!=I||7==e||Sa(),Dl(this);var n=this.g.da();this.ca=n;t:if(E_(this)){var r=O_(this.g);t="";var o=r.length,u=4==zs(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ta(this),El(this);var l="";break t}this.h.i=new yt.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:u&&e==o-1});r.splice(0,o),this.h.g+=t,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==n,function FE(t,e,n,r,o,u,l){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+n+"\n"+u+" "+l})}(this.j,this.u,this.A,this.m,this.W,I,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var f,y=this.g;if((f=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Oh(f)){var _=f;break t}}_=null}if(!(n=_)){this.i=!1,this.o=3,Mr(12),Ta(this),El(this);break e}ml(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Pg(this,n)}this.S?(BE(this,I,l),Rh&&this.i&&3==I&&(OE(this.U,this.V,"tick",this.mb),this.V.start())):(ml(this.j,this.m,l,null),Pg(this,l)),4==I&&Ta(this),this.i&&!this.J&&(4==I?tC(this.l,this):(this.i=!1,Wh(this)))}else(function XE(t){const e={};t=(t.g&&2<=zs(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Oh(t[r]))continue;var n=Vh(t[r]);const o=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const u=e[o]||[];e[o]=u,u.push(n)}!function bE(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<l.indexOf("Unknown SID")?(this.o=3,Mr(12)):(this.o=0,Mr(13)),Ta(this),El(this)}}}catch{}},Le.mb=function(){if(this.g){var t=zs(this.g),e=this.g.ja();this.C<e.length&&(Dl(this),BE(this,t,e),this.i&&4!=t&&Wh(this))}},Le.cancel=function(){this.J=!0,Ta(this)},Le.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function vT(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Sa(),Mr(17)),Ta(this),this.o=2,El(this)):Rg(this,this.Y-t)};var I_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hs(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Hs){this.h=t.h,Fg(this,t.j),this.s=t.s,this.g=t.g,kg(this,t.m),this.l=t.l;var e=t.i,n=new Sn;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Lg(this,n),this.o=t.o}else t&&(e=String(t).match(I_))?(this.h=!1,Fg(this,e[1]||"",!0),this.s=Kh(e[2]||""),this.g=Kh(e[3]||"",!0),kg(this,e[4]),this.l=Kh(e[5]||"",!0),Lg(this,e[6]||"",!0),this.o=Kh(e[7]||"")):(this.h=!1,this.i=new Sn(null,this.h))}function Br(t){return new Hs(t)}function Fg(t,e,n){t.j=n?Kh(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function kg(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Lg(t,e,n){e instanceof Sn?(t.i=e,function qE(t,e){e&&!t.j&&(Mo(t),t.i=null,t.g.forEach(function(n,r){var o=r.toLowerCase();r!=o&&(GE(this,r),b_(this,o,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Bu(e,HE)),t.i=new Sn(e,t.h))}function Wt(t,e,n){t.i.set(e,n)}function Cl(t){return Wt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Kh(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Bu(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,fx),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function fx(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Hs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Bu(e,DT,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Bu(e,DT,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Bu(n,"/"==n.charAt(0)?CT:ET,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Bu(n,IT)),t.join("")};var DT=/[#\/\?@]/g,ET=/[#\?:]/g,CT=/[#\?]/g,HE=/[#\?@]/g,IT=/#/g;function Sn(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Mo(t){t.g||(t.g=new Map,t.h=0,t.i&&function $E(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),o=null;if(0<=r){var u=t[n].substring(0,r);o=t[n].substring(r+1)}else u=t[n];e(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function GE(t,e){Mo(t),e=Il(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function zE(t,e){return Mo(t),e=Il(t,e),t.g.has(e)}function b_(t,e,n){GE(t,e),0<n.length&&(t.i=null,t.g.set(Il(t,e),r_(n)),t.h+=n.length)}function Il(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function ju(t){this.l=t||bT,t=yt.PerformanceNavigationTiming?0<(t=yt.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(yt.g&&yt.g.Ka&&yt.g.Ka()&&yt.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Le=Sn.prototype).add=function(t,e){Mo(this),this.i=null,t=Il(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},Le.forEach=function(t,e){Mo(this),this.g.forEach(function(n,r){n.forEach(function(o){t.call(e,o,r,this)},this)},this)},Le.ta=function(){Mo(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const o=t[r];for(let u=0;u<o.length;u++)n.push(e[r])}return n},Le.Z=function(t){Mo(this);let e=[];if("string"==typeof t)zE(this,t)&&(e=e.concat(this.g.get(Il(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},Le.set=function(t,e){return Mo(this),this.i=null,zE(this,t=Il(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},Le.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},Le.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const u=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var o=u;""!==l[r]&&(o+="="+encodeURIComponent(String(l[r]))),t.push(o)}}return this.i=t.join("&")};var bT=10;function KE(t){return!!t.h||!!t.g&&t.g.size>=t.j}function S_(t){return t.h?1:t.g?t.g.size:0}function T_(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Vg(t,e){t.g?t.g.add(e):t.h=e}function ST(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function A_(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return r_(t.i)}ju.prototype.cancel=function(){if(this.i=A_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var M_=class{stringify(t){return yt.JSON.stringify(t,void 0)}parse(t){return yt.JSON.parse(t,void 0)}};function Gs(){this.g=new M_}function TT(t,e,n){const r=n||"";try{C_(t,function(o,u){let l=o;Nh(o)&&(l=kh(o)),e.push(r+u+"="+encodeURIComponent(l))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function Mi(t,e,n,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch{}}function ti(t){this.l=t.fc||null,this.j=t.ob||!1}function hi(t,e){gr.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Bg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}fr(ti,zh),ti.prototype.g=function(){return new hi(this.l,this.j)},ti.prototype.i=function(t){return function(){return t}}({}),fr(hi,gr);var Bg=0;function x_(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Zh(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Yh(t)}function Yh(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(Le=hi.prototype).open=function(t,e){if(this.readyState!=Bg)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Yh(this)},Le.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||yt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Le.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Zh(this)),this.readyState=Bg},Le.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Yh(this)),this.g&&(this.readyState=3,Yh(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof yt.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;x_(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},Le.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Zh(this):Yh(this),3==this.readyState&&x_(this)}},Le.Za=function(t){this.g&&(this.response=this.responseText=t,Zh(this))},Le.Ya=function(t){this.g&&(this.response=t,Zh(this))},Le.ka=function(){this.g&&Zh(this)},Le.setRequestHeader=function(t,e){this.v.append(t,e)},Le.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},Le.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(hi.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var MT=yt.JSON.parse;function xn(t){gr.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=jg,this.L=this.M=!1}fr(xn,gr);var jg="",Qh=/^https?$/i,xT=["POST","PUT"];function YE(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,QE(t),Xh(t)}function QE(t){t.F||(t.F=!0,Qn(t,"complete"),Qn(t,"error"))}function N_(t){if(t.h&&typeof e_<"u"&&(!t.C[1]||4!=zs(t)||2!=t.da()))if(t.v&&4==zs(t))f_(t.La,0,t);else if(Qn(t,"readystatechange"),4==zs(t)){t.h=!1;try{const l=t.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===l){var o=String(t.I).match(I_)[1]||null;!o&&yt.self&&yt.self.location&&(o=yt.self.location.protocol.slice(0,-1)),r=!Qh.test(o?o.toLowerCase():"")}n=r}if(n)Qn(t,"complete"),Qn(t,"success");else{t.m=6;try{var u=2<zs(t)?t.g.statusText:""}catch{u=""}t.j=u+" ["+t.da()+"]",QE(t)}}finally{Xh(t)}}}function Xh(t,e){if(t.g){Jh(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Qn(t,"ready");try{n.onreadystatechange=r}catch{}}}function Jh(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(yt.clearTimeout(t.A),t.A=null)}function zs(t){return t.g?t.g.readyState:0}function O_(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case jg:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function R_(t){let e="";return Ia(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function P_(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=R_(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Wt(t,e,n))}function ef(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Ug(t){this.Ga=0,this.j=[],this.l=new $h,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ef("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ef("baseRetryDelayMs",5e3,t),this.hb=ef("retryDelaySeedMs",1e4,t),this.eb=ef("forwardChannelMaxRetries",2,t),this.xa=ef("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new ju(t&&t.concurrentRequestLimit),this.Ja=new Gs,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function bl(t){if(F_(t),3==t.H){var e=t.W++,n=Br(t.I);if(Wt(n,"SID",t.K),Wt(n,"RID",e),Wt(n,"TYPE","terminate"),Tl(t,n),(e=new wl(t,t.l,e)).L=2,e.v=Cl(Br(n)),n=!1,yt.navigator&&yt.navigator.sendBeacon)try{n=yt.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&yt.Image&&((new Image).src=e.v,n=!0),n||(e.g=sC(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Wh(e)}rC(t)}function Sl(t){t.g&&(j_(t),t.g.cancel(),t.g=null)}function F_(t){Sl(t),t.u&&(yt.clearTimeout(t.u),t.u=null),$g(t),t.i.cancel(),t.m&&("number"==typeof t.m&&yt.clearTimeout(t.m),t.m=null)}function tf(t){if(!KE(t.i)&&!t.m){t.m=!0;var e=t.Na;Bh||bg(),jh||(Bh(),jh=!0),h_.add(e,t),t.C=0}}function k_(t,e){var n;n=e?e.m:t.W++;const r=Br(t.I);Wt(r,"SID",t.K),Wt(r,"RID",n),Wt(r,"AID",t.V),Tl(t,r),t.o&&t.s&&P_(r,t.o,t.s),n=new wl(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=L_(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Vg(t.i,n),Og(n,r,e)}function Tl(t,e){t.na&&Ia(t.na,function(n,r){Wt(e,r,n)}),t.h&&C_({},function(n,r){Wt(e,r,n)})}function L_(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Yn(t.h.Va,t.h,t):null;e:{var o=t.j;let u=-1;for(;;){const l=["count="+n];-1==u?0<n?(u=o[0].g,l.push("ofs="+u)):u=0:l.push("ofs="+u);let f=!0;for(let y=0;y<n;y++){let _=o[y].g;const I=o[y].map;if(_-=u,0>_)u=Math.max(0,o[y].g-100),f=!1;else try{TT(I,l,"req"+_+"_")}catch{r&&r(I)}}if(f){r=l.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function V_(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Bh||bg(),jh||(Bh(),jh=!0),h_.add(e,t),t.A=0}}function B_(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Gh(Yn(t.Ma,t),nC(t,t.A)),t.A++,0))}function j_(t){null!=t.B&&(yt.clearTimeout(t.B),t.B=null)}function eC(t){t.g=new wl(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Br(t.wa);Wt(e,"RID","rpc"),Wt(e,"SID",t.K),Wt(e,"AID",t.V),Wt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Wt(e,"TO",t.qa),Wt(e,"TYPE","xmlhttp"),Tl(t,e),t.o&&t.s&&P_(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Cl(Br(e)),n.s=null,n.S=!0,D_(n,t)}function $g(t){null!=t.v&&(yt.clearTimeout(t.v),t.v=null)}function tC(t,e){var n=null;if(t.g==e){$g(t),j_(t),t.g=null;var r=2}else{if(!T_(t.i,e))return;n=e.F,ST(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var o=t.C;Qn(r=yl(),new m_(r,n)),tf(t)}else V_(t);else if(3==(o=e.o)||0==o&&0<e.ca||!(1==r&&function JE(t,e){return!(S_(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Gh(Yn(t.Na,t,e),nC(t,t.C)),t.C++,0)))}(t,e)||2==r&&B_(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),o){case 1:Uu(t,5);break;case 4:Uu(t,10);break;case 3:Uu(t,6);break;default:Uu(t,2)}}function nC(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Uu(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=Yn(t.pb,t);n||(n=new Hs("//www.google.com/images/cleardot.gif"),yt.location&&"http"==yt.location.protocol||Fg(n,"https"),Cl(n)),function AT(t,e){const n=new $h;if(yt.Image){const r=new Image;r.onload=mg(Mi,n,r,"TestLoadImage: loaded",!0,e),r.onerror=mg(Mi,n,r,"TestLoadImage: error",!1,e),r.onabort=mg(Mi,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=mg(Mi,n,r,"TestLoadImage: timeout",!1,e),yt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Mr(2);t.H=0,t.h&&t.h.za(e),rC(t),F_(t)}function rC(t){if(t.H=0,t.ma=[],t.h){const e=A_(t.i);(0!=e.length||0!=t.j.length)&&(DE(t.ma,e),DE(t.ma,t.j),t.i.i.length=0,r_(t.j),t.j.length=0),t.h.ya()}}function iC(t,e,n){var r=n instanceof Hs?Br(n):new Hs(n);if(""!=r.g)e&&(r.g=e+"."+r.g),kg(r,r.m);else{var o=yt.location;r=o.protocol,e=e?e+"."+o.hostname:o.hostname,o=+o.port;var u=new Hs(null);r&&Fg(u,r),e&&(u.g=e),o&&kg(u,o),n&&(u.l=n),r=u}return e=t.Da,(n=t.F)&&e&&Wt(r,n,e),Wt(r,"VER",t.ra),Tl(t,r),r}function sC(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new xn(n&&t.Ha&&!t.va?new ti({ob:!0}):t.va)).Oa(t.J),e}function oC(){}function Hg(){if(cl&&!(10<=Number(hl)))throw Error("Environmental error: no available transport.")}function xi(t,e){gr.call(this),this.g=new Ug(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Oh(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Oh(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Al(this)}function aC(t){v_.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function uC(){__.call(this),this.status=1}function Al(t){this.g=t}function ps(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Gg(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var o=0;16>o;++o)r[o]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(o=0;16>o;++o)r[o]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var u=t.g[3],l=(e=t.g[0])+(u^(n=t.g[1])&((o=t.g[2])^u))+r[0]+3614090360&4294967295;l=(n=(o=(u=(e=(n=(o=(u=(e=(n=(o=(u=(e=(n=(o=(u=(e=(n=(o=(u=(e=(n=(o=(u=(e=(n=(o=(u=(e=(n=(o=(u=(e=(n=(o=(u=(e=(n=(o=(u=(e=(n=(o=(u=(e=(n=(o=(u=(e=(n=(o=(u=(e=(n=(o=(u=(e=(n=(o=(u=(e=n+(l<<7&4294967295|l>>>25))+((l=u+(o^e&(n^o))+r[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=o+(n^u&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=n+(e^o&(u^e))+r[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^n&(o^u))+r[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=u+(o^e&(n^o))+r[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=o+(n^u&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=n+(e^o&(u^e))+r[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^n&(o^u))+r[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=u+(o^e&(n^o))+r[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=o+(n^u&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=n+(e^o&(u^e))+r[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^n&(o^u))+r[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=u+(o^e&(n^o))+r[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=o+(n^u&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=n+(e^o&(u^e))+r[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(o^u&(n^o))+r[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=u+(n^o&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=o+(e^n&(u^e))+r[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=n+(u^e&(o^u))+r[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(o^u&(n^o))+r[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=u+(n^o&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=o+(e^n&(u^e))+r[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=n+(u^e&(o^u))+r[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(o^u&(n^o))+r[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=u+(n^o&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=o+(e^n&(u^e))+r[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=n+(u^e&(o^u))+r[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(o^u&(n^o))+r[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=u+(n^o&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=o+(e^n&(u^e))+r[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=n+(u^e&(o^u))+r[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(n^o^u)+r[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^n^o)+r[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=o+(u^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=n+(o^u^e)+r[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(n^o^u)+r[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^n^o)+r[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=o+(u^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=n+(o^u^e)+r[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(n^o^u)+r[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^n^o)+r[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=o+(u^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=n+(o^u^e)+r[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(n^o^u)+r[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^n^o)+r[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=o+(u^e^n)+r[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=n+(o^u^e)+r[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(o^(n|~u))+r[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=u+(n^(e|~o))+r[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=o+(e^(u|~n))+r[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=n+(u^(o|~e))+r[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(o^(n|~u))+r[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=u+(n^(e|~o))+r[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=o+(e^(u|~n))+r[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=n+(u^(o|~e))+r[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(o^(n|~u))+r[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=u+(n^(e|~o))+r[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=o+(e^(u|~n))+r[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=n+(u^(o|~e))+r[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((u=(e=n+((l=e+(o^(n|~u))+r[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=u+(n^(e|~o))+r[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((o=u+((l=o+(e^(u|~n))+r[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(o+(l<<21&4294967295|l>>>11))&4294967295,t.g[2]=t.g[2]+o&4294967295,t.g[3]=t.g[3]+u&4294967295}function Qt(t,e){this.h=e;for(var n=[],r=!0,o=t.length-1;0<=o;o--){var u=0|t[o];r&&u==e||(n[o]=u,r=!1)}this.g=n}(Le=xn.prototype).Oa=function(t){this.M=t},Le.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():xg.g(),this.C=function Mg(t){return t.h||(t.h=t.i())}(this.u?this.u:xg),this.g.onreadystatechange=Yn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(u){return void YE(this,u)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())n.set(u,r.get(u))}r=Array.from(n.keys()).find(u=>"content-type"==u.toLowerCase()),o=yt.FormData&&t instanceof yt.FormData,!(0<=wE(xT,e))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,l]of n)this.g.setRequestHeader(u,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Jh(this),0<this.B&&((this.L=function ZE(t){return cl&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Yn(this.ua,this)):this.A=f_(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(u){YE(this,u)}},Le.ua=function(){typeof e_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Qn(this,"timeout"),this.abort(8))},Le.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Qn(this,"complete"),Qn(this,"abort"),Xh(this))},Le.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Xh(this,!0)),xn.$.N.call(this)},Le.La=function(){this.s||(this.G||this.v||this.l?N_(this):this.kb())},Le.kb=function(){N_(this)},Le.isActive=function(){return!!this.g},Le.da=function(){try{return 2<zs(this)?this.g.status:-1}catch{return-1}},Le.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Le.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),MT(e)}},Le.Ia=function(){return this.m},Le.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Le=Ug.prototype).ra=8,Le.H=1,Le.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const o=new wl(this,this.l,t);let u=this.s;if(this.U&&(u?(u=s_(u),a_(u,this.U)):u=this.U),null!==this.o||this.O||(o.I=u,u=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=L_(this,o,e),Wt(n=Br(this.I),"RID",t),Wt(n,"CVER",22),this.F&&Wt(n,"X-HTTP-Session-Id",this.F),Tl(this,n),u&&(this.O?e="headers="+encodeURIComponent(String(R_(u)))+"&"+e:this.o&&P_(n,this.o,u)),Vg(this.i,o),this.bb&&Wt(n,"TYPE","init"),this.P?(Wt(n,"$req",e),Wt(n,"SID","null"),o.aa=!0,Og(o,n,null)):Og(o,n,e),this.H=2}}else 3==this.H&&(t?k_(this,t):0==this.j.length||KE(this.i)||k_(this))},Le.Ma=function(){if(this.u=null,eC(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Gh(Yn(this.jb,this),t)}},Le.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Mr(10),Sl(this),eC(this))},Le.ib=function(){null!=this.v&&(this.v=null,Sl(this),B_(this),Mr(19))},Le.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Mr(2)):(this.l.info("Failed to ping google.com"),Mr(1))},Le.isActive=function(){return!!this.h&&this.h.isActive(this)},(Le=oC.prototype).Ba=function(){},Le.Aa=function(){},Le.za=function(){},Le.ya=function(){},Le.isActive=function(){return!0},Le.Va=function(){},Hg.prototype.g=function(t,e){return new xi(t,e)},fr(xi,gr),xi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Mr(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=iC(t,null,t.Y),tf(t)},xi.prototype.close=function(){bl(this.g)},xi.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=kh(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&tf(e)},xi.prototype.N=function(){this.g.h=null,delete this.j,bl(this.g),delete this.g,xi.$.N.call(this)},fr(aC,v_),fr(uC,__),fr(Al,oC),Al.prototype.Ba=function(){Qn(this.g,"a")},Al.prototype.Aa=function(t){Qn(this.g,new aC(t))},Al.prototype.za=function(t){Qn(this.g,new uC)},Al.prototype.ya=function(){Qn(this.g,"b")},fr(ps,function NT(){this.blockSize=-1}),ps.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ps.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,o=this.h,u=0;u<e;){if(0==o)for(;u<=n;)Gg(this,t,u),u+=this.blockSize;if("string"==typeof t){for(;u<e;)if(r[o++]=t.charCodeAt(u++),o==this.blockSize){Gg(this,r),o=0;break}}else for(;u<e;)if(r[o++]=t[u++],o==this.blockSize){Gg(this,r),o=0;break}}this.h=o,this.i+=e},ps.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var cC={};function zg(t){return-128<=t&&128>t?function dx(t,e){var n=cC;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Qt([0|e],0>e?-1:0)}):new Qt([0|t],0>t?-1:0)}function gs(t){if(isNaN(t)||!isFinite(t))return $u;if(0>t)return xr(gs(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=qg;return new Qt(e,0)}var qg=4294967296,$u=zg(0),Wg=zg(1),$_=zg(16777216);function qs(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function mr(t){return-1==t.h}function xr(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Qt(n,~t.h).add(Wg)}function Kg(t,e){return t.add(xr(e))}function xo(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Zg(t,e){this.g=t,this.h=e}function Ml(t,e){if(qs(e))throw Error("division by zero");if(qs(t))return new Zg($u,$u);if(mr(t))return e=Ml(xr(t),e),new Zg(xr(e.g),xr(e.h));if(mr(e))return e=Ml(t,xr(e)),new Zg(xr(e.g),e.h);if(30<t.g.length){if(mr(t)||mr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Wg,r=e;0>=r.X(t);)n=OT(n),r=OT(r);var o=Hu(n,1),u=Hu(r,1);for(r=Hu(r,2),n=Hu(n,2);!qs(r);){var l=u.add(r);0>=l.X(t)&&(o=o.add(n),u=l),r=Hu(r,1),n=Hu(n,1)}return e=Kg(t,o.R(e)),new Zg(o,e)}for(o=$u;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),l=(u=gs(n)).R(e);mr(l)||0<l.X(t);)l=(u=gs(n-=r)).R(e);qs(u)&&(u=Wg),o=o.add(u),t=Kg(t,l)}return new Zg(o,t)}function OT(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Qt(n,t.h)}function Hu(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,o=[],u=0;u<r;u++)o[u]=0<e?t.D(u+n)>>>e|t.D(u+n+1)<<32-e:t.D(u+n);return new Qt(o,t.h)}(Le=Qt.prototype).ea=function(){if(mr(this))return-xr(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:qg+r)*e,e*=qg}return t},Le.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(qs(this))return"0";if(mr(this))return"-"+xr(this).toString(t);for(var e=gs(Math.pow(t,6)),n=this,r="";;){var o=Ml(n,e).g,u=((0<(n=Kg(n,o.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(qs(n=o))return u+r;for(;6>u.length;)u="0"+u;r=u+r}},Le.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},Le.X=function(t){return mr(t=Kg(this,t))?-1:qs(t)?0:1},Le.abs=function(){return mr(this)?xr(this):this},Le.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,o=0;o<=e;o++){var u=r+(65535&this.D(o))+(65535&t.D(o)),l=(u>>>16)+(this.D(o)>>>16)+(t.D(o)>>>16);r=l>>>16,n[o]=(l&=65535)<<16|(u&=65535)}return new Qt(n,-2147483648&n[n.length-1]?-1:0)},Le.R=function(t){if(qs(this)||qs(t))return $u;if(mr(this))return mr(t)?xr(this).R(xr(t)):xr(xr(this).R(t));if(mr(t))return xr(this.R(xr(t)));if(0>this.X($_)&&0>t.X($_))return gs(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var o=0;o<t.g.length;o++){var u=this.D(r)>>>16,l=65535&this.D(r),f=t.D(o)>>>16,y=65535&t.D(o);n[2*r+2*o]+=l*y,xo(n,2*r+2*o),n[2*r+2*o+1]+=u*y,xo(n,2*r+2*o+1),n[2*r+2*o+1]+=l*f,xo(n,2*r+2*o+1),n[2*r+2*o+2]+=u*f,xo(n,2*r+2*o+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Qt(n,0)},Le.gb=function(t){return Ml(this,t).h},Le.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Qt(n,this.h&t.h)},Le.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Qt(n,this.h|t.h)},Le.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Qt(n,this.h^t.h)},Hg.prototype.createWebChannel=Hg.prototype.g,xi.prototype.send=xi.prototype.u,xi.prototype.open=xi.prototype.m,xi.prototype.close=xi.prototype.close,Ag.NO_ERROR=0,Ag.TIMEOUT=8,Ag.HTTP_ERROR=6,LE.COMPLETE="complete",y_.EventType=vl,vl.OPEN="a",vl.CLOSE="b",vl.ERROR="c",vl.MESSAGE="d",gr.prototype.listen=gr.prototype.O,xn.prototype.listenOnce=xn.prototype.P,xn.prototype.getLastError=xn.prototype.Sa,xn.prototype.getLastErrorCode=xn.prototype.Ia,xn.prototype.getStatus=xn.prototype.da,xn.prototype.getResponseJson=xn.prototype.Wa,xn.prototype.getResponseText=xn.prototype.ja,xn.prototype.send=xn.prototype.ha,xn.prototype.setWithCredentials=xn.prototype.Oa,ps.prototype.digest=ps.prototype.l,ps.prototype.reset=ps.prototype.reset,ps.prototype.update=ps.prototype.j,Qt.prototype.add=Qt.prototype.add,Qt.prototype.multiply=Qt.prototype.R,Qt.prototype.modulo=Qt.prototype.gb,Qt.prototype.compare=Qt.prototype.X,Qt.prototype.toNumber=Qt.prototype.ea,Qt.prototype.toString=Qt.prototype.toString,Qt.prototype.getBits=Qt.prototype.D,Qt.fromNumber=gs,Qt.fromString=function U_(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return xr(U_(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=gs(Math.pow(e,8)),r=$u,o=0;o<t.length;o+=8){var u=Math.min(8,t.length-o),l=parseInt(t.substring(o,o+u),e);8>u?(u=gs(Math.pow(e,u)),r=r.R(u).add(gs(l))):r=(r=r.R(n)).add(gs(l))}return r};var FT,H_,G_,W_,K_,fC,pC,gC,Nl,Y_,Q_,_C,Ol,Rl,wC,DC,X_,J_,IC,bC,TC,rw,Pl,AC,MC,lC=hs.createWebChannelTransport=function(){return new Hg},px=hs.getStatEventTarget=function(){return yl()},Aa=hs.ErrorCode=Ag,RT=hs.EventType=LE,PT=hs.Event=Vu,dC=hs.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},xl=hs.FetchXmlHttpFactory=ti,Yg=hs.WebChannel=y_,Qg=hs.XhrIo=xn,Xg=hs.Md5=ps,Xn=hs.Integer=Qt;const xC="@firebase/firestore";class yr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yr.UNAUTHENTICATED=new yr(null),yr.GOOGLE_CREDENTIALS=new yr("google-credentials-uid"),yr.FIRST_PARTY=new yr("first-party-uid"),yr.MOCK_USER=new yr("mock-user");let sf="9.23.0";const Ma=new ul.Yd("@firebase/firestore");function Jg(){return Ma.logLevel}function Ee(t,...e){if(Ma.logLevel<=ul.in.DEBUG){const n=e.map(em);Ma.debug(`Firestore (${sf}): ${t}`,...n)}}function fn(t,...e){if(Ma.logLevel<=ul.in.ERROR){const n=e.map(em);Ma.error(`Firestore (${sf}): ${t}`,...n)}}function ms(t,...e){if(Ma.logLevel<=ul.in.WARN){const n=e.map(em);Ma.warn(`Firestore (${sf}): ${t}`,...n)}}function em(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function Ue(t="Unexpected state"){const e=`FIRESTORE (${sf}) INTERNAL ASSERTION FAILED: `+t;throw fn(e),new Error(e)}function Ke(t,e){t||Ue()}function Pe(t,e){return t}const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Jv.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Jn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class iw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class NC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(yr.UNAUTHENTICATED))}shutdown(){}}class UT{constructor(e){this.t=e,this.currentUser=yr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let o=this.i;const u=_=>this.i!==o?(o=this.i,n(_)):Promise.resolve();let l=new Jn;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Jn,e.enqueueRetryable(()=>u(this.currentUser))};const f=()=>{const _=l;e.enqueueRetryable((0,B.Z)(function*(){yield _.promise,yield u(r.currentUser)}))},y=_=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(_=>y(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?y(_):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Jn)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ke("string"==typeof r.accessToken),new iw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ke(null===e||"string"==typeof e),new yr(e)}}class $T{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=yr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class sw{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new $T(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(yr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class OC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RC{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=u=>{null!=u.error&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const l=u.token!==this.T;return this.T=u.token,Ee("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const o=u=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?o(u):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ke("string"==typeof n.token),this.T=n.token,new OC(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function HT(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class PC{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const o=HT(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(o[u]%62))}return r}}function pt(t,e){return t<e?-1:t>e?1:0}function Fl(t,e,n){return t.length===e.length&&t.every((r,o)=>n(r,e[o]))}class Tn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new fe(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Tn.fromMillis(Date.now())}static fromDate(e){return Tn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Tn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?pt(this.nanoseconds,e.nanoseconds):pt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Xe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Xe(e)}static min(){return new Xe(new Tn(0,0))}static max(){return new Xe(new Tn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class kl{constructor(e,n,r){void 0===n?n=0:n>e.length&&Ue(),void 0===r?r=e.length-n:r>e.length-n&&Ue(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===kl.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof kl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const u=e.get(o),l=n.get(o);if(u<l)return-1;if(u>l)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Vt extends kl{construct(e,n,r){return new Vt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(o=>o.length>0))}return new Vt(n)}static emptyPath(){return new Vt([])}}const GT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vn extends kl{construct(e,n,r){return new Vn(e,n,r)}static isValidIdentifier(e){return GT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Vn(["__name__"])}static fromServerFormat(e){const n=[];let r="",o=0;const u=()=>{if(0===r.length)throw new fe(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;o<e.length;){const f=e[o];if("\\"===f){if(o+1===e.length)throw new fe(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new fe(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,o+=2}else"`"===f?(l=!l,o++):"."!==f||l?(r+=f,o++):(u(),o++)}if(u(),l)throw new fe(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vn(n)}static emptyPath(){return new Vn([])}}class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(Vt.fromString(e))}static fromName(e){return new Ne(Vt.fromString(e).popFirst(5))}static empty(){return new Ne(Vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Vt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new Vt(e.slice()))}}function kC(t){return new Ni(t.readTime,t.key,-1)}class Ni{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ni(Xe.min(),Ne.empty(),-1)}static max(){return new Ni(Xe.max(),Ne.empty(),-1)}}function af(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=Ne.comparator(t.documentKey,e.documentKey),0!==n?n:pt(t.largestBatchId,e.largestBatchId))}const LC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function fi(t){return(FT=FT||(0,B.Z)(function*(e){if(e.code!==Y.FAILED_PRECONDITION||e.message!==LC)throw e;Ee("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ue(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new q((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof q?n:q.resolve(n)}catch(n){return q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):q.reject(n)}static resolve(e){return new q((n,r)=>{n(e)})}static reject(e){return new q((n,r)=>{r(e)})}static waitFor(e){return new q((n,r)=>{let o=0,u=0,l=!1;e.forEach(f=>{++o,f.next(()=>{++u,l&&u===o&&n()},y=>r(y))}),l=!0,u===o&&n()})}static or(e){let n=q.resolve(!1);for(const r of e)n=n.next(o=>o?q.resolve(o):r());return n}static forEach(e,n){const r=[];return e.forEach((o,u)=>{r.push(n.call(this,o,u))}),this.waitFor(r)}static mapArray(e,n){return new q((r,o)=>{const u=e.length,l=new Array(u);let f=0;for(let y=0;y<u;y++){const _=y;n(e[_]).next(I=>{l[_]=I,++f,f===u&&r(l)},I=>o(I))}})}static doWhile(e,n){return new q((r,o)=>{const u=()=>{!0===e()?n().next(()=>{u()},o):r()};u()})}}function xa(t){return"IndexedDbTransactionError"===t.name}let pi=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=o=>this.ot(o),this.ut=o=>r.writeSequenceNumber(o))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function Bl(t){return null==t}function jl(t){return 0===t&&1/t==-1/0}function aA(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function qu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}class un{constructor(e,n){this.comparator=e,this.root=n||Nr.EMPTY}insert(e,n){return new un(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Nr.BLACK,null,null))}remove(e){return new un(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new om(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new om(this.root,e,this.comparator,!1)}getReverseIterator(){return new om(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new om(this.root,e,this.comparator,!0)}}class om{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?r(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nr{constructor(e,n,r,o,u){this.key=e,this.value=n,this.color=r??Nr.RED,this.left=o??Nr.EMPTY,this.right=u??Nr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,u){return new Nr(e??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,r),null):0===u?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Nr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===n(e,o.key)){if(o.right.isEmpty())return Nr.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ue();const e=this.left.check();if(e!==this.right.check())throw Ue();return e+(this.isRed()?0:1)}}Nr.EMPTY=null,Nr.RED=!0,Nr.BLACK=!1,Nr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue()}get value(){throw Ue()}get color(){throw Ue()}get left(){throw Ue()}get right(){throw Ue()}copy(t,e,n,r,o){return this}insert(t,e,n){return new Nr(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class pn{constructor(e){this.comparator=e,this.data=new un(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ul(this.data.getIterator())}getIteratorFrom(e){return new Ul(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof pn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(0!==this.comparator(o,u))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new pn(this.comparator);return n.data=e,n}}class Ul{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ur{constructor(e){this.fields=e,e.sort(Vn.comparator)}static empty(){return new Ur([])}unionWith(e){let n=new pn(Vn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ur(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class WC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class er{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new WC("Invalid base64 string: "+o):o}}(e);return new er(n)}static fromUint8Array(e){const n=function(r){let o="";for(let u=0;u<r.length;++u)o+=String.fromCharCode(r[u]);return o}(e);return new er(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}er.EMPTY_BYTE_STRING=new er("");const _x=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zi(t){if(Ke(!!t),"string"==typeof t){let e=0;const n=_x.exec(t);if(Ke(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Nn(t.seconds),nanos:Nn(t.nanos)}}function Nn(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function No(t){return"string"==typeof t?er.fromBase64String(t):er.fromUint8Array(t)}function am(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Wu(t){const e=t.mapValue.fields.__previous_value__;return am(e)?Wu(e):e}function Hl(t){const e=zi(t.mapValue.fields.__local_write_time__.timestampValue);return new Tn(e.seconds,e.nanos)}class uA{constructor(e,n,r,o,u,l,f,y,_){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=l,this.autoDetectLongPolling=f,this.longPollingOptions=y,this.useFetchStreams=_}}class Oa{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Oa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Oa&&e.projectId===this.projectId&&e.database===this.database}}const vs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ra(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?am(t)?4:ZC(t)?9007199254740991:10:Ue()}function _s(t,e){if(t===e)return!0;const n=Ra(t);if(n!==Ra(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Hl(t).isEqual(Hl(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const u=zi(r.timestampValue),l=zi(o.timestampValue);return u.seconds===l.seconds&&u.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return o=e,No(t.bytesValue).isEqual(No(o.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,o){return Nn(r.geoPointValue.latitude)===Nn(o.geoPointValue.latitude)&&Nn(r.geoPointValue.longitude)===Nn(o.geoPointValue.longitude)}(t,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Nn(r.integerValue)===Nn(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const u=Nn(r.doubleValue),l=Nn(o.doubleValue);return u===l?jl(u)===jl(l):isNaN(u)&&isNaN(l)}return!1}(t,e);case 9:return Fl(t.arrayValue.values||[],e.arrayValue.values||[],_s);case 10:return function(r,o){const u=r.mapValue.fields||{},l=o.mapValue.fields||{};if(aA(u)!==aA(l))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(void 0===l[f]||!_s(u[f],l[f])))return!1;return!0}(t,e);default:return Ue()}var o}function lf(t,e){return void 0!==(t.values||[]).find(n=>_s(n,e))}function Pa(t,e){if(t===e)return 0;const n=Ra(t),r=Ra(e);if(n!==r)return pt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return pt(t.booleanValue,e.booleanValue);case 2:return function(o,u){const l=Nn(o.integerValue||o.doubleValue),f=Nn(u.integerValue||u.doubleValue);return l<f?-1:l>f?1:l===f?0:isNaN(l)?isNaN(f)?0:-1:1}(t,e);case 3:return pw(t.timestampValue,e.timestampValue);case 4:return pw(Hl(t),Hl(e));case 5:return pt(t.stringValue,e.stringValue);case 6:return function(o,u){const l=No(o),f=No(u);return l.compareTo(f)}(t.bytesValue,e.bytesValue);case 7:return function(o,u){const l=o.split("/"),f=u.split("/");for(let y=0;y<l.length&&y<f.length;y++){const _=pt(l[y],f[y]);if(0!==_)return _}return pt(l.length,f.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,u){const l=pt(Nn(o.latitude),Nn(u.latitude));return 0!==l?l:pt(Nn(o.longitude),Nn(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,u){const l=o.values||[],f=u.values||[];for(let y=0;y<l.length&&y<f.length;++y){const _=Pa(l[y],f[y]);if(_)return _}return pt(l.length,f.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,u){if(o===vs.mapValue&&u===vs.mapValue)return 0;if(o===vs.mapValue)return 1;if(u===vs.mapValue)return-1;const l=o.fields||{},f=Object.keys(l),y=u.fields||{},_=Object.keys(y);f.sort(),_.sort();for(let I=0;I<f.length&&I<_.length;++I){const S=pt(f[I],_[I]);if(0!==S)return S;const N=Pa(l[f[I]],y[_[I]]);if(0!==N)return N}return pt(f.length,_.length)}(t.mapValue,e.mapValue);default:throw Ue()}}function pw(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return pt(t,e);const n=zi(t),r=zi(e),o=pt(n.seconds,r.seconds);return 0!==o?o:pt(n.nanos,r.nanos)}function Oo(t){return gw(t)}function gw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const o=zi(r);return`time(${o.seconds},${o.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?No(t.bytesValue).toBase64():"referenceValue"in t?Ne.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let o="[",u=!0;for(const l of r.values||[])u?u=!1:o+=",",o+=gw(l);return o+"]"}(t.arrayValue):"mapValue"in t?function(r){const o=Object.keys(r.fields||{}).sort();let u="{",l=!0;for(const f of o)l?l=!1:u+=",",u+=`${f}:${gw(r.fields[f])}`;return u+"}"}(t.mapValue):Ue();var e}function lm(t){return!!t&&"integerValue"in t}function Ku(t){return!!t&&"arrayValue"in t}function mw(t){return!!t&&"nullValue"in t}function KC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function df(t){return!!t&&"mapValue"in t}function Gl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return qu(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Gl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Gl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function ZC(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class tr{constructor(e){this.value=e}static empty(){return new tr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!df(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gl(n)}setAll(e){let n=Vn.emptyPath(),r={},o=[];e.forEach((l,f)=>{if(!n.isImmediateParentOf(f)){const y=this.getFieldsMap(n);this.applyChanges(y,r,o),r={},o=[],n=f.popLast()}l?r[f.lastSegment()]=Gl(l):o.push(f.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(e){const n=this.field(e.popLast());df(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _s(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];df(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){qu(n,(o,u)=>e[o]=u);for(const o of r)delete e[o]}clone(){return new tr(Gl(this.value))}}class gn{constructor(e,n,r,o,u,l,f){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=l,this.documentState=f}static newInvalidDocument(e){return new gn(e,0,Xe.min(),Xe.min(),Xe.min(),tr.empty(),0)}static newFoundDocument(e,n,r,o){return new gn(e,1,n,Xe.min(),r,o,0)}static newNoDocument(e,n){return new gn(e,2,n,Xe.min(),Xe.min(),tr.empty(),0)}static newUnknownDocument(e,n){return new gn(e,3,n,Xe.min(),Xe.min(),tr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Xe.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ka{constructor(e,n){this.position=e,this.inclusive=n}}function YC(t,e,n){let r=0;for(let o=0;o<t.position.length;o++){const u=e[o],l=t.position[o];if(r=u.field.isKeyField()?Ne.comparator(Ne.fromName(l.referenceValue),n.key):Pa(l,n.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function QC(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!_s(t.position[n],e.position[n]))return!1;return!0}class Zu{constructor(e,n="asc"){this.field=e,this.dir=n}}function _w(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class ww{}class Pt extends ww{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new zl(e,n,r):"array-contains"===n?new wx(e,r):"in"===n?new bw(e,r):"not-in"===n?new Sw(e,r):"array-contains-any"===n?new Dx(e,r):new Pt(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new lA(e,r):new dA(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Pa(n,this.value)):null!==n&&Ra(this.value)===Ra(n)&&this.matchesComparison(Pa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ue()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Xt extends ww{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Xt(e,n)}matches(e){return Yu(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Yu(t){return"and"===t.op}function fm(t){return function Ew(t){for(const e of t.filters)if(e instanceof Xt)return!1;return!0}(t)&&Yu(t)}function Cw(t){if(t instanceof Pt)return t.field.canonicalString()+t.op.toString()+Oo(t.value);if(fm(t))return t.filters.map(e=>Cw(e)).join(",");{const e=t.filters.map(n=>Cw(n)).join(",");return`${t.op}(${e})`}}function Iw(t,e){return t instanceof Pt?(n=t,(r=e)instanceof Pt&&n.op===r.op&&n.field.isEqual(r.field)&&_s(n.value,r.value)):t instanceof Xt?function(n,r){return r instanceof Xt&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((o,u,l)=>o&&Iw(u,r.filters[l]),!0)}(t,e):void Ue();var n,r}function $r(t){return t instanceof Pt?`${(e=t).field.canonicalString()} ${e.op} ${Oo(e.value)}`:t instanceof Xt?function(e){return e.op.toString()+" {"+e.getFilters().map($r).join(" ,")+"}"}(t):"Filter";var e}class zl extends Pt{constructor(e,n,r){super(e,n,r),this.key=Ne.fromName(r.referenceValue)}matches(e){const n=Ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class lA extends Pt{constructor(e,n){super(e,"in",n),this.keys=hA(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class dA extends Pt{constructor(e,n){super(e,"not-in",n),this.keys=hA(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function hA(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>Ne.fromName(r.referenceValue))}class wx extends Pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ku(n)&&lf(n.arrayValue,this.value)}}class bw extends Pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&lf(this.value.arrayValue,n)}}class Sw extends Pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(lf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!lf(this.value.arrayValue,n)}}class Dx extends Pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ku(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>lf(this.value.arrayValue,r))}}class Ex{constructor(e,n=null,r=[],o=[],u=null,l=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=l,this.endAt=f,this.dt=null}}function JC(t,e=null,n=[],r=[],o=null,u=null,l=null){return new Ex(t,e,n,r,o,u,l)}function ws(t){const e=Pe(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Cw(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),Bl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Oo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Oo(r)).join(",")),e.dt=n}return e.dt}function hf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!_w(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Iw(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!QC(t.startAt,e.startAt)&&QC(t.endAt,e.endAt)}function ql(t){return Ne.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Ro{constructor(e,n=null,r=[],o=[],u=null,l="F",f=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=l,this.startAt=f,this.endAt=y,this.wt=null,this._t=null}}function La(t){return new Ro(t)}function Aw(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function Wl(t){const e=Pe(t);if(null===e.wt){e.wt=[];const n=function Qu(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}(e),r=function Mw(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new Zu(n)),e.wt.push(new Zu(Vn.keyField(),"asc"));else{let o=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(o=!0);if(!o){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Zu(Vn.keyField(),u))}}}return e.wt}function Hr(t){const e=Pe(t);if(!e._t)if("F"===e.limitType)e._t=JC(e.path,e.collectionGroup,Wl(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const u of Wl(e))n.push(new Zu(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new ka(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new ka(e.startAt.position,e.startAt.inclusive):null;e._t=JC(e.path,e.collectionGroup,n,e.filters,e.limit,r,o)}return e._t}function pf(t,e,n){return new Ro(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ks(t,e){return hf(Hr(t),Hr(e))&&t.limitType===e.limitType}function nI(t){return`${ws(Hr(t))}|lt:${t.limitType}`}function gm(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>$r(r)).join(", ")}]`),Bl(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Oo(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Oo(r)).join(",")),`Target(${n})`}(Hr(t))}; limitType=${t.limitType})`}function Xu(t,e){return e.isFoundDocument()&&function(n,r){const o=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):Ne.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(t,e)&&function(n,r){for(const o of Wl(n))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(t,e)&&function(n,r){for(const o of n.filters)if(!o.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(o,u,l){const f=YC(o,u,l);return o.inclusive?f<=0:f<0}(n.startAt,Wl(n),r)||n.endAt&&!function(o,u,l){const f=YC(o,u,l);return o.inclusive?f>=0:f>0}(n.endAt,Wl(n),r)));var n,r}function rI(t){return(e,n)=>{let r=!1;for(const o of Wl(t)){const u=Cx(o,e,n);if(0!==u)return u;r=r||o.field.isKeyField()}return 0}}function Cx(t,e,n){const r=t.field.isKeyField()?Ne.comparator(e.key,n.key):function(o,u,l){const f=u.data.field(o),y=l.data.field(o);return null!==f&&null!==y?Pa(f,y):Ue()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ue()}}class Po{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[o,u]of r)if(this.equalsFn(o,e))return u}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){qu(this.inner,(n,r)=>{for(const[o,u]of r)e(o,u)})}isEmpty(){return function fw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(this.inner)}size(){return this.innerSize}}const pA=new un(Ne.comparator);function gi(){return pA}const Nw=new un(Ne.comparator);function Kl(...t){let e=Nw;for(const n of t)e=e.insert(n.key,n);return e}function iI(t){let e=Nw;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ds(){return gf()}function Ow(){return gf()}function gf(){return new Po(t=>t.toString(),(t,e)=>t.isEqual(e))}new un(Ne.comparator);const sI=new pn(Ne.comparator);function Et(...t){let e=sI;for(const n of t)e=e.add(n);return e}const oI=new pn(pt);class ym{constructor(){this._=void 0}}function Ix(t,e,n){return t instanceof mf?function(r,o){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&am(o)&&(o=Wu(o)),o&&(u.fields.__previous_value__=o),{mapValue:u}}(n,e):t instanceof Zl?yA(t,e):t instanceof Yl?vA(t,e):function(r,o){const u=function mA(t,e){return t instanceof yf?lm(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}(r,o),l=_A(u)+_A(r.gt);return lm(u)&&lm(r.gt)?function Pw(t){return{integerValue:""+t}}(l):function Rw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jl(e)?"-0":e}}(r.serializer,l)}(t,e)}function uI(t,e,n){return t instanceof Zl?yA(t,e):t instanceof Yl?vA(t,e):n}class mf extends ym{}class Zl extends ym{constructor(e){super(),this.elements=e}}function yA(t,e){const n=wA(e);for(const r of t.elements)n.some(o=>_s(o,r))||n.push(r);return{arrayValue:{values:n}}}class Yl extends ym{constructor(e){super(),this.elements=e}}function vA(t,e){let n=wA(e);for(const r of t.elements)n=n.filter(o=>!_s(o,r));return{arrayValue:{values:n}}}class yf extends ym{constructor(e,n){super(),this.serializer=e,this.gt=n}}function _A(t){return Nn(t.integerValue||t.doubleValue)}function wA(t){return Ku(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class _n{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _n}static exists(e){return new _n(void 0,e)}static updateTime(e){return new _n(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ju(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class kw{}function DA(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new ko(t.key,_n.none()):new Xl(t.key,t.data,_n.none());{const n=t.data,r=tr.empty();let o=new pn(Vn.comparator);for(let u of e.fields)if(!o.has(u)){let l=n.field(u);null===l&&u.length>1&&(u=u.popLast(),l=n.field(u)),null===l?r.delete(u):r.set(u,l),o=o.add(u)}return new Fo(t.key,r,new Ur(o.toArray()),_n.none())}}function bx(t,e,n){t instanceof Xl?function(r,o,u){const l=r.value.clone(),f=hI(r.fieldTransforms,o,u.transformResults);l.setAll(f),o.convertToFoundDocument(u.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Fo?function(r,o,u){if(!Ju(r.precondition,o))return void o.convertToUnknownDocument(u.version);const l=hI(r.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(EA(r)),f.setAll(l),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function vf(t,e,n,r){return t instanceof Xl?function(o,u,l,f){if(!Ju(o.precondition,u))return l;const y=o.value.clone(),_=Jl(o.fieldTransforms,f,u);return y.setAll(_),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),null}(t,e,n,r):t instanceof Fo?function(o,u,l,f){if(!Ju(o.precondition,u))return l;const y=Jl(o.fieldTransforms,f,u),_=u.data;return _.setAll(EA(o)),_.setAll(y),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),null===l?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(I=>I.field))}(t,e,n,r):(l=n,Ju(t.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):l);var u,l}function dI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&Fl(n,r,(o,u)=>function Fw(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Zl&&r instanceof Zl||n instanceof Yl&&r instanceof Yl?Fl(n.elements,r.elements,_s):n instanceof yf&&r instanceof yf?_s(n.gt,r.gt):n instanceof mf&&r instanceof mf);var n,r}(o,u))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class Xl extends kw{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Fo extends kw{constructor(e,n,r,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function EA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function hI(t,e,n){const r=new Map;Ke(t.length===n.length);for(let o=0;o<n.length;o++){const u=t[o],l=u.transform,f=e.data.field(u.field);r.set(u.field,uI(l,f,n[o]))}return r}function Jl(t,e,n){const r=new Map;for(const o of t){const u=o.transform,l=n.data.field(o.field);r.set(o.field,Ix(u,l,e))}return r}class ko extends kw{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Vw{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&bx(u,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=vf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=vf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Ow();return this.mutations.forEach(o=>{const u=e.get(o.key),l=u.overlayedDocument;let f=this.applyToLocalView(l,u.mutatedFields);f=n.has(o.key)?null:f;const y=DA(l,f);null!==y&&r.set(o.key,y),l.isValidDocument()||l.convertToNoDocument(Xe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Et())}isEqual(e){return this.batchId===e.batchId&&Fl(this.mutations,e.mutations,(n,r)=>dI(n,r))&&Fl(this.baseMutations,e.baseMutations,(n,r)=>dI(n,r))}}class jw{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class IA{constructor(e,n){this.count=e,this.unchangedNames=n}}var On,$t;function pI(t){if(void 0===t)return fn("GRPC error has no .code"),Y.UNKNOWN;switch(t){case On.OK:return Y.OK;case On.CANCELLED:return Y.CANCELLED;case On.UNKNOWN:return Y.UNKNOWN;case On.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case On.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case On.INTERNAL:return Y.INTERNAL;case On.UNAVAILABLE:return Y.UNAVAILABLE;case On.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case On.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case On.NOT_FOUND:return Y.NOT_FOUND;case On.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case On.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case On.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case On.ABORTED:return Y.ABORTED;case On.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case On.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case On.DATA_LOSS:return Y.DATA_LOSS;default:return Ue()}}($t=On||(On={}))[$t.OK=0]="OK",$t[$t.CANCELLED=1]="CANCELLED",$t[$t.UNKNOWN=2]="UNKNOWN",$t[$t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$t[$t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$t[$t.NOT_FOUND=5]="NOT_FOUND",$t[$t.ALREADY_EXISTS=6]="ALREADY_EXISTS",$t[$t.PERMISSION_DENIED=7]="PERMISSION_DENIED",$t[$t.UNAUTHENTICATED=16]="UNAUTHENTICATED",$t[$t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$t[$t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$t[$t.ABORTED=10]="ABORTED",$t[$t.OUT_OF_RANGE=11]="OUT_OF_RANGE",$t[$t.UNIMPLEMENTED=12]="UNIMPLEMENTED",$t[$t.INTERNAL=13]="INTERNAL",$t[$t.UNAVAILABLE=14]="UNAVAILABLE",$t[$t.DATA_LOSS=15]="DATA_LOSS";class Uw{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return vm}static getOrCreateInstance(){return null===vm&&(vm=new Uw),vm}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let vm=null;const bA=new Xn([4294967295,4294967295],0);function mI(t){const e=function gI(){return new TextEncoder}().encode(t),n=new Xg;return n.update(e),new Uint8Array(n.digest())}function yI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Xn([n,r],0),new Xn([o,u],0)]}class _m{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ec(`Invalid padding: ${n}`);if(r<0)throw new ec(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new ec(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new ec(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Xn.fromNumber(this.It)}Et(e,n,r){let o=e.add(n.multiply(Xn.fromNumber(r)));return 1===o.compare(bA)&&(o=new Xn([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=mI(e),[r,o]=yI(n);for(let u=0;u<this.hashCount;u++){const l=this.Et(r,o,u);if(!this.At(l))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),l=new _m(u,o,n);return r.forEach(f=>l.insert(f)),l}insert(e){if(0===this.It)return;const n=mI(e),[r,o]=yI(n);for(let u=0;u<this.hashCount;u++){const l=this.Et(r,o,u);this.Rt(l)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class ec extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class _f{constructor(e,n,r,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,wf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new _f(Xe.min(),o,new un(pt),gi(),Et())}}class wf{constructor(e,n,r,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new wf(r,n,Et(),Et(),Et())}}class Df{constructor(e,n,r,o){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=o}}class $w{constructor(e,n){this.targetId=e,this.Vt=n}}class SA{constructor(e,n,r=er.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class ni{constructor(){this.St=0,this.Dt=_I(),this.Ct=er.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Et(),n=Et(),r=Et();return this.Dt.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Ue()}}),new wf(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=_I()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class vI{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=gi(),this.zt=Hw(),this.Wt=new un(pt)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:Ue()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,o)=>{this.te(o)&&n(o)})}ne(e){var n;const r=e.targetId,o=e.Vt.count,u=this.se(r);if(u){const l=u.target;if(ql(l))if(0===o){const f=new Ne(l.path);this.Yt(r,f,gn.newNoDocument(f,Xe.min()))}else Ke(1===o);else{const f=this.ie(r);if(f!==o){const y=this.re(e,f);0!==y&&(this.ee(r),this.Wt=this.Wt.insert(r,2===y?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=Uw.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(_,I,S){var N,R,J,me,Ie,et;const nt={localCacheCount:I,existenceFilterCount:S.count},ze=S.unchangedNames;return ze&&(nt.bloomFilter={applied:0===_,hashCount:null!==(N=ze?.hashCount)&&void 0!==N?N:0,bitmapLength:null!==(me=null===(J=null===(R=ze?.bits)||void 0===R?void 0:R.bitmap)||void 0===J?void 0:J.length)&&void 0!==me?me:0,padding:null!==(et=null===(Ie=ze?.bits)||void 0===Ie?void 0:Ie.padding)&&void 0!==et?et:0}),nt}(y,f,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:o}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:u="",padding:l=0},hashCount:f=0}=r;let y,_;try{y=No(u).toUint8Array()}catch(I){if(I instanceof WC)return ms("Decoding the base64 bloom filter in existence filter failed ("+I.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw I}try{_=new _m(y,l,f)}catch(I){return ms(I instanceof ec?"BloomFilter error: ":"Applying bloom filter failed: ",I),1}return 0===_.It?1:o!==n-this.oe(e.targetId,_)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let o=0;return r.forEach(u=>{const l=this.Gt.ue(),f=`projects/${l.projectId}/databases/${l.database}/documents/${u.path.canonicalString()}`;n.vt(f)||(this.Yt(e,u,null),o++)}),o}ce(e){const n=new Map;this.Qt.forEach((u,l)=>{const f=this.se(l);if(f){if(u.current&&ql(f.target)){const y=new Ne(f.target.path);null!==this.jt.get(y)||this.ae(l,y)||this.Yt(l,y,gn.newNoDocument(y,e))}u.Mt&&(n.set(l,u.Ot()),u.Ft())}});let r=Et();this.zt.forEach((u,l)=>{let f=!0;l.forEachWhile(y=>{const _=this.se(y);return!_||"TargetPurposeLimboResolution"===_.purpose||(f=!1,!1)}),f&&(r=r.add(u))}),this.jt.forEach((u,l)=>l.setReadTime(e));const o=new _f(e,n,this.Wt,this.jt,r);return this.jt=gi(),this.zt=Hw(),this.Wt=new un(pt),o}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const o=this.Zt(e);this.ae(e,n)?o.Bt(n,1):o.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new ni,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new pn(pt),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||Ee("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new ni),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function Hw(){return new un(Ne.comparator)}function _I(){return new un(Ne.comparator)}const wI={asc:"ASCENDING",desc:"DESCENDING"},TA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Gw={and:"AND",or:"OR"};class Va{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function wm(t,e){return t.useProto3Json||Bl(e)?e:{value:e}}function zn(t){return Ke(!!t),Xe.fromTimestamp(function(e){const n=zi(e);return new Tn(n.seconds,n.nanos)}(t))}function DI(t){const e=Vt.fromString(t);return Ke(bI(e)),e}function Zs(t,e){const n=DI(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ne(Ww(n))}function zw(t,e){return function Em(t,e){return(n=t,new Vt(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}(t.databaseId,e)}function Cm(t){return new Vt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ww(t){return Ke(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Yw(t,e){return{documents:[zw(t,e.path)]}}function bm(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=zw(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=zw(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(y){if(0!==y.length)return II(Xt.create(y,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const u=function(y){if(0!==y.length)return y.map(_=>{return{field:nc((I=_).field),direction:CI(I.dir)};var I})}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const l=wm(t,e.limit);var f,y;return null!==l&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(n.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),n}function tc(t){let e=function qw(t){const e=DI(t);return 4===e.length?Vt.emptyPath():Ww(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Ke(1===r);const I=n.from[0];I.allDescendants?o=I.collectionId:e=e.child(I.collectionId)}let u=[];n.where&&(u=function(I){const S=Qw(I);return S instanceof Xt&&fm(S)?S.getFilters():[S]}(n.where));let l=[];n.orderBy&&(l=n.orderBy.map(I=>{return new Zu(rc((S=I).field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));let f=null;n.limit&&(f=function(I){let S;return S="object"==typeof I?I.value:I,Bl(S)?null:S}(n.limit));let y=null;var I;n.startAt&&(y=new ka((I=n.startAt).values||[],!!I.before));let _=null;return n.endAt&&(_=function(I){return new ka(I.values||[],!I.before)}(n.endAt)),function tI(t,e,n,r,o,u,l,f){return new Ro(t,e,n,r,o,u,l,f)}(e,o,l,u,f,"F",y,_)}function Qw(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=rc(e.unaryFilter.field);return Pt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=rc(e.unaryFilter.field);return Pt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=rc(e.unaryFilter.field);return Pt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=rc(e.unaryFilter.field);return Pt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Ue()}}(t):void 0!==t.fieldFilter?Pt.create(rc((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ue()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return Xt.create(e.compositeFilter.filters.map(n=>Qw(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Ue()}}(e.compositeFilter.op))}(t):Ue();var e}function CI(t){return wI[t]}function xA(t){return TA[t]}function NA(t){return Gw[t]}function nc(t){return{fieldPath:t.canonicalString()}}function rc(t){return Vn.fromServerFormat(t.fieldPath)}function II(t){return t instanceof Pt?function(e){if("=="===e.op){if(KC(e.value))return{unaryFilter:{field:nc(e.field),op:"IS_NAN"}};if(mw(e.value))return{unaryFilter:{field:nc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(KC(e.value))return{unaryFilter:{field:nc(e.field),op:"IS_NOT_NAN"}};if(mw(e.value))return{unaryFilter:{field:nc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nc(e.field),op:xA(e.op),value:e.value}}}(t):t instanceof Xt?function(e){const n=e.getFilters().map(r=>II(r));return 1===n.length?n[0]:{compositeFilter:{op:NA(e.op),filters:n}}}(t):Ue()}function bI(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class ja{constructor(e,n,r,o,u=Xe.min(),l=Xe.min(),f=er.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=f,this.expectedCount=y}withSequenceNumber(e){return new ja(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ja(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class RA{constructor(e){this.fe=e}}function AI(t){const e=tc({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?pf(e,e.limit,"L"):e}class Lo{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(Nn(e.integerValue));else if("doubleValue"in e){const r=Nn(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),jl(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(No(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?ZC(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):Ue()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const o of Object.keys(r))this.Te(o,n),this.me(r[o],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const o of r)this.me(o,n)}ve(e,n){this.ye(n,37),Ne.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Lo.Ve=new Lo;class Ax{constructor(){this.rn=new Pm}addToCollectionParentIndex(e,n){return this.rn.add(n),q.resolve()}getCollectionParents(e,n){return q.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return q.resolve()}deleteFieldIndex(e,n){return q.resolve()}getDocumentsMatchingTarget(e,n){return q.resolve(null)}getIndexType(e,n){return q.resolve(0)}getFieldIndexes(e,n){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,n){return q.resolve(Ni.min())}getMinOffsetFromCollectionGroup(e,n){return q.resolve(Ni.min())}updateCollectionGroup(e,n,r){return q.resolve()}updateIndexEntries(e,n){return q.resolve()}}class Pm{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new pn(Vt.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new pn(Vt.comparator)).toArray()}}new Uint8Array(0);class Gr{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Gr(e,Gr.DEFAULT_COLLECTION_PERCENTILE,Gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Gr.DEFAULT_COLLECTION_PERCENTILE=10,Gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gr.DEFAULT=new Gr(41943040,Gr.DEFAULT_COLLECTION_PERCENTILE,Gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gr.DISABLED=new Gr(-1,0,0);class jo{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new jo(0)}static Mn(){return new jo(-1)}}class HA{constructor(){this.changes=new Po(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,gn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class xx{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class UI{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(null!==r&&vf(r.mutation,o,Ur.empty(),Tn.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Et()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Et()){const o=Ds();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,r).next(u=>{let l=Kl();return u.forEach((f,y)=>{l=l.insert(f,y.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=Ds();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Et()))}populateOverlays(e,n,r){const o=[];return r.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((l,f)=>{n.set(l,f)})})}computeViews(e,n,r,o){let u=gi();const l=gf(),f=gf();return n.forEach((y,_)=>{const I=r.get(_.key);o.has(_.key)&&(void 0===I||I.mutation instanceof Fo)?u=u.insert(_.key,_):void 0!==I?(l.set(_.key,I.mutation.getFieldMask()),vf(I.mutation,_,I.mutation.getFieldMask(),Tn.now())):l.set(_.key,Ur.empty())}),this.recalculateAndSaveOverlays(e,u).next(y=>(y.forEach((_,I)=>l.set(_,I)),n.forEach((_,I)=>{var S;return f.set(_,new xx(I,null!==(S=l.get(_))&&void 0!==S?S:null))}),f))}recalculateAndSaveOverlays(e,n){const r=gf();let o=new un((l,f)=>l-f),u=Et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const f of l)f.keys().forEach(y=>{const _=n.get(y);if(null===_)return;let I=r.get(y)||Ur.empty();I=f.applyToLocalView(_,I),r.set(y,I);const S=(o.get(f.batchId)||Et()).add(y);o=o.insert(f.batchId,S)})}).next(()=>{const l=[],f=o.getReverseIterator();for(;f.hasNext();){const y=f.getNext(),_=y.key,I=y.value,S=Ow();I.forEach(N=>{if(!u.has(N)){const R=DA(n.get(N),r.get(N));null!==R&&S.set(N,R),u=u.add(N)}}),l.push(this.documentOverlayCache.saveOverlays(e,_,S))}return q.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return Ne.isDocumentKey((o=n).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function ff(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var o}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next(u=>{const l=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-u.size):q.resolve(Ds());let f=-1,y=u;return l.next(_=>q.forEach(_,(I,S)=>(f<S.largestBatchId&&(f=S.largestBatchId),u.get(I)?q.resolve():this.remoteDocumentCache.getEntry(e,I).next(N=>{y=y.insert(I,N)}))).next(()=>this.populateOverlays(e,_,u)).next(()=>this.computeViews(e,y,_,Et())).next(I=>({batchId:f,changes:iI(I)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ne(n)).next(r=>{let o=Kl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const o=n.collectionGroup;let u=Kl();return this.indexManager.getCollectionParents(e,o).next(l=>q.forEach(l,f=>{const y=(_=n,I=f.child(o),new Ro(I,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt));var _,I;return this.getDocumentsMatchingCollectionQuery(e,y,r).next(_=>{_.forEach((I,S)=>{u=u.insert(I,S)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o))).next(u=>{o.forEach((f,y)=>{const _=y.getKey();null===u.get(_)&&(u=u.insert(_,gn.newInvalidDocument(_)))});let l=Kl();return u.forEach((f,y)=>{const _=o.get(f);void 0!==_&&vf(_.mutation,y,Ur.empty(),Tn.now()),Xu(n,y)&&(l=l.insert(f,y))}),l})}}class Nx{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return q.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:zn(r.createTime)}),q.resolve()}getNamedQuery(e,n){return q.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:AI(r.bundledQuery),readTime:zn(r.readTime)}),q.resolve();var r}}class Ox{constructor(){this.overlays=new un(Ne.comparator),this.ls=new Map}getOverlay(e,n){return q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ds();return q.forEach(n,o=>this.getOverlay(e,o).next(u=>{null!==u&&r.set(o,u)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((o,u)=>{this.we(e,n,u)}),q.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.ls.get(r);return void 0!==o&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.ls.delete(r)),q.resolve()}getOverlaysForCollection(e,n,r){const o=Ds(),u=n.length+1,l=new Ne(n.child("")),f=this.overlays.getIteratorFrom(l);for(;f.hasNext();){const y=f.getNext().value,_=y.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===u&&y.largestBatchId>r&&o.set(y.getKey(),y)}return q.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let u=new un((_,I)=>_-I);const l=this.overlays.getIterator();for(;l.hasNext();){const _=l.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>r){let I=u.get(_.largestBatchId);null===I&&(I=Ds(),u=u.insert(_.largestBatchId,I)),I.set(_.getKey(),_)}}const f=Ds(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((_,I)=>f.set(_,I)),!(f.size()>=o)););return q.resolve(f)}we(e,n,r){const o=this.overlays.get(r.key);if(null!==o){const l=this.ls.get(o.largestBatchId).delete(r.key);this.ls.set(o.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new jw(n,r));let u=this.ls.get(n);void 0===u&&(u=Et(),this.ls.set(n,u)),this.ls.set(n,u.add(r.key))}}class $I{constructor(){this.fs=new pn(Or.ds),this.ws=new pn(Or._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Or(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Or(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new Ne(new Vt([])),r=new Or(n,e),o=new Or(n,e+1),u=[];return this.ws.forEachInRange([r,o],l=>{this.ys(l),u.push(l.key)}),u}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new Ne(new Vt([])),r=new Or(n,e),o=new Or(n,e+1);let u=Et();return this.ws.forEachInRange([r,o],l=>{u=u.add(l.key)}),u}containsKey(e){const n=new Or(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Or{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return Ne.comparator(e.key,n.key)||pt(e.As,n.As)}static _s(e,n){return pt(e.As,n.As)||Ne.comparator(e.key,n.key)}}class Rx{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new pn(Or.ds)}checkEmpty(e){return q.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,o){const u=this.vs;this.vs++;const l=new Vw(u,n,r,o);this.mutationQueue.push(l);for(const f of o)this.Rs=this.Rs.add(new Or(f.key,u)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return q.resolve(l)}lookupMutationBatch(e,n){return q.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const o=this.bs(n+1),u=o<0?0:o;return q.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Or(n,0),o=new Or(n,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([r,o],l=>{const f=this.Ps(l.As);u.push(f)}),q.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new pn(pt);return n.forEach(o=>{const u=new Or(o,0),l=new Or(o,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,l],f=>{r=r.add(f.As)})}),q.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let u=r;Ne.isDocumentKey(u)||(u=u.child(""));const l=new Or(new Ne(u),0);let f=new pn(pt);return this.Rs.forEachWhile(y=>{const _=y.key.path;return!!r.isPrefixOf(_)&&(_.length===o&&(f=f.add(y.As)),!0)},l),q.resolve(this.Vs(f))}Vs(e){const n=[];return e.forEach(r=>{const o=this.Ps(r);null!==o&&n.push(o)}),n}removeMutationBatch(e,n){Ke(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return q.forEach(n.mutations,o=>{const u=new Or(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Or(n,0),o=this.Rs.firstAfterOrEqual(r);return q.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return q.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class KA{constructor(e){this.Ds=e,this.docs=new un(Ne.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,l=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return q.resolve(r?r.document.mutableCopy():gn.newInvalidDocument(n))}getEntries(e,n){let r=gi();return n.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():gn.newInvalidDocument(o))}),q.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let u=gi();const l=n.path,f=new Ne(l.child("")),y=this.docs.getIteratorFrom(f);for(;y.hasNext();){const{key:_,value:{document:I}}=y.getNext();if(!l.isPrefixOf(_.path))break;_.path.length>l.length+1||af(kC(I),r)<=0||(o.has(I.key)||Xu(n,I))&&(u=u.insert(I.key,I.mutableCopy()))}return q.resolve(u)}getAllFromCollectionGroup(e,n,r,o){Ue()}Cs(e,n){return q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Px(this)}getSize(e){return q.resolve(this.size)}}class Px extends HA{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?n.push(this.os.addEntry(e,o)):this.os.removeEntry(r)}),q.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class i{constructor(e){this.persistence=e,this.xs=new Po(n=>ws(n),hf),this.lastRemoteSnapshotVersion=Xe.min(),this.highestTargetId=0,this.Ns=0,this.ks=new $I,this.targetCount=0,this.Ms=jo.kn()}forEachTarget(e,n){return this.xs.forEach((r,o)=>n(o)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),q.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new jo(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,q.resolve()}updateTargetData(e,n){return this.Fn(n),q.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,n,r){let o=0;const u=[];return this.xs.forEach((l,f)=>{f.sequenceNumber<=n&&null===r.get(f.targetId)&&(this.xs.delete(l),u.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),q.waitFor(u).next(()=>o)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return q.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),q.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(l=>{u.push(o.markPotentiallyOrphaned(e,l))}),q.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return q.resolve(r)}containsKey(e,n){return q.resolve(this.ks.containsKey(n))}}class s{constructor(e,n){this.$s={},this.overlays={},this.Os=new pi(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new i(this),this.indexManager=new Ax,this.remoteDocumentCache=new KA(r=>this.referenceDelegate.Ls(r)),this.serializer=new RA(n),this.qs=new Nx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Ox,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new Rx(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){Ee("MemoryPersistence","Starting transaction:",e);const o=new a(this.Os.next());return this.referenceDelegate.Us(),r(o).next(u=>this.referenceDelegate.Ks(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Gs(e,n){return q.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class a extends VC{constructor(e){super(),this.currentSequenceNumber=e}}class c{constructor(e){this.persistence=e,this.Qs=new $I,this.js=null}static zs(e){return new c(e)}get Ws(){if(this.js)return this.js;throw Ue()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),q.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),q.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),q.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(o=>this.Ws.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.Ws.add(u.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.Ws,r=>{const o=Ne.fromPath(r);return this.Hs(e,o).next(u=>{u||n.removeEntry(o,Xe.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return q.or([()=>q.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class F{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=o}static Li(e,n){let r=Et(),o=Et();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new F(e,n.fromCache,r,o)}}class ${constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,o){return this.Ki(e,n).next(u=>u||this.Gi(e,n,o,r)).next(u=>u||this.Qi(e,n))}Ki(e,n){if(Aw(n))return q.resolve(null);let r=Hr(n);return this.indexManager.getIndexType(e,r).next(o=>0===o?null:(null!==n.limit&&1===o&&(n=pf(n,null,"F"),r=Hr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const l=Et(...u);return this.Ui.getDocuments(e,l).next(f=>this.indexManager.getMinOffset(e,r).next(y=>{const _=this.ji(n,f);return this.zi(n,_,l,y.readTime)?this.Ki(e,pf(n,null,"F")):this.Wi(e,_,n,y)}))})))}Gi(e,n,r,o){return Aw(n)||o.isEqual(Xe.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(u=>{const l=this.ji(n,u);return this.zi(n,l,r,o)?this.Qi(e,n):(Jg()<=ul.in.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),gm(n)),this.Wi(e,l,n,function nm(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,o=Xe.fromTimestamp(1e9===r?new Tn(n+1,0):new Tn(n,r));return new Ni(o,Ne.empty(),e)}(o,-1)))})}ji(e,n){let r=new pn(rI(e));return n.forEach((o,u)=>{Xu(e,u)&&(r=r.add(u))}),r}zi(e,n,r,o){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const u="F"===e.limitType?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Qi(e,n){return Jg()<=ul.in.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",gm(n)),this.Ui.getDocumentsMatchingQuery(e,n,Ni.min())}Wi(e,n,r,o){return this.Ui.getDocumentsMatchingQuery(e,r,o).next(u=>(n.forEach(l=>{u=u.insert(l.key,l)}),u))}}class te{constructor(e,n,r,o){this.persistence=e,this.Hi=n,this.serializer=o,this.Ji=new un(pt),this.Yi=new Po(u=>ws(u),hf),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UI(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function Me(t,e){return(H_=H_||(0,B.Z)(function*(n,r){const o=Pe(n);return yield o.persistence.runTransaction("Handle user change","readonly",u=>{let l;return o.mutationQueue.getAllMutationBatches(u).next(f=>(l=f,o.tr(r),o.mutationQueue.getAllMutationBatches(u))).next(f=>{const y=[],_=[];let I=Et();for(const S of l){y.push(S.batchId);for(const N of S.mutations)I=I.add(N.key)}for(const S of f){_.push(S.batchId);for(const N of S.mutations)I=I.add(N.key)}return o.localDocuments.getDocuments(u,I).next(S=>({er:S,removedBatchIds:y,addedBatchIds:_}))})})})).apply(this,arguments)}function oe(t){const e=Pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function mi(t,e,n){return(G_=G_||(0,B.Z)(function*(r,o,u){const l=Pe(r),f=l.Ji.get(o),y=u?"readwrite":"readwrite-primary";try{u||(yield l.persistence.runTransaction("Release target",y,_=>l.persistence.referenceDelegate.removeTarget(_,f)))}catch(_){if(!xa(_))throw _;Ee("LocalStore",`Failed to update sequence numbers for target ${o}: ${_}`)}l.Ji=l.Ji.remove(o),l.Yi.delete(f.target)})).apply(this,arguments)}function Uo(t,e,n){const r=Pe(t);let o=Xe.min(),u=Et();return r.persistence.runTransaction("Execute query","readonly",l=>function(f,y,_){const I=Pe(f),S=I.Yi.get(_);return void 0!==S?q.resolve(I.Ji.get(S)):I.Bs.getTargetData(y,_)}(r,l,Hr(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(l,f.targetId).next(y=>{u=y})}).next(()=>r.Hi.getDocumentsMatchingQuery(l,e,n?o:Xe.min(),n?u:Et())).next(f=>(function GI(t,e,n){let r=t.Xi.get(e)||Xe.min();n.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),t.Xi.set(e,r)}(r,function fA(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),f),{documents:f,ir:u})))}class QA{constructor(){this.activeTargetIds=function mm(){return oI}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Lx{constructor(){this.Hr=new QA,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new QA,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Y1{Yr(e){}shutdown(){}}class Vx{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let WI=null;function JA(){return null===WI?WI=268435456+Math.round(2147483648*Math.random()):WI++,"0x"+WI.toString(16)}const Q1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class X1{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const yi="WebChannelConnection";class J1 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,o,u){const l=JA(),f=this.To(e,n);Ee("RestConnection",`Sending RPC '${e}' ${l}:`,f,r);const y={};return this.Eo(y,o,u),this.Ao(e,f,y,r).then(_=>(Ee("RestConnection",`Received RPC '${e}' ${l}: `,_),_),_=>{throw ms("RestConnection",`RPC '${e}' ${l} failed with error: `,_,"url: ",f,"request:",r),_})}vo(e,n,r,o,u,l){return this.Io(e,n,r,o,u)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+sf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),r&&r.headers.forEach((o,u)=>e[u]=o)}To(e,n){return`${this.mo}/v1/${n}:${Q1[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,o){const u=JA();return new Promise((l,f)=>{const y=new Qg;y.setWithCredentials(!0),y.listenOnce(RT.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Aa.NO_ERROR:const I=y.getResponseJson();Ee(yi,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(I)),l(I);break;case Aa.TIMEOUT:Ee(yi,`RPC '${e}' ${u} timed out`),f(new fe(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Aa.HTTP_ERROR:const S=y.getStatus();if(Ee(yi,`RPC '${e}' ${u} failed with status:`,S,"response text:",y.getResponseText()),S>0){let N=y.getResponseJson();Array.isArray(N)&&(N=N[0]);const R=N?.error;if(R&&R.status&&R.message){const J=function(me){const Ie=me.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(Ie)>=0?Ie:Y.UNKNOWN}(R.status);f(new fe(J,R.message))}else f(new fe(Y.UNKNOWN,"Server responded with status "+y.getStatus()))}else f(new fe(Y.UNAVAILABLE,"Connection failed."));break;default:Ue()}}finally{Ee(yi,`RPC '${e}' ${u} completed.`)}});const _=JSON.stringify(o);Ee(yi,`RPC '${e}' ${u} sending request:`,o),y.send(n,"POST",_,r,15)})}Ro(e,n,r){const o=JA(),u=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=lC(),f=px(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;void 0!==_&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.xmlHttpFactory=new xl({})),this.Eo(y.initMessageHeaders,n,r),y.encodeInitMessageHeaders=!0;const I=u.join("");Ee(yi,`Creating RPC '${e}' stream ${o}: ${I}`,y);const S=l.createWebChannel(I,y);let N=!1,R=!1;const J=new X1({ro:Ie=>{R?Ee(yi,`Not sending because RPC '${e}' stream ${o} is closed:`,Ie):(N||(Ee(yi,`Opening RPC '${e}' stream ${o} transport.`),S.open(),N=!0),Ee(yi,`RPC '${e}' stream ${o} sending:`,Ie),S.send(Ie))},oo:()=>S.close()}),me=(Ie,et,nt)=>{Ie.listen(et,ze=>{try{nt(ze)}catch(gt){setTimeout(()=>{throw gt},0)}})};return me(S,Yg.EventType.OPEN,()=>{R||Ee(yi,`RPC '${e}' stream ${o} transport opened.`)}),me(S,Yg.EventType.CLOSE,()=>{R||(R=!0,Ee(yi,`RPC '${e}' stream ${o} transport closed`),J.wo())}),me(S,Yg.EventType.ERROR,Ie=>{R||(R=!0,ms(yi,`RPC '${e}' stream ${o} transport errored:`,Ie),J.wo(new fe(Y.UNAVAILABLE,"The operation could not be completed")))}),me(S,Yg.EventType.MESSAGE,Ie=>{var et;if(!R){const nt=Ie.data[0];Ke(!!nt);const gt=nt.error||(null===(et=nt[0])||void 0===et?void 0:et.error);if(gt){Ee(yi,`RPC '${e}' stream ${o} received error:`,gt);const Bt=gt.status;let Rn=function($o){const uc=On[$o];if(void 0!==uc)return pI(uc)}(Bt),Oi=gt.message;void 0===Rn&&(Rn=Y.INTERNAL,Oi="Unknown error status: "+Bt+" with message "+gt.message),R=!0,J.wo(new fe(Rn,Oi)),S.close()}else Ee(yi,`RPC '${e}' stream ${o} received:`,nt),J._o(nt)}}),me(f,PT.STAT_EVENT,Ie=>{Ie.stat===dC.PROXY?Ee(yi,`RPC '${e}' stream ${o} detected buffering proxy`):Ie.stat===dC.NOPROXY&&Ee(yi,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{J.fo()},0),J}}function KI(){return typeof document<"u"?document:null}function h0(t){return new Va(t,!0)}class eM{constructor(e,n,r=1e3,o=1.5,u=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=o,this.Vo=u,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),o=Math.max(0,n-r);o>0&&Ee("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,o,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class eN{constructor(e,n,r,o,u,l,f,y){this.ii=e,this.$o=r,this.Oo=o,this.connection=u,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=f,this.listener=y,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new eM(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,B.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,B.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return(0,B.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(fn(n.toString()),fn("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===Y.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Fo===n&&this.Zo(r,o)},r=>{e(()=>{const o=new fe(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(o)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(o=>{r(()=>this.tu(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}Go(){var e=this;this.state=5,this.qo.No((0,B.Z)(function*(){e.state=0,e.start()}))}tu(e){return Ee("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(Ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class tN extends eN{constructor(e,n,r,o,u,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,l),this.serializer=u}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function Zw(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:Ue(),o=e.targetChange.targetIds||[],u=function(y,_){return y.useProto3Json?(Ke(void 0===_||"string"==typeof _),er.fromBase64String(_||"")):(Ke(void 0===_||_ instanceof Uint8Array),er.fromUint8Array(_||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,f=l&&function(y){const _=void 0===y.code?Y.UNKNOWN:pI(y.code);return new fe(_,y.message||"")}(l);n=new SA(r,o,u,f||null)}else if("documentChange"in e){const r=e.documentChange,o=Zs(t,r.document.name),u=zn(r.document.updateTime),l=r.document.createTime?zn(r.document.createTime):Xe.min(),f=new tr({mapValue:{fields:r.document.fields}}),y=gn.newFoundDocument(o,u,l,f);n=new Df(r.targetIds||[],r.removedTargetIds||[],y.key,y)}else if("documentDelete"in e){const r=e.documentDelete,o=Zs(t,r.document),u=r.readTime?zn(r.readTime):Xe.min(),l=gn.newNoDocument(o,u);n=new Df([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,o=Zs(t,r.document);n=new Df([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return Ue();{const r=e.filter,{count:o=0,unchangedNames:u}=r,l=new IA(o,u);n=new $w(r.targetId,l)}}var y;return n}(this.serializer,e),r=function(o){if(!("targetChange"in o))return Xe.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Xe.min():u.readTime?zn(u.readTime):Xe.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=Cm(this.serializer),n.addTarget=function(o,u){let l;const f=u.target;if(l=ql(f)?{documents:Yw(o,f)}:{query:bm(o,f)},l.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){l.resumeToken=function Dm(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}(o,u.resumeToken);const y=wm(o,u.expectedCount);null!==y&&(l.expectedCount=y)}else if(u.snapshotVersion.compareTo(Xe.min())>0){l.readTime=function Ba(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}(o,u.snapshotVersion.toTimestamp());const y=wm(o,u.expectedCount);null!==y&&(l.expectedCount=y)}return l}(this.serializer,e);const r=function Sm(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=Cm(this.serializer),n.removeTarget=e,this.Wo(n)}}class rN extends class{}{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.lu=!1}fu(){if(this.lu)throw new fe(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Io(e,n,r,o,u)).catch(o=>{throw"FirebaseError"===o.name?(o.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new fe(Y.UNKNOWN,o.toString())})}vo(e,n,r,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection.vo(e,n,r,u,l,o)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(Y.UNKNOWN,u.toString())})}terminate(){this.lu=!0}}class sN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(fn(n),this.mu=!1):Ee("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class oN{constructor(e,n,r,o,u){var l=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=u,this.Pu.Yr(f=>{r.enqueueAndForget((0,B.Z)(function*(){var y;ad(l)&&(Ee("RemoteStore","Restarting streams for network reachability change."),yield function(_){return(y=y||(0,B.Z)(function*(I){const S=Pe(I);S.vu.add(4),yield Bm(S),S.bu.set("Unknown"),S.vu.delete(4),yield f0(S)})).apply(this,arguments)}(l))}))}),this.bu=new sN(r,o)}}function f0(t){return(W_=W_||(0,B.Z)(function*(e){if(ad(e))for(const n of e.Ru)yield n(!0)})).apply(this,arguments)}function Bm(t){return(K_=K_||(0,B.Z)(function*(e){for(const n of e.Ru)yield n(!1)})).apply(this,arguments)}function ZI(t,e){const n=Pe(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),rM(n)?nM(n):Um(n).Ko()&&tM(n,e))}function p0(t,e){const n=Pe(t),r=Um(n);n.Au.delete(e),r.Ko()&&jx(n,e),0===n.Au.size&&(r.Ko()?r.jo():ad(n)&&n.bu.set("Unknown"))}function tM(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Xe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Um(t).su(e)}function jx(t,e){t.Vu.qt(e),Um(t).iu(e)}function nM(t){t.Vu=new vI({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Um(t).start(),t.bu.gu()}function rM(t){return ad(t)&&!Um(t).Uo()&&t.Au.size>0}function ad(t){return 0===Pe(t).vu.size}function Ux(t){t.Vu=void 0}function aN(t){return(fC=fC||(0,B.Z)(function*(e){e.Au.forEach((n,r)=>{tM(e,n)})})).apply(this,arguments)}function uN(t,e){return(pC=pC||(0,B.Z)(function*(n,r){Ux(n),rM(n)?(n.bu.Iu(r),nM(n)):n.bu.set("Unknown")})).apply(this,arguments)}function cN(t,e,n){return(gC=gC||(0,B.Z)(function*(r,o,u){if(r.bu.set("Online"),o instanceof SA&&2===o.state&&o.cause)try{var l;yield function(f,y){return(l=l||(0,B.Z)(function*(_,I){const S=I.cause;for(const N of I.targetIds)_.Au.has(N)&&(yield _.remoteSyncer.rejectListen(N,S),_.Au.delete(N),_.Vu.removeTarget(N))})).apply(this,arguments)}(r,o)}catch(f){Ee("RemoteStore","Failed to remove targets %s: %s ",o.targetIds.join(","),f),yield YI(r,f)}else if(o instanceof Df?r.Vu.Ht(o):o instanceof $w?r.Vu.ne(o):r.Vu.Xt(o),!u.isEqual(Xe.min()))try{const f=yield oe(r.localStore);u.compareTo(f)>=0&&(yield function(y,_){const I=y.Vu.ce(_);return I.targetChanges.forEach((S,N)=>{if(S.resumeToken.approximateByteSize()>0){const R=y.Au.get(N);R&&y.Au.set(N,R.withResumeToken(S.resumeToken,_))}}),I.targetMismatches.forEach((S,N)=>{const R=y.Au.get(S);if(!R)return;y.Au.set(S,R.withResumeToken(er.EMPTY_BYTE_STRING,R.snapshotVersion)),jx(y,S);const J=new ja(R.target,S,N,R.sequenceNumber);tM(y,J)}),y.remoteSyncer.applyRemoteEvent(I)}(r,u))}catch(f){Ee("RemoteStore","Failed to raise snapshot:",f),yield YI(r,f)}})).apply(this,arguments)}function YI(t,e,n){return(Nl=Nl||(0,B.Z)(function*(r,o,u){if(!xa(o))throw o;r.vu.add(1),yield Bm(r),r.bu.set("Offline"),u||(u=()=>oe(r.localStore)),r.asyncQueue.enqueueRetryable((0,B.Z)(function*(){Ee("RemoteStore","Retrying IndexedDB access"),yield u(),r.vu.delete(1),yield f0(r)}))})).apply(this,arguments)}function zx(t,e){return(Y_=Y_||(0,B.Z)(function*(n,r){const o=Pe(n);o.asyncQueue.verifyOperationInProgress(),Ee("RemoteStore","RemoteStore received new credentials");const u=ad(o);o.vu.add(3),yield Bm(o),u&&o.bu.set("Unknown"),yield o.remoteSyncer.handleCredentialChange(r),o.vu.delete(3),yield f0(o)})).apply(this,arguments)}function Um(t){var e;return t.Su||(t.Su=function(n,r,o){const u=Pe(n);return u.fu(),new tN(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(t.datastore,t.asyncQueue,{uo:aN.bind(null,t),ao:uN.bind(null,t),nu:cN.bind(null,t)}),t.Ru.push(function(n){return(e=e||(0,B.Z)(function*(r){r?(t.Su.Qo(),rM(t)?nM(t):t.bu.set("Unknown")):(yield t.Su.stop(),Ux(t))})).apply(this,arguments)})),t.Su}class sM{constructor(e,n,r,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Jn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,n,r,o,u){const l=Date.now()+r,f=new sM(e,n,l,o,u);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new fe(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $m(t,e){if(fn("AsyncQueue",`${e}: ${t}`),xa(t))return new fe(Y.UNAVAILABLE,`${e}: ${t}`);throw t}class Hm{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ne.comparator(n.key,r.key):(n,r)=>Ne.comparator(n.key,r.key),this.keyedMap=Kl(),this.sortedSet=new un(this.comparator)}static emptySet(e){return new Hm(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Hm)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Hm;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class qx{constructor(){this.Cu=new un(Ne.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):Ue():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Gm{constructor(e,n,r,o,u,l,f,y,_){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=l,this.syncStateChanged=f,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,n,r,o,u){const l=[];return n.forEach(f=>{l.push({type:0,doc:f})}),new Gm(e,n,Hm.emptySet(n),l,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ks(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}class mN{constructor(){this.Nu=void 0,this.listeners=[]}}class yN{constructor(){this.queries=new Po(e=>nI(e),Ks),this.onlineState="Unknown",this.ku=new Set}}function oM(t,e){return(_C=_C||(0,B.Z)(function*(n,r){const o=Pe(n),u=r.query;let l=!1,f=o.queries.get(u);if(f||(l=!0,f=new mN),l)try{f.Nu=yield o.onListen(u)}catch(y){const _=$m(y,`Initialization of query '${gm(r.query)}' failed`);return void r.onError(_)}o.queries.set(u,f),f.listeners.push(r),r.Mu(o.onlineState),f.Nu&&r.$u(f.Nu)&&uM(o)})).apply(this,arguments)}function aM(t,e){return(Ol=Ol||(0,B.Z)(function*(n,r){const o=Pe(n),u=r.query;let l=!1;const f=o.queries.get(u);if(f){const y=f.listeners.indexOf(r);y>=0&&(f.listeners.splice(y,1),l=0===f.listeners.length)}if(l)return o.queries.delete(u),o.onUnlisten(u)})).apply(this,arguments)}function vN(t,e){const n=Pe(t);let r=!1;for(const o of e){const l=n.queries.get(o.query);if(l){for(const f of l.listeners)f.$u(o)&&(r=!0);l.Nu=o}}r&&uM(n)}function _N(t,e,n){const r=Pe(t),o=r.queries.get(e);if(o)for(const u of o.listeners)u.onError(n);r.queries.delete(e)}function uM(t){t.ku.forEach(e=>{e.next()})}class cM{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new Gm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Gm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Zx{constructor(e){this.key=e}}class Yx{constructor(e){this.key=e}}class Qx{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Et(),this.mutatedKeys=Et(),this.tc=rI(e),this.ec=new Hm(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new qx,o=n?n.ec:this.ec;let u=n?n.mutatedKeys:this.mutatedKeys,l=o,f=!1;const y="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,_="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((I,S)=>{const N=o.get(I),R=Xu(this.query,S)?S:null,J=!!N&&this.mutatedKeys.has(N.key),me=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let Ie=!1;N&&R?N.data.isEqual(R.data)?J!==me&&(r.track({type:3,doc:R}),Ie=!0):this.rc(N,R)||(r.track({type:2,doc:R}),Ie=!0,(y&&this.tc(R,y)>0||_&&this.tc(R,_)<0)&&(f=!0)):!N&&R?(r.track({type:0,doc:R}),Ie=!0):N&&!R&&(r.track({type:1,doc:N}),Ie=!0,(y||_)&&(f=!0)),Ie&&(R?(l=l.add(R),u=me?u.add(I):u.delete(I)):(l=l.delete(I),u=u.delete(I)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const I="F"===this.query.limitType?l.last():l.first();l=l.delete(I.key),u=u.delete(I.key),r.track({type:1,doc:I})}return{ec:l,ic:r,zi:f,mutatedKeys:u}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const o=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const u=e.ic.xu();u.sort((_,I)=>function(S,N){const R=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue()}};return R(S)-R(N)}(_.type,I.type)||this.tc(_.doc,I.doc)),this.oc(r);const l=n?this.uc():[],f=0===this.Zu.size&&this.current?1:0,y=f!==this.Xu;return this.Xu=f,0!==u.length||y?{snapshot:new Gm(this.query,e.ec,o,u,e.mutatedKeys,0===f,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new qx,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Et(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new Yx(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new Zx(r))}),n}hc(e){this.Yu=e.ir,this.Zu=Et();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Gm.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class EN{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class CN{constructor(e){this.key=e,this.fc=!1}}class IN{constructor(e,n,r,o,u,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new Po(f=>nI(f),Ks),this._c=new Map,this.mc=new Set,this.gc=new un(Ne.comparator),this.yc=new Map,this.Ic=new $I,this.Tc={},this.Ec=new Map,this.Ac=jo.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function bN(t,e){return(Rl=Rl||(0,B.Z)(function*(n,r){const o=function gM(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Xx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=PN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AN.bind(null,e),e.dc.nu=vN.bind(null,e.eventManager),e.dc.Pc=_N.bind(null,e.eventManager),e}(n);let u,l;const f=o.wc.get(r);if(f)u=f.targetId,o.sharedClientState.addLocalQueryTarget(u),l=f.view.lc();else{const y=yield function nr(t,e){const n=Pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return n.Bs.getTargetData(r,e).next(u=>u?(o=u,q.resolve(o)):n.Bs.allocateTargetId(r).next(l=>(o=new ja(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=n.Ji.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(o.localStore,Hr(r)),_=o.sharedClientState.addLocalQueryTarget(y.targetId);u=y.targetId,l=yield function lM(t,e,n,r,o){return(wC=wC||(0,B.Z)(function*(u,l,f,y,_){u.Rc=(Ie,et,nt)=>{var ze;return function(gt,Bt,Rn,Oi){return(ze=ze||(0,B.Z)(function*($o,uc,qO,H1){let fb=uc.view.sc(qO);fb.zi&&(fb=yield Uo($o.localStore,uc.query,!1).then(({documents:KO})=>uc.view.sc(KO,fb)));const WO=H1&&H1.targetChanges.get(uc.targetId),G1=uc.view.applyChanges(fb,$o.isPrimaryClient,WO);return fM($o,uc.targetId,G1.cc),G1.snapshot})).apply(this,arguments)}(u,Ie,et,nt)};const I=yield Uo(u.localStore,l,!0),S=new Qx(l,I.ir),N=S.sc(I.documents),R=wf.createSynthesizedTargetChangeForCurrentChange(f,y&&"Offline"!==u.onlineState,_),J=S.applyChanges(N,u.isPrimaryClient,R);fM(u,f,J.cc);const me=new EN(l,f,S);return u.wc.set(l,me),u._c.has(f)?u._c.get(f).push(l):u._c.set(f,[l]),J.snapshot})).apply(this,arguments)}(o,r,u,"current"===_,y.resumeToken),o.isPrimaryClient&&ZI(o.remoteStore,y)}return l})).apply(this,arguments)}function SN(t,e){return(DC=DC||(0,B.Z)(function*(n,r){const o=Pe(n),u=o.wc.get(r),l=o._c.get(u.targetId);if(l.length>1)return o._c.set(u.targetId,l.filter(f=>!Ks(f,r))),void o.wc.delete(r);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(u.targetId),o.sharedClientState.isActiveQueryTarget(u.targetId)||(yield mi(o.localStore,u.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(u.targetId),p0(o.remoteStore,u.targetId),zm(o,u.targetId)}).catch(fi))):(zm(o,u.targetId),yield mi(o.localStore,u.targetId,!0))})).apply(this,arguments)}function Xx(t,e){return(X_=X_||(0,B.Z)(function*(n,r){const o=Pe(n);try{const u=yield function dt(t,e){const n=Pe(t),r=e.snapshotVersion;let o=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const l=n.Zi.newChangeBuffer({trackRemovals:!0});o=n.Ji;const f=[];e.targetChanges.forEach((I,S)=>{const N=o.get(S);if(!N)return;f.push(n.Bs.removeMatchingKeys(u,I.removedDocuments,S).next(()=>n.Bs.addMatchingKeys(u,I.addedDocuments,S)));let R=N.withSequenceNumber(u.currentSequenceNumber);var J,me,Ie;null!==e.targetMismatches.get(S)?R=R.withResumeToken(er.EMPTY_BYTE_STRING,Xe.min()).withLastLimboFreeSnapshotVersion(Xe.min()):I.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(I.resumeToken,r)),o=o.insert(S,R),me=R,Ie=I,(0===(J=N).resumeToken.approximateByteSize()||me.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=3e8||Ie.addedDocuments.size+Ie.modifiedDocuments.size+Ie.removedDocuments.size>0)&&f.push(n.Bs.updateTargetData(u,R))});let y=gi(),_=Et();if(e.documentUpdates.forEach(I=>{e.resolvedLimboDocuments.has(I)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(u,I))}),f.push(function Tt(t,e,n){let r=Et(),o=Et();return n.forEach(u=>r=r.add(u)),e.getEntries(t,r).next(u=>{let l=gi();return n.forEach((f,y)=>{const _=u.get(f);y.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(f)),y.isNoDocument()&&y.version.isEqual(Xe.min())?(e.removeEntry(f,y.readTime),l=l.insert(f,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||0===y.version.compareTo(_.version)&&_.hasPendingWrites?(e.addEntry(y),l=l.insert(f,y)):Ee("LocalStore","Ignoring outdated watch update for ",f,". Current version:",_.version," Watch version:",y.version)}),{nr:l,sr:o}})}(u,l,e.documentUpdates).next(I=>{y=I.nr,_=I.sr})),!r.isEqual(Xe.min())){const I=n.Bs.getLastRemoteSnapshotVersion(u).next(S=>n.Bs.setTargetsMetadata(u,u.currentSequenceNumber,r));f.push(I)}return q.waitFor(f).next(()=>l.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,y,_)).next(()=>y)}).then(u=>(n.Ji=o,u))}(o.localStore,r);r.targetChanges.forEach((l,f)=>{const y=o.yc.get(f);y&&(Ke(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?y.fc=!0:l.modifiedDocuments.size>0?Ke(y.fc):l.removedDocuments.size>0&&(Ke(y.fc),y.fc=!1))}),yield ac(o,u,r)}catch(u){yield fi(u)}})).apply(this,arguments)}function Jx(t,e,n){const r=Pe(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const o=[];r.wc.forEach((u,l)=>{const f=l.view.Mu(e);f.snapshot&&o.push(f.snapshot)}),function(u,l){const f=Pe(u);f.onlineState=l;let y=!1;f.queries.forEach((_,I)=>{for(const S of I.listeners)S.Mu(l)&&(y=!0)}),y&&uM(f)}(r.eventManager,e),o.length&&r.dc.nu(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function AN(t,e,n){return(J_=J_||(0,B.Z)(function*(r,o,u){const l=Pe(r);l.sharedClientState.updateQueryState(o,"rejected",u);const f=l.yc.get(o),y=f&&f.key;if(y){let _=new un(Ne.comparator);_=_.insert(y,gn.newNoDocument(y,Xe.min()));const I=Et().add(y),S=new _f(Xe.min(),new Map,new un(pt),_,I);yield Xx(l,S),l.gc=l.gc.remove(y),l.yc.delete(o),pM(l)}else yield mi(l.localStore,o,!1).then(()=>zm(l,o,u)).catch(fi)})).apply(this,arguments)}function zm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||e1(t,r)})}function e1(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(p0(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),pM(t))}function fM(t,e,n){for(const r of n)r instanceof Zx?(t.Ic.addReference(r.key,e),ON(t,r)):r instanceof Yx?(Ee("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||e1(t,r.key)):Ue()}function ON(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(Ee("SyncEngine","New document in limbo: "+n),t.mc.add(r),pM(t))}function pM(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new Ne(Vt.fromString(e)),r=t.Ac.next();t.yc.set(r,new CN(n)),t.gc=t.gc.insert(n,r),ZI(t.remoteStore,new ja(Hr(La(n.path)),r,"TargetPurposeLimboResolution",pi.ct))}}function ac(t,e,n){return(IC=IC||(0,B.Z)(function*(r,o,u){var l;const f=Pe(r),y=[],_=[],I=[];f.wc.isEmpty()||(f.wc.forEach((S,N)=>{I.push(f.Rc(N,o,u).then(R=>{if((R||u)&&f.isPrimaryClient&&f.sharedClientState.updateQueryState(N.targetId,R?.fromCache?"not-current":"current"),R){y.push(R);const J=F.Li(N.targetId,R);_.push(J)}}))}),yield Promise.all(I),f.dc.nu(y),yield function(S,N){return(l=l||(0,B.Z)(function*(R,J){const me=Pe(R);try{yield me.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ie=>q.forEach(J,et=>q.forEach(et.Fi,nt=>me.persistence.referenceDelegate.addReference(Ie,et.targetId,nt)).next(()=>q.forEach(et.Bi,nt=>me.persistence.referenceDelegate.removeReference(Ie,et.targetId,nt)))))}catch(Ie){if(!xa(Ie))throw Ie;Ee("LocalStore","Failed to update sequence numbers: "+Ie)}for(const Ie of J){const et=Ie.targetId;if(!Ie.fromCache){const nt=me.Ji.get(et),gt=nt.withLastLimboFreeSnapshotVersion(nt.snapshotVersion);me.Ji=me.Ji.insert(et,gt)}}})).apply(this,arguments)}(f.localStore,_))})).apply(this,arguments)}function RN(t,e){return(bC=bC||(0,B.Z)(function*(n,r){const o=Pe(n);if(!o.currentUser.isEqual(r)){Ee("SyncEngine","User change. New user:",r.toKey());const u=yield Me(o.localStore,r);o.currentUser=r,(l=o).Ec.forEach(y=>{y.forEach(_=>{_.reject(new fe(Y.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.Ec.clear(),o.sharedClientState.handleUserChange(r,u.removedBatchIds,u.addedBatchIds),yield ac(o,u.er)}var l})).apply(this,arguments)}function PN(t,e){const n=Pe(t),r=n.yc.get(e);if(r&&r.fc)return Et().add(r.key);{let o=Et();const u=n._c.get(e);if(!u)return o;for(const l of u){const f=n.wc.get(l);o=o.unionWith(f.view.nc)}return o}}class QI{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,B.Z)(function*(){n.serializer=h0(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function ge(t,e,n,r){return new te(t,e,n,r)}(this.persistence,new $,e.initialUser,this.serializer)}createPersistence(e){return new s(c.zs,this.serializer)}createSharedClientState(e){return new Lx}terminate(){var e=this;return(0,B.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class qm{initialize(e,n){var r=this;return(0,B.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>Jx(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=RN.bind(null,r.syncEngine),yield function iM(t,e){return(Q_=Q_||(0,B.Z)(function*(n,r){const o=Pe(n);r?(o.vu.delete(2),yield f0(o)):r||(o.vu.add(2),yield Bm(o),o.bu.set("Unknown"))})).apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new yN}createDatastore(e){const n=h0(e.databaseInfo.databaseId),r=new J1(e.databaseInfo);return new rN(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,o=e.asyncQueue,u=f=>Jx(this.syncEngine,f,0),l=Vx.D()?new Vx:new Y1,new oN(n,r,o,u,l);var n,r,o,u,l}createSyncEngine(e,n){return function(r,o,u,l,f,y,_){const I=new IN(r,o,u,l,f,y);return _&&(I.vc=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){var e;return function(n){return(e=e||(0,B.Z)(function*(r){const o=Pe(r);Ee("RemoteStore","RemoteStore shutting down."),o.vu.add(5),yield Bm(o),o.Pu.shutdown(),o.bu.set("Unknown")})).apply(this,arguments)}(this.remoteStore)}}class XI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):fn("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class WN{constructor(e,n,r,o){var l,u=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=yr.UNAUTHENTICATED,this.clientId=PC.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(f){return(l=l||(0,B.Z)(function*(y){Ee("FirestoreClient","Received user=",y.uid),yield u.authCredentialListener(y),u.user=y})).apply(this,arguments)}),this.appCheckCredentials.start(r,f=>(Ee("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,B.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new fe(Y.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Jn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,B.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const o=$m(r,"Failed to shutdown persistence");n.reject(o)}})),n.promise}}function JI(t,e){return(TC=TC||(0,B.Z)(function*(n,r){var o;n.asyncQueue.verifyOperationInProgress(),Ee("FirestoreClient","Initializing OfflineComponentProvider");const u=yield n.getConfiguration();yield r.initialize(u);let l=u.initialUser;n.setCredentialChangeListener(function(f){return(o=o||(0,B.Z)(function*(y){l.isEqual(y)||(yield Me(r.localStore,y),l=y)})).apply(this,arguments)}),r.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=r})).apply(this,arguments)}function yM(t,e){return(rw=rw||(0,B.Z)(function*(n,r){n.asyncQueue.verifyOperationInProgress();const o=yield function vM(t){return(Pl=Pl||(0,B.Z)(function*(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Ee("FirestoreClient","Using user provided OfflineComponentProvider");try{yield JI(e,e._uninitializedComponentsProvider._offline)}catch(n){const r=n;if(!function o1(t){return"FirebaseError"===t.name?t.code===Y.FAILED_PRECONDITION||t.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r))throw r;ms("Error using user provided cache. Falling back to memory cache: "+r),yield JI(e,new QI)}}else Ee("FirestoreClient","Using default OfflineComponentProvider"),yield JI(e,new QI);return e._offlineComponents})).apply(this,arguments)}(n);Ee("FirestoreClient","Initializing OnlineComponentProvider");const u=yield n.getConfiguration();yield r.initialize(o,u),n.setCredentialChangeListener(l=>zx(r.remoteStore,l)),n.setAppCheckTokenChangeListener((l,f)=>zx(r.remoteStore,f)),n._onlineComponents=r})).apply(this,arguments)}function Wm(t){return(MC=MC||(0,B.Z)(function*(e){const n=yield function eb(t){return(AC=AC||(0,B.Z)(function*(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Ee("FirestoreClient","Using user provided OnlineComponentProvider"),yield yM(e,e._uninitializedComponentsProvider._online)):(Ee("FirestoreClient","Using default OnlineComponentProvider"),yield yM(e,new qm))),e._onlineComponents})).apply(this,arguments)}(e),r=n.eventManager;return r.onListen=bN.bind(null,n.syncEngine),r.onUnlisten=SN.bind(null,n.syncEngine),r})).apply(this,arguments)}function h1(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const f1=new Map;function wM(t,e,n){if(!n)throw new fe(Y.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function p1(t){if(!Ne.isDocumentKey(t))throw new fe(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function g1(t){if(Ne.isDocumentKey(t))throw new fe(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Gt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=function nb(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":Ue()}(t);throw new fe(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class y1{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new fe(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new fe(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function nO(t,e,n,r){if(!0===e&&!0===r)throw new fe(Y.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=h1(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new fe(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new fe(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new fe(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class g0{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new y1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new fe(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new fe(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new y1(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new NC;switch(n.type){case"firstParty":return new sw(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new fe(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=f1.get(e);n&&(Ee("ComponentProvider","Removing Datastore"),f1.delete(e),n.terminate())}(this),Promise.resolve()}}class rr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $a(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rr(this.firestore,e,this._key)}}class ri{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ri(this.firestore,e,this._query)}}class $a extends ri{constructor(e,n,r){super(e,n,La(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rr(this.firestore,null,new Ne(e))}withConverter(e){return new $a(this.firestore,e,this._path)}}function iO(t,e,...n){if(t=(0,Jv.m9)(t),wM("collection","path",e),t instanceof g0){const r=Vt.fromString(e,...n);return g1(r),new $a(t,null,r)}{if(!(t instanceof rr||t instanceof $a))throw new fe(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Vt.fromString(e,...n));return g1(r),new $a(t.firestore,null,r)}}function v1(t,e,...n){if(t=(0,Jv.m9)(t),1===arguments.length&&(e=PC.A()),wM("doc","path",e),t instanceof g0){const r=Vt.fromString(e,...n);return p1(r),new rr(t,null,new Ne(r))}{if(!(t instanceof rr||t instanceof $a))throw new fe(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Vt.fromString(e,...n));return p1(r),new rr(t.firestore,t instanceof $a?t.converter:null,new Ne(r))}}class sO{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new eM(this,"async_queue_retry"),this.Xc=()=>{const n=KI();n&&Ee("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=KI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=KI();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Jn;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,B.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!xa(n))throw n;Ee("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,fn("INTERNAL UNHANDLED ERROR: ",function(u){let l=u.message||"";return u.stack&&(l=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),l}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const o=sM.createAndSchedule(this,e,n,r,u=>this.na(u));return this.zc.push(o),o}Zc(){this.Wc&&Ue()}verifyOperationInProgress(){}sa(){var e=this;return(0,B.Z)(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class An extends g0{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new sO,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||w1(this),this._firestoreClient.terminate()}}function _r(t){return t._firestoreClient||w1(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function w1(t){var e,n,r;const o=t._freezeSettings(),u=(f=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new uA(t._databaseId,f,t._persistenceKey,(_=o).host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,h1(_.experimentalLongPollingOptions),_.useFetchStreams));var f,_;t._firestoreClient=new WN(t._authCredentials,t._appCheckCredentials,t._queue,u),null!==(n=o.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=o.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.cache.kind,_offline:o.cache._offlineComponentProvider,_online:o.cache._onlineComponentProvider})}class Af{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Af(er.fromBase64String(e))}catch(n){throw new fe(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Af(er.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Km{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new fe(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class EM{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return pt(this._lat,e._lat)||pt(this._long,e._long)}}const pO=new RegExp("[~\\*/\\[\\]]");function sb(t,e,n,r,o){const u=r&&!r.isEmpty(),l=void 0!==o;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let y="";return(u||l)&&(y+=" (found",u&&(y+=` in field ${r}`),l&&(y+=` in document ${o}`),y+=")"),new fe(Y.INVALID_ARGUMENT,f+t+y)}class SM{constructor(e,n,r,o,u){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new rr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new gO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ob("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class gO extends SM{data(){return super.data()}}function ob(t,e){return"string"==typeof e?function ib(t,e,n){if(e.search(pO)>=0)throw sb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Km(...e.split("."))._internalPath}catch{throw sb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}(t,e):e instanceof Km?e._internalPath:e._delegate._internalPath}class yO{convertValue(e,n="none"){switch(Ra(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(No(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Ue()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return qu(e,(o,u)=>{r[o]=this.convertValue(u,n)}),r}convertGeoPoint(e){return new EM(Nn(e.latitude),Nn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Wu(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Hl(e));default:return null}}convertTimestamp(e){const n=zi(e);return new Tn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Vt.fromString(e);Ke(bI(r));const o=new Oa(r.get(1),r.get(3)),u=new Ne(r.popFirst(5));return o.isEqual(n)||fn(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class xf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qm extends SM{constructor(e,n,r,o,u,l){super(e,n,r,o,l),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new lb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ob("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class lb extends Qm{data(e={}){return super.data(e)}}class Xm{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new xf(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new lb(this._firestore,this._userDataWriter,r.key,r,new xf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new lb(r._firestore,r._userDataWriter,l.doc.key,l.doc,new xf(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>o||3!==l.type).map(l=>{const f=new lb(r._firestore,r._userDataWriter,l.doc.key,l.doc,new xf(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let y=-1,_=-1;return 0!==l.type&&(y=u.indexOf(l.doc.key),u=u.delete(l.doc.key)),1!==l.type&&(u=u.add(l.doc),_=u.indexOf(l.doc.key)),{type:_O(l.type),doc:f,oldIndex:y,newIndex:_}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function _O(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue()}}function wO(t){t=Gt(t,rr);const e=Gt(t.firestore,An);return function l1(t,e,n={}){const r=new Jn;return t.asyncQueue.enqueueAndForget((0,B.Z)(function*(){return function(o,u,l,f,y){const _=new XI({next:S=>{u.enqueueAndForget(()=>aM(o,I));const N=S.docs.has(l);!N&&S.fromCache?y.reject(new fe(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&S.fromCache&&f&&"server"===f.source?y.reject(new fe(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),I=new cM(La(l.path),_,{includeMetadataChanges:!0,Ku:!0});return oM(o,I)}(yield Wm(t),t.asyncQueue,e,n,r)})),r.promise}(_r(e),t._key).then(n=>function MM(t,e,n){const r=n.docs.get(e._key),o=new cd(t);return new Qm(t,o,e._key,r,new xf(n.hasPendingWrites,n.fromCache),e.converter)}(e,t,n))}class cd extends yO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Af(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new rr(this.firestore,null,n)}}function DO(t){t=Gt(t,ri);const e=Gt(t.firestore,An),n=_r(e),r=new cd(e);return function R1(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new fe(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query),function d1(t,e,n={}){const r=new Jn;return t.asyncQueue.enqueueAndForget((0,B.Z)(function*(){return function(o,u,l,f,y){const _=new XI({next:S=>{u.enqueueAndForget(()=>aM(o,I)),S.fromCache&&"server"===f.source?y.reject(new fe(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),I=new cM(l,_,{includeMetadataChanges:!0,Ku:!0});return oM(o,I)}(yield Wm(t),t.asyncQueue,e,n,r)})),r.promise}(n,t._query).then(o=>new Xm(e,r,t,o))}!function(t,e=!0){sf=Mh.SDK_VERSION,(0,Mh._registerComponent)(new vE.wA("firestore",(n,{instanceIdentifier:r,options:o})=>{const u=n.getProvider("app").getImmediate(),l=new An(new UT(n.getProvider("auth-internal")),new RC(n.getProvider("app-check-internal")),function(f,y){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new fe(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oa(f.options.projectId,y)}(u,r),u);return o=Object.assign({useFetchStreams:e},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),(0,Mh.registerVersion)(xC,"3.13.0",t),(0,Mh.registerVersion)(xC,"3.13.0","esm2017")}();class hb{constructor(e){return e}}const LO=(0,al.u3)(iO,!0),VO=(0,al.u3)(v1,!0),BO=(0,al.u3)(wO,!0),jO=(0,al.u3)(DO,!0);let UO=(()=>{var t;class e{constructor(r){this.firestore=r,this.animeCollection=LO(this.firestore,"animes")}getTopRatedAnimes(){try{return(0,Ln.D)(jO(this.animeCollection)).pipe((0,qt.U)(r=>r.docs.map(o=>o.data())))}catch(r){return console.error("Erro ao buscar animes:",r),(0,Je.of)([])}}getAnimeDetails(r){try{const o=VO(this.animeCollection,r.toString());return(0,Ln.D)(BO(o)).pipe((0,qt.U)(u=>u.exists()?u.data():null))}catch(o){return console.error("Erro ao buscar detalhes do anime:",o),(0,Je.of)(null)}}}return(t=e).\u0275fac=function(r){return new(r||t)(p.LFG(hb))},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac}),e})();const $O=new p.OlP("UserService");let HO=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({providers:[{provide:qv,useClass:UO},{provide:$O,useClass:Kv}]}),e})();const NM={production:!1,firebase:{projectId:"eienotaku-5ce77",appId:"1:218697815529:web:1abcf52fa6a81d17dde778",storageBucket:"eienotaku-5ce77.appspot.com",locationId:"southamerica-east1",apiKey:"AIzaSyCZuyXetpn7UYxgSyZ-13I56bAOD_hhz34",authDomain:"eienotaku-5ce77.firebaseapp.com",messagingSenderId:"218697815529",measurementId:"G-VYY9C4C6DS"}};let GO=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=p.oAB({type:t,bootstrap:[dE]}),t.\u0275inj=p.cJS({providers:[{provide:"FirebaseConfig",useValue:NM.firebase}],imports:[Vi,So,Bb,HO,rT.hO.initializeApp(NM.firebase)]}),e})();var $1;NM.firebase&&(0,p.G48)(),function zO(){($1=$1||(0,B.Z)(function*(){try{yield Xf().bootstrapModule(GO),console.log("Aplica\xe7\xe3o Angular iniciada com sucesso!")}catch(t){console.error(t)}})).apply(this,arguments)}()},5619:(rt,ve,x)=>{x.d(ve,{X:()=>p});var B=x(8645);class p extends B.x{constructor(z){super(),this._value=z}get value(){return this.getValue()}_subscribe(z){const se=super._subscribe(z);return!se.closed&&z.next(this._value),se}getValue(){const{hasError:z,thrownError:se,_value:ae}=this;if(z)throw se;return this._throwIfClosed(),ae}next(z){super.next(this._value=z)}}},5592:(rt,ve,x)=>{x.d(ve,{y:()=>ke});var B=x(305),p=x(7394),H=x(4850),z=x(8407),se=x(2653),ae=x(4674),be=x(1441);let ke=(()=>{class ee{constructor(pe){pe&&(this._subscribe=pe)}lift(pe){const Oe=new ee;return Oe.source=this,Oe.operator=pe,Oe}subscribe(pe,Oe,ht){const _t=function k(ee){return ee&&ee instanceof B.Lv||function V(ee){return ee&&(0,ae.m)(ee.next)&&(0,ae.m)(ee.error)&&(0,ae.m)(ee.complete)}(ee)&&(0,p.Nn)(ee)}(pe)?pe:new B.Hp(pe,Oe,ht);return(0,be.x)(()=>{const{operator:Ze,source:Ht}=this;_t.add(Ze?Ze.call(_t,Ht):Ht?this._subscribe(_t):this._trySubscribe(_t))}),_t}_trySubscribe(pe){try{return this._subscribe(pe)}catch(Oe){pe.error(Oe)}}forEach(pe,Oe){return new(Oe=ye(Oe))((ht,_t)=>{const Ze=new B.Hp({next:Ht=>{try{pe(Ht)}catch(wn){_t(wn),Ze.unsubscribe()}},error:_t,complete:ht});this.subscribe(Ze)})}_subscribe(pe){var Oe;return null===(Oe=this.source)||void 0===Oe?void 0:Oe.subscribe(pe)}[H.L](){return this}pipe(...pe){return(0,z.U)(pe)(this)}toPromise(pe){return new(pe=ye(pe))((Oe,ht)=>{let _t;this.subscribe(Ze=>_t=Ze,Ze=>ht(Ze),()=>Oe(_t))})}}return ee.create=Ce=>new ee(Ce),ee})();function ye(ee){var Ce;return null!==(Ce=ee??se.config.Promise)&&void 0!==Ce?Ce:Promise}},8645:(rt,ve,x)=>{x.d(ve,{x:()=>be});var B=x(5592),p=x(7394);const z=(0,x(2306).d)(ye=>function(){ye(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=x(9039),ae=x(1441);let be=(()=>{class ye extends B.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(k){const ee=new ke(this,this);return ee.operator=k,ee}_throwIfClosed(){if(this.closed)throw new z}next(k){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ee of this.currentObservers)ee.next(k)}})}error(k){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=k;const{observers:ee}=this;for(;ee.length;)ee.shift().error(k)}})}complete(){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:k}=this;for(;k.length;)k.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var k;return(null===(k=this.observers)||void 0===k?void 0:k.length)>0}_trySubscribe(k){return this._throwIfClosed(),super._trySubscribe(k)}_subscribe(k){return this._throwIfClosed(),this._checkFinalizedStatuses(k),this._innerSubscribe(k)}_innerSubscribe(k){const{hasError:ee,isStopped:Ce,observers:pe}=this;return ee||Ce?p.Lc:(this.currentObservers=null,pe.push(k),new p.w0(()=>{this.currentObservers=null,(0,se.P)(pe,k)}))}_checkFinalizedStatuses(k){const{hasError:ee,thrownError:Ce,isStopped:pe}=this;ee?k.error(Ce):pe&&k.complete()}asObservable(){const k=new B.y;return k.source=this,k}}return ye.create=(V,k)=>new ke(V,k),ye})();class ke extends be{constructor(V,k){super(),this.destination=V,this.source=k}next(V){var k,ee;null===(ee=null===(k=this.destination)||void 0===k?void 0:k.next)||void 0===ee||ee.call(k,V)}error(V){var k,ee;null===(ee=null===(k=this.destination)||void 0===k?void 0:k.error)||void 0===ee||ee.call(k,V)}complete(){var V,k;null===(k=null===(V=this.destination)||void 0===V?void 0:V.complete)||void 0===k||k.call(V)}_subscribe(V){var k,ee;return null!==(ee=null===(k=this.source)||void 0===k?void 0:k.subscribe(V))&&void 0!==ee?ee:p.Lc}}},305:(rt,ve,x)=>{x.d(ve,{Hp:()=>ht,Lv:()=>ee});var B=x(4674),p=x(7394),H=x(2653),z=x(3894),se=x(2420);const ae=ye("C",void 0,void 0);function ye(we,Se,de){return{kind:we,value:Se,error:de}}var V=x(7599),k=x(1441);class ee extends p.w0{constructor(Se){super(),this.isStopped=!1,Se?(this.destination=Se,(0,p.Nn)(Se)&&Se.add(this)):this.destination=wn}static create(Se,de,Be){return new ht(Se,de,Be)}next(Se){this.isStopped?Ht(function ke(we){return ye("N",we,void 0)}(Se),this):this._next(Se)}error(Se){this.isStopped?Ht(function be(we){return ye("E",void 0,we)}(Se),this):(this.isStopped=!0,this._error(Se))}complete(){this.isStopped?Ht(ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Se){this.destination.next(Se)}_error(Se){try{this.destination.error(Se)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ce=Function.prototype.bind;function pe(we,Se){return Ce.call(we,Se)}class Oe{constructor(Se){this.partialObserver=Se}next(Se){const{partialObserver:de}=this;if(de.next)try{de.next(Se)}catch(Be){_t(Be)}}error(Se){const{partialObserver:de}=this;if(de.error)try{de.error(Se)}catch(Be){_t(Be)}else _t(Se)}complete(){const{partialObserver:Se}=this;if(Se.complete)try{Se.complete()}catch(de){_t(de)}}}class ht extends ee{constructor(Se,de,Be){let ut;if(super(),(0,B.m)(Se)||!Se)ut={next:Se??void 0,error:de??void 0,complete:Be??void 0};else{let re;this&&H.config.useDeprecatedNextContext?(re=Object.create(Se),re.unsubscribe=()=>this.unsubscribe(),ut={next:Se.next&&pe(Se.next,re),error:Se.error&&pe(Se.error,re),complete:Se.complete&&pe(Se.complete,re)}):ut=Se}this.destination=new Oe(ut)}}function _t(we){H.config.useDeprecatedSynchronousErrorHandling?(0,k.O)(we):(0,z.h)(we)}function Ht(we,Se){const{onStoppedNotification:de}=H.config;de&&V.z.setTimeout(()=>de(we,Se))}const wn={closed:!0,next:se.Z,error:function Ze(we){throw we},complete:se.Z}},7394:(rt,ve,x)=>{x.d(ve,{Lc:()=>ae,w0:()=>se,Nn:()=>be});var B=x(4674);const H=(0,x(2306).d)(ye=>function(k){ye(this),this.message=k?`${k.length} errors occurred during unsubscription:\n${k.map((ee,Ce)=>`${Ce+1}) ${ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=k});var z=x(9039);class se{constructor(V){this.initialTeardown=V,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let V;if(!this.closed){this.closed=!0;const{_parentage:k}=this;if(k)if(this._parentage=null,Array.isArray(k))for(const pe of k)pe.remove(this);else k.remove(this);const{initialTeardown:ee}=this;if((0,B.m)(ee))try{ee()}catch(pe){V=pe instanceof H?pe.errors:[pe]}const{_finalizers:Ce}=this;if(Ce){this._finalizers=null;for(const pe of Ce)try{ke(pe)}catch(Oe){V=V??[],Oe instanceof H?V=[...V,...Oe.errors]:V.push(Oe)}}if(V)throw new H(V)}}add(V){var k;if(V&&V!==this)if(this.closed)ke(V);else{if(V instanceof se){if(V.closed||V._hasParent(this))return;V._addParent(this)}(this._finalizers=null!==(k=this._finalizers)&&void 0!==k?k:[]).push(V)}}_hasParent(V){const{_parentage:k}=this;return k===V||Array.isArray(k)&&k.includes(V)}_addParent(V){const{_parentage:k}=this;this._parentage=Array.isArray(k)?(k.push(V),k):k?[k,V]:V}_removeParent(V){const{_parentage:k}=this;k===V?this._parentage=null:Array.isArray(k)&&(0,z.P)(k,V)}remove(V){const{_finalizers:k}=this;k&&(0,z.P)(k,V),V instanceof se&&V._removeParent(this)}}se.EMPTY=(()=>{const ye=new se;return ye.closed=!0,ye})();const ae=se.EMPTY;function be(ye){return ye instanceof se||ye&&"closed"in ye&&(0,B.m)(ye.remove)&&(0,B.m)(ye.add)&&(0,B.m)(ye.unsubscribe)}function ke(ye){(0,B.m)(ye)?ye():ye.unsubscribe()}},2653:(rt,ve,x)=>{x.d(ve,{config:()=>B});const B={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(rt,ve,x)=>{x.d(ve,{E:()=>p});const p=new(x(5592).y)(se=>se.complete())},2459:(rt,ve,x)=>{x.d(ve,{D:()=>Se});var B=x(4829),p=x(3093),H=x(5137),ae=x(5592),ke=x(4971),ye=x(4674),V=x(7103);function ee(de,Be){if(!de)throw new Error("Iterable cannot be null");return new ae.y(ut=>{(0,V.f)(ut,Be,()=>{const re=de[Symbol.asyncIterator]();(0,V.f)(ut,Be,()=>{re.next().then(Q=>{Q.done?ut.complete():ut.next(Q.value)})},0,!0)})})}var Ce=x(8382),pe=x(4026),Oe=x(4266),ht=x(3664),_t=x(5726),Ze=x(9853),Ht=x(541);function Se(de,Be){return Be?function we(de,Be){if(null!=de){if((0,Ce.c)(de))return function z(de,Be){return(0,B.Xf)(de).pipe((0,H.R)(Be),(0,p.Q)(Be))}(de,Be);if((0,Oe.z)(de))return function be(de,Be){return new ae.y(ut=>{let re=0;return Be.schedule(function(){re===de.length?ut.complete():(ut.next(de[re++]),ut.closed||this.schedule())})})}(de,Be);if((0,pe.t)(de))return function se(de,Be){return(0,B.Xf)(de).pipe((0,H.R)(Be),(0,p.Q)(Be))}(de,Be);if((0,_t.D)(de))return ee(de,Be);if((0,ht.T)(de))return function k(de,Be){return new ae.y(ut=>{let re;return(0,V.f)(ut,Be,()=>{re=de[ke.h](),(0,V.f)(ut,Be,()=>{let Q,Ye;try{({value:Q,done:Ye}=re.next())}catch(tt){return void ut.error(tt)}Ye?ut.complete():ut.next(Q)},0,!0)}),()=>(0,ye.m)(re?.return)&&re.return()})}(de,Be);if((0,Ht.L)(de))return function wn(de,Be){return ee((0,Ht.Q)(de),Be)}(de,Be)}throw(0,Ze.z)(de)}(de,Be):(0,B.Xf)(de)}},4829:(rt,ve,x)=>{x.d(ve,{Xf:()=>Ce});var B=x(7582),p=x(4266),H=x(4026),z=x(5592),se=x(8382),ae=x(5726),be=x(9853),ke=x(3664),ye=x(541),V=x(4674),k=x(3894),ee=x(4850);function Ce(we){if(we instanceof z.y)return we;if(null!=we){if((0,se.c)(we))return function pe(we){return new z.y(Se=>{const de=we[ee.L]();if((0,V.m)(de.subscribe))return de.subscribe(Se);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(we);if((0,p.z)(we))return function Oe(we){return new z.y(Se=>{for(let de=0;de<we.length&&!Se.closed;de++)Se.next(we[de]);Se.complete()})}(we);if((0,H.t)(we))return function ht(we){return new z.y(Se=>{we.then(de=>{Se.closed||(Se.next(de),Se.complete())},de=>Se.error(de)).then(null,k.h)})}(we);if((0,ae.D)(we))return Ze(we);if((0,ke.T)(we))return function _t(we){return new z.y(Se=>{for(const de of we)if(Se.next(de),Se.closed)return;Se.complete()})}(we);if((0,ye.L)(we))return function Ht(we){return Ze((0,ye.Q)(we))}(we)}throw(0,be.z)(we)}function Ze(we){return new z.y(Se=>{(function wn(we,Se){var de,Be,ut,re;return(0,B.mG)(this,void 0,void 0,function*(){try{for(de=(0,B.KL)(we);!(Be=yield de.next()).done;)if(Se.next(Be.value),Se.closed)return}catch(Q){ut={error:Q}}finally{try{Be&&!Be.done&&(re=de.return)&&(yield re.call(de))}finally{if(ut)throw ut.error}}Se.complete()})})(we,Se).catch(de=>Se.error(de))})}},2096:(rt,ve,x)=>{x.d(ve,{of:()=>H});var B=x(4564),p=x(2459);function H(...z){const se=(0,B.yG)(z);return(0,p.D)(z,se)}},8251:(rt,ve,x)=>{x.d(ve,{x:()=>p});var B=x(305);function p(z,se,ae,be,ke){return new H(z,se,ae,be,ke)}class H extends B.Lv{constructor(se,ae,be,ke,ye,V){super(se),this.onFinalize=ye,this.shouldUnsubscribe=V,this._next=ae?function(k){try{ae(k)}catch(ee){se.error(ee)}}:super._next,this._error=ke?function(k){try{ke(k)}catch(ee){se.error(ee)}finally{this.unsubscribe()}}:super._error,this._complete=be?function(){try{be()}catch(k){se.error(k)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ae}=this;super.unsubscribe(),!ae&&(null===(se=this.onFinalize)||void 0===se||se.call(this))}}}},7398:(rt,ve,x)=>{x.d(ve,{U:()=>H});var B=x(9360),p=x(8251);function H(z,se){return(0,B.e)((ae,be)=>{let ke=0;ae.subscribe((0,p.x)(be,ye=>{be.next(z.call(se,ye,ke++))}))})}},7537:(rt,ve,x)=>{x.d(ve,{J:()=>H});var B=x(1631),p=x(2737);function H(z=1/0){return(0,B.z)(p.y,z)}},1631:(rt,ve,x)=>{x.d(ve,{z:()=>ke});var B=x(7398),p=x(4829),H=x(9360),z=x(7103),se=x(8251),be=x(4674);function ke(ye,V,k=1/0){return(0,be.m)(V)?ke((ee,Ce)=>(0,B.U)((pe,Oe)=>V(ee,pe,Ce,Oe))((0,p.Xf)(ye(ee,Ce))),k):("number"==typeof V&&(k=V),(0,H.e)((ee,Ce)=>function ae(ye,V,k,ee,Ce,pe,Oe,ht){const _t=[];let Ze=0,Ht=0,wn=!1;const we=()=>{wn&&!_t.length&&!Ze&&V.complete()},Se=Be=>Ze<ee?de(Be):_t.push(Be),de=Be=>{pe&&V.next(Be),Ze++;let ut=!1;(0,p.Xf)(k(Be,Ht++)).subscribe((0,se.x)(V,re=>{Ce?.(re),pe?Se(re):V.next(re)},()=>{ut=!0},void 0,()=>{if(ut)try{for(Ze--;_t.length&&Ze<ee;){const re=_t.shift();Oe?(0,z.f)(V,Oe,()=>de(re)):de(re)}we()}catch(re){V.error(re)}}))};return ye.subscribe((0,se.x)(V,Se,()=>{wn=!0,we()})),()=>{ht?.()}}(ee,Ce,ye,k)))}},3093:(rt,ve,x)=>{x.d(ve,{Q:()=>z});var B=x(7103),p=x(9360),H=x(8251);function z(se,ae=0){return(0,p.e)((be,ke)=>{be.subscribe((0,H.x)(ke,ye=>(0,B.f)(ke,se,()=>ke.next(ye),ae),()=>(0,B.f)(ke,se,()=>ke.complete(),ae),ye=>(0,B.f)(ke,se,()=>ke.error(ye),ae)))})}},5137:(rt,ve,x)=>{x.d(ve,{R:()=>p});var B=x(9360);function p(H,z=0){return(0,B.e)((se,ae)=>{ae.add(H.schedule(()=>se.subscribe(ae),z))})}},4664:(rt,ve,x)=>{x.d(ve,{w:()=>z});var B=x(4829),p=x(9360),H=x(8251);function z(se,ae){return(0,p.e)((be,ke)=>{let ye=null,V=0,k=!1;const ee=()=>k&&!ye&&ke.complete();be.subscribe((0,H.x)(ke,Ce=>{ye?.unsubscribe();let pe=0;const Oe=V++;(0,B.Xf)(se(Ce,Oe)).subscribe(ye=(0,H.x)(ke,ht=>ke.next(ae?ae(Ce,ht,Oe,pe++):ht),()=>{ye=null,ee()}))},()=>{k=!0,ee()}))})}},9397:(rt,ve,x)=>{x.d(ve,{b:()=>se});var B=x(4674),p=x(9360),H=x(8251),z=x(2737);function se(ae,be,ke){const ye=(0,B.m)(ae)||be||ke?{next:ae,error:be,complete:ke}:ae;return ye?(0,p.e)((V,k)=>{var ee;null===(ee=ye.subscribe)||void 0===ee||ee.call(ye);let Ce=!0;V.subscribe((0,H.x)(k,pe=>{var Oe;null===(Oe=ye.next)||void 0===Oe||Oe.call(ye,pe),k.next(pe)},()=>{var pe;Ce=!1,null===(pe=ye.complete)||void 0===pe||pe.call(ye),k.complete()},pe=>{var Oe;Ce=!1,null===(Oe=ye.error)||void 0===Oe||Oe.call(ye,pe),k.error(pe)},()=>{var pe,Oe;Ce&&(null===(pe=ye.unsubscribe)||void 0===pe||pe.call(ye)),null===(Oe=ye.finalize)||void 0===Oe||Oe.call(ye)}))}):z.y}},7599:(rt,ve,x)=>{x.d(ve,{z:()=>B});const B={setTimeout(p,H,...z){const{delegate:se}=B;return se?.setTimeout?se.setTimeout(p,H,...z):setTimeout(p,H,...z)},clearTimeout(p){const{delegate:H}=B;return(H?.clearTimeout||clearTimeout)(p)},delegate:void 0}},4971:(rt,ve,x)=>{x.d(ve,{h:()=>p});const p=function B(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(rt,ve,x)=>{x.d(ve,{L:()=>B});const B="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(rt,ve,x)=>{x.d(ve,{_6:()=>ae,jO:()=>z,yG:()=>se});var B=x(4674);function H(be){return be[be.length-1]}function z(be){return(0,B.m)(H(be))?be.pop():void 0}function se(be){return function p(be){return be&&(0,B.m)(be.schedule)}(H(be))?be.pop():void 0}function ae(be,ke){return"number"==typeof H(be)?be.pop():ke}},9039:(rt,ve,x)=>{function B(p,H){if(p){const z=p.indexOf(H);0<=z&&p.splice(z,1)}}x.d(ve,{P:()=>B})},2306:(rt,ve,x)=>{function B(p){const z=p(se=>{Error.call(se),se.stack=(new Error).stack});return z.prototype=Object.create(Error.prototype),z.prototype.constructor=z,z}x.d(ve,{d:()=>B})},1441:(rt,ve,x)=>{x.d(ve,{O:()=>z,x:()=>H});var B=x(2653);let p=null;function H(se){if(B.config.useDeprecatedSynchronousErrorHandling){const ae=!p;if(ae&&(p={errorThrown:!1,error:null}),se(),ae){const{errorThrown:be,error:ke}=p;if(p=null,be)throw ke}}else se()}function z(se){B.config.useDeprecatedSynchronousErrorHandling&&p&&(p.errorThrown=!0,p.error=se)}},7103:(rt,ve,x)=>{function B(p,H,z,se=0,ae=!1){const be=H.schedule(function(){z(),ae?p.add(this.schedule(null,se)):this.unsubscribe()},se);if(p.add(be),!ae)return be}x.d(ve,{f:()=>B})},2737:(rt,ve,x)=>{function B(p){return p}x.d(ve,{y:()=>B})},4266:(rt,ve,x)=>{x.d(ve,{z:()=>B});const B=p=>p&&"number"==typeof p.length&&"function"!=typeof p},5726:(rt,ve,x)=>{x.d(ve,{D:()=>p});var B=x(4674);function p(H){return Symbol.asyncIterator&&(0,B.m)(H?.[Symbol.asyncIterator])}},4674:(rt,ve,x)=>{function B(p){return"function"==typeof p}x.d(ve,{m:()=>B})},8382:(rt,ve,x)=>{x.d(ve,{c:()=>H});var B=x(4850),p=x(4674);function H(z){return(0,p.m)(z[B.L])}},3664:(rt,ve,x)=>{x.d(ve,{T:()=>H});var B=x(4971),p=x(4674);function H(z){return(0,p.m)(z?.[B.h])}},4026:(rt,ve,x)=>{x.d(ve,{t:()=>p});var B=x(4674);function p(H){return(0,B.m)(H?.then)}},541:(rt,ve,x)=>{x.d(ve,{L:()=>z,Q:()=>H});var B=x(7582),p=x(4674);function H(se){return(0,B.FC)(this,arguments,function*(){const be=se.getReader();try{for(;;){const{value:ke,done:ye}=yield(0,B.qq)(be.read());if(ye)return yield(0,B.qq)(void 0);yield yield(0,B.qq)(ke)}}finally{be.releaseLock()}})}function z(se){return(0,p.m)(se?.getReader)}},9360:(rt,ve,x)=>{x.d(ve,{A:()=>p,e:()=>H});var B=x(4674);function p(z){return(0,B.m)(z?.lift)}function H(z){return se=>{if(p(se))return se.lift(function(ae){try{return z(ae,this)}catch(be){this.error(be)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(rt,ve,x)=>{function B(){}x.d(ve,{Z:()=>B})},8407:(rt,ve,x)=>{x.d(ve,{U:()=>H,z:()=>p});var B=x(2737);function p(...z){return H(z)}function H(z){return 0===z.length?B.y:1===z.length?z[0]:function(ae){return z.reduce((be,ke)=>ke(be),ae)}}},3894:(rt,ve,x)=>{x.d(ve,{h:()=>H});var B=x(2653),p=x(7599);function H(z){p.z.setTimeout(()=>{const{onUnhandledError:se}=B.config;if(!se)throw z;se(z)})}},9853:(rt,ve,x)=>{function B(p){return new TypeError(`You provided ${null!==p&&"object"==typeof p?"an invalid object":`'${p}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}x.d(ve,{z:()=>B})},4946:(rt,ve,x)=>{x.d(ve,{tb:()=>Dm,AFp:()=>Zp,ip1:()=>Ql,hGG:()=>RI,z2F:()=>tc,Ojb:()=>lS,sBO:()=>TI,Sil:()=>Xl,EJc:()=>kw,Xts:()=>_a,SBq:()=>Da,lqb:()=>ei,qLn:()=>bo,vpe:()=>Ti,XFs:()=>bt,OlP:()=>Rt,zs3:()=>Si,ZZ4:()=>id,aQg:()=>sd,soG:()=>Ju,YKP:()=>q,h0i:()=>fi,PXZ:()=>Ef,R0b:()=>hr,FiY:()=>fa,Lbi:()=>Ev,g9A:()=>Dh,Qsj:()=>yS,FYo:()=>RD,JOm:()=>ih,tp0:()=>Ii,Rgc:()=>zi,dDg:()=>_I,eoX:()=>wI,q4F:()=>FD,GfV:()=>PD,s_b:()=>Oo,ifc:()=>Fi,VuI:()=>jI,MMx:()=>Na,Lck:()=>rm,eFA:()=>Ww,G48:()=>bI,Gpc:()=>re,f3M:()=>Kt,X6Q:()=>OA,$WT:()=>Js,_c5:()=>bf,qFp:()=>KA,rg0:()=>ru,c2e:()=>cI,zSh:()=>Au,HDt:()=>lI,wAp:()=>Aa,vHH:()=>Te,lri:()=>vI,rWj:()=>Hw,cg1:()=>Ml,kL8:()=>Hu,dqk:()=>Re,Z0I:()=>It,eJc:()=>Sw,QGY:()=>_l,F4k:()=>wl,RDi:()=>Wb,AaK:()=>de,qOj:()=>n_,Xq5:()=>yg,TTD:()=>bc,_Bn:()=>VC,jDz:()=>im,xp6:()=>JD,uIk:()=>Ph,ekj:()=>M_,Suo:()=>Xt,Xpm:()=>pc,lG2:()=>Bf,Yz7:()=>tn,cJS:()=>Pr,oAB:()=>Ss,Yjl:()=>vd,Y36:()=>Sh,_UZ:()=>Mr,qZA:()=>Hh,TgZ:()=>Sa,EpF:()=>xg,n5z:()=>jc,LFG:()=>kn,$8M:()=>fo,$Z:()=>VS,NdJ:()=>Ng,CRH:()=>Yu,oxw:()=>E_,ALo:()=>sm,lcZ:()=>fw,Q6J:()=>Tg,s9C:()=>Rg,iGM:()=>ww,KtG:()=>Ty,CHM:()=>Kn,LSH:()=>fv,P3R:()=>us,YNc:()=>$h,_uU:()=>XE,Oqu:()=>Ug,hij:()=>bl,AsE:()=>Sl});var B=x(8645),p=x(7394),H=x(5592),z=x(7537),se=x(4829),ae=x(6232),be=x(4564),ke=x(2459),V=x(5619),k=x(2096),ee=x(305),Ce=x(9360);function pe(i={}){const{connector:s=(()=>new B.x),resetOnError:a=!0,resetOnComplete:c=!0,resetOnRefCountZero:d=!0}=i;return h=>{let g,m,v,E=0,b=!1,A=!1;const F=()=>{m?.unsubscribe(),m=void 0},$=()=>{F(),g=v=void 0,b=A=!1},te=()=>{const ge=g;$(),ge?.unsubscribe()};return(0,Ce.e)((ge,Me)=>{E++,!A&&!b&&F();const qe=v=v??s();Me.add(()=>{E--,0===E&&!A&&!b&&(m=Oe(te,d))}),qe.subscribe(Me),!g&&E>0&&(g=new ee.Hp({next:oe=>qe.next(oe),error:oe=>{A=!0,F(),m=Oe($,a,oe),qe.error(oe)},complete:()=>{b=!0,F(),m=Oe($,c),qe.complete()}}),(0,se.Xf)(ge).subscribe(g))})(h)}}function Oe(i,s,...a){if(!0===s)return void i();if(!1===s)return;const c=new ee.Hp({next:()=>{c.unsubscribe(),i()}});return(0,se.Xf)(s(...a)).subscribe(c)}var ht=x(4664),_t=x(2737),Ze=x(8251);function wn(i,s){return i===s}function we(i){for(let s in i)if(i[s]===we)return s;throw Error("Could not find renamed property on target object.")}function Se(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function de(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(de).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function Be(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const ut=we({__forward_ref__:we});function re(i){return i.__forward_ref__=re,i.toString=function(){return de(this())},i}function Q(i){return Ye(i)?i():i}function Ye(i){return"function"==typeof i&&i.hasOwnProperty(ut)&&i.__forward_ref__===re}function tt(i){return i&&!!i.\u0275providers}const mn="https://g.co/ng/security#xss";class Te extends Error{constructor(s,a){super(function ir(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,a)),this.code=s}}function he(i){return"string"==typeof i?i:null==i?"":String(i)}function X(i,s){throw new Te(-201,!1)}function rn(i,s){null==i&&function it(i,s,a,c){throw new Error(`ASSERTION ERROR: ${i}`+(null==c?"":` [Expected=> ${a} ${c} ${s} <=Actual]`))}(s,i,null,"!=")}function tn(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Pr(i){return{providers:i.providers||[],imports:i.imports||[]}}function Mt(i){return Cs(i,wr)||Cs(i,qi)}function It(i){return null!==Mt(i)}function Cs(i,s){return i.hasOwnProperty(s)?i[s]:null}function jn(i){return i&&(i.hasOwnProperty(qn)||i.hasOwnProperty(sn))?i[qn]:null}const wr=we({\u0275prov:we}),qn=we({\u0275inj:we}),qi=we({ngInjectableDef:we}),sn=we({ngInjectorDef:we});var bt=function(i){return i[i.Default=0]="Default",i[i.Host=1]="Host",i[i.Self=2]="Self",i[i.SkipSelf=4]="SkipSelf",i[i.Optional=8]="Optional",i}(bt||{});let jt;function Dn(i){const s=jt;return jt=i,s}function Ho(i,s,a){const c=Mt(i);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&bt.Optional?null:void 0!==s?s:void X(de(i))}const Re=globalThis,Ut={},Fn="__NG_DI_FLAG__",$n="ngTempTokenPath",St=/\n/gm,Qs="__source";let Wi;function Is(i){const s=Wi;return Wi=i,s}function ld(i,s=bt.Default){if(void 0===Wi)throw new Te(-203,!1);return null===Wi?Ho(i,void 0,s):Wi.get(i,s&bt.Optional?null:void 0,s)}function kn(i,s=bt.Default){return(function za(){return jt}()||ld)(Q(i),s)}function Kt(i,s=bt.Default){return kn(i,qa(s))}function qa(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function Go(i){const s=[];for(let a=0;a<i.length;a++){const c=Q(i[a]);if(Array.isArray(c)){if(0===c.length)throw new Te(900,!1);let d,h=bt.Default;for(let g=0;g<c.length;g++){const m=c[g],v=hd(m);"number"==typeof v?-1===v?d=m.token:h|=v:d=m}s.push(kn(d,h))}else s.push(kn(c))}return s}function bs(i,s){return i[Fn]=s,i.prototype[Fn]=s,i}function hd(i){return i[Fn]}function Pi(i){return{toString:i}.toString()}var Xs=function(i){return i[i.OnPush=0]="OnPush",i[i.Default=1]="Default",i}(Xs||{}),Fi=function(i){return i[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",i}(Fi||{});const vi={},kt=[],zo=we({\u0275cmp:we}),lc=we({\u0275dir:we}),qo=we({\u0275pipe:we}),dc=we({\u0275mod:we}),Ki=we({\u0275fac:we}),ki=we({__NG_ELEMENT_ID__:we}),hc=we({__NG_ENV_ID__:we});function fc(i,s,a){let c=i.length;for(;;){const d=i.indexOf(s,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const h=s.length;if(d+h===c||i.charCodeAt(d+h)<=32)return d}a=d+1}}function Wo(i,s,a){let c=0;for(;c<a.length;){const d=a[c];if("number"==typeof d){if(0!==d)break;c++;const h=a[c++],g=a[c++],m=a[c++];i.setAttribute(s,g,m,h)}else{const h=d,g=a[++c];Of(h)?i.setProperty(s,h,g):i.setAttribute(s,h,g),c++}}return c}function Wa(i){return 3===i||4===i||6===i}function Of(i){return 64===i.charCodeAt(0)}function Ka(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let c=0;c<s.length;c++){const d=s[c];"number"==typeof d?a=d:0===a||ty(i,a,d,null,-1===a||2===a?s[++c]:null)}}return i}function ty(i,s,a,c,d){let h=0,g=i.length;if(-1===s)g=-1;else for(;h<i.length;){const m=i[h++];if("number"==typeof m){if(m===s){g=-1;break}if(m>s){g=h-1;break}}}for(;h<i.length;){const m=i[h];if("number"==typeof m)break;if(m===a){if(null===c)return void(null!==d&&(i[h+1]=d));if(c===i[h+1])return void(i[h+2]=d)}h++,null!==c&&h++,null!==d&&h++}-1!==g&&(i.splice(g,0,s),h=g+1),i.splice(h++,0,a),null!==c&&i.splice(h++,0,c),null!==d&&i.splice(h++,0,d)}const fd="ng-template";function D0(i,s,a){let c=0,d=!0;for(;c<i.length;){let h=i[c++];if("string"==typeof h&&d){const g=i[c++];if(a&&"class"===h&&-1!==fc(g.toLowerCase(),s,0))return!0}else{if(1===h){for(;c<i.length&&"string"==typeof(h=i[c++]);)if(h.toLowerCase()===s)return!0;return!1}"number"==typeof h&&(d=!1)}}return!1}function Zi(i){return 4===i.type&&i.value!==fd}function ny(i,s,a){return s===(4!==i.type||a?i.value:fd)}function Rf(i,s,a){let c=4;const d=i.attrs||[],h=function md(i){for(let s=0;s<i.length;s++)if(Wa(i[s]))return s;return i.length}(d);let g=!1;for(let m=0;m<s.length;m++){const v=s[m];if("number"!=typeof v){if(!g)if(4&c){if(c=2|1&c,""!==v&&!ny(i,v,a)||""===v&&1===s.length){if(yn(c))return!1;g=!0}}else{const E=8&c?v:s[++m];if(8&c&&null!==i.attrs){if(!D0(i.attrs,E,a)){if(yn(c))return!1;g=!0}continue}const A=pd(8&c?"class":v,d,Zi(i),a);if(-1===A){if(yn(c))return!1;g=!0;continue}if(""!==E){let F;F=A>h?"":d[A+1].toLowerCase();const $=8&c?F:null;if($&&-1!==fc($,E,0)||2&c&&E!==F){if(yn(c))return!1;g=!0}}}}else{if(!g&&!yn(c)&&!yn(v))return!1;if(g&&yn(v))continue;g=!1,c=v|1&c}}return yn(c)||g}function yn(i){return 0==(1&i)}function pd(i,s,a,c){if(null===s)return-1;let d=0;if(c||!a){let h=!1;for(;d<s.length;){const g=s[d];if(g===i)return d;if(3===g||6===g)h=!0;else{if(1===g||2===g){let m=s[++d];for(;"string"==typeof m;)m=s[++d];continue}if(4===g)break;if(0===g){d+=4;continue}}d+=h?1:2}return-1}return function yd(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const c=i[a];if("number"==typeof c)return-1;if(c===s)return a;a++}return-1}(s,i)}function gd(i,s,a=!1){for(let c=0;c<s.length;c++)if(Rf(i,s[c],a))return!0;return!1}function Ff(i,s){return i?":not("+s.trim()+")":s}function kf(i){let s=i[0],a=1,c=2,d="",h=!1;for(;a<i.length;){let g=i[a];if("string"==typeof g)if(2&c){const m=i[++a];d+="["+g+(m.length>0?'="'+m+'"':"")+"]"}else 8&c?d+="."+g:4&c&&(d+=" "+g);else""!==d&&!yn(g)&&(s+=Ff(h,d),d=""),c=g,h=h||!yn(c);a++}return""!==d&&(s+=Ff(h,d)),s}function pc(i){return Pi(()=>{const s=gc(i),a={...s,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===Xs.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&i.dependencies||null,getStandaloneInjector:null,signals:i.signals??!1,data:i.data||{},encapsulation:i.encapsulation||Fi.Emulated,styles:i.styles||kt,_:null,schemas:i.schemas||null,tView:null,id:""};eo(a);const c=i.dependencies;return a.directiveDefs=Za(c,!1),a.pipeDefs=Za(c,!0),a.id=function Ya(i){let s=0;const a=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.signals,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(const d of a)s=Math.imul(31,s)+d.charCodeAt(0)<<0;return s+=2147483648,"c"+s}(a),a})}function ay(i){return Ot(i)||cn(i)}function Ko(i){return null!==i}function Ss(i){return Pi(()=>({type:i.type,bootstrap:i.bootstrap||kt,declarations:i.declarations||kt,imports:i.imports||kt,exports:i.exports||kt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function Vf(i,s){if(null==i)return vi;const a={};for(const c in i)if(i.hasOwnProperty(c)){let d=i[c],h=d;Array.isArray(d)&&(h=d[1],d=d[0]),a[d]=c,s&&(s[d]=h)}return a}function Bf(i){return Pi(()=>{const s=gc(i);return eo(s),s})}function vd(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function Ot(i){return i[zo]||null}function cn(i){return i[lc]||null}function sr(i){return i[qo]||null}function Js(i){const s=Ot(i)||cn(i)||sr(i);return null!==s&&s.standalone}function Dr(i,s){const a=i[dc]||null;if(!a&&!0===s)throw new Error(`Type ${de(i)} does not have '\u0275mod' property.`);return a}function gc(i){const s={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:i.inputs||vi,exportAs:i.exportAs||null,standalone:!0===i.standalone,signals:!0===i.signals,selectors:i.selectors||kt,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Vf(i.inputs,s),outputs:Vf(i.outputs)}}function eo(i){i.features?.forEach(s=>s(i))}function Za(i,s){if(!i)return null;const a=s?sr:ay;return()=>("function"==typeof i?i():i).map(c=>a(c)).filter(Ko)}const on=0,xe=1,ct=2,ln=3,si=4,mc=5,Er=6,Zo=7,vn=8,Ts=9,Yo=10,ft=11,to=12,uy=13,Yi=14,Mn=15,Qo=16,Xo=17,Li=18,As=19,jf=20,no=21,Qi=22,Qa=23,yc=24,xt=25,Uf=1,cy=2,Xi=7,ro=9,Wn=11;function Wr(i){return Array.isArray(i)&&"object"==typeof i[Uf]}function or(i){return Array.isArray(i)&&!0===i[Uf]}function vc(i){return 0!=(4&i.flags)}function Ms(i){return i.componentOffset>-1}function _c(i){return 1==(1&i.flags)}function oi(i){return!!i.template}function nn(i){return 0!=(512&i[ct])}function io(i,s){return i.hasOwnProperty(Ki)?i[Ki]:null}let ar=null,Dd=!1;function _i(i){const s=ar;return ar=i,s}const Ed={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function so(i){if(!eu(i)||i.dirty){if(!i.producerMustRecompute(i)&&!my(i))return void(i.dirty=!1);i.producerRecomputeValue(i),i.dirty=!1}}function Gf(i){i.dirty=!0,function $f(i){if(void 0===i.liveConsumerNode)return;const s=Dd;Dd=!0;try{for(const a of i.liveConsumerNode)a.dirty||Gf(a)}finally{Dd=s}}(i),i.consumerMarkedDirty?.(i)}function Dc(i){return i&&(i.nextProducerIndex=0),_i(i)}function Cd(i,s){if(_i(s),i&&void 0!==i.producerNode&&void 0!==i.producerIndexOfThis&&void 0!==i.producerLastReadVersion){if(eu(i))for(let a=i.nextProducerIndex;a<i.producerNode.length;a++)Id(i.producerNode[a],i.producerIndexOfThis[a]);for(let a=i.nextProducerIndex;a<i.producerNode.length;a++)i.producerNode.pop(),i.producerLastReadVersion.pop(),i.producerIndexOfThis.pop()}}function my(i){ea(i);for(let s=0;s<i.producerNode.length;s++){const a=i.producerNode[s],c=i.producerLastReadVersion[s];if(c!==a.version||(so(a),c!==a.version))return!0}return!1}function A0(i){if(ea(i),eu(i))for(let s=0;s<i.producerNode.length;s++)Id(i.producerNode[s],i.producerIndexOfThis[s]);i.producerNode.length=i.producerLastReadVersion.length=i.producerIndexOfThis.length=0,i.liveConsumerNode&&(i.liveConsumerNode.length=i.liveConsumerIndexOfThis.length=0)}function Id(i,s){if(function vy(i){i.liveConsumerNode??=[],i.liveConsumerIndexOfThis??=[]}(i),ea(i),1===i.liveConsumerNode.length)for(let c=0;c<i.producerNode.length;c++)Id(i.producerNode[c],i.producerIndexOfThis[c]);const a=i.liveConsumerNode.length-1;if(i.liveConsumerNode[s]=i.liveConsumerNode[a],i.liveConsumerIndexOfThis[s]=i.liveConsumerIndexOfThis[a],i.liveConsumerNode.length--,i.liveConsumerIndexOfThis.length--,s<i.liveConsumerNode.length){const c=i.liveConsumerIndexOfThis[s],d=i.liveConsumerNode[s];ea(d),d.producerIndexOfThis[c]=s}}function eu(i){return i.consumerIsAlwaysLive||(i?.liveConsumerNode?.length??0)>0}function ea(i){i.producerNode??=[],i.producerIndexOfThis??=[],i.producerLastReadVersion??=[]}let ta=null;function ru(i){const s=_i(null);try{return i()}finally{_i(s)}}const Nd=()=>{},qf={...Ed,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:i=>{i.schedule(i.ref)},hasRun:!1,cleanupFn:Nd};class Wf{constructor(s,a,c){this.previousValue=s,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function bc(){return Od}function Od(i){return i.type.prototype.ngOnChanges&&(i.setInput=Pd),Rd}function Rd(){const i=Fd(this),s=i?.current;if(s){const a=i.previous;if(a===vi)i.previous=s;else for(let c in s)a[c]=s[c];i.current=null,this.ngOnChanges(s)}}function Pd(i,s,a,c){const d=this.declaredInputs[a],h=Fd(i)||function wy(i,s){return i[iu]=s}(i,{previous:vi,current:null}),g=h.current||(h.current={}),m=h.previous,v=m[d];g[d]=new Wf(v&&v.currentValue,s,m===vi),i[c]=s}bc.ngInherit=!0;const iu="__ngSimpleChanges__";function Fd(i){return i[iu]||null}const Zr=function(i,s,a){};function Zt(i){for(;Array.isArray(i);)i=i[on];return i}function ou(i,s){return Zt(s[i])}function Cr(i,s){return Zt(s[i.index])}function Zf(i,s){return i.data[s]}function ai(i,s){const a=s[i];return Wr(a)?a:a[on]}function es(i,s){return null==s?null:i[s]}function Xf(i){i[Xo]=0}function Cy(i){1024&i[ct]||(i[ct]|=1024,ra(i,1))}function Ld(i){1024&i[ct]&&(i[ct]&=-1025,ra(i,-1))}function ra(i,s){let a=i[ln];if(null===a)return;a[mc]+=s;let c=a;for(a=a[ln];null!==a&&(1===s&&1===c[mc]||-1===s&&0===c[mc]);)a[mc]+=s,c=a,a=a[ln]}const st={lFrame:op(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function tp(){return st.bindingsEnabled}function le(){return st.lFrame.lView}function Lt(){return st.lFrame.tView}function Kn(i){return st.lFrame.contextLView=i,i[vn]}function Ty(i){return st.lFrame.contextLView=null,i}function ur(){let i=rp();for(;null!==i&&64===i.type;)i=i.parent;return i}function rp(){return st.lFrame.currentTNode}function Di(i,s){const a=st.lFrame;a.currentTNode=i,a.isParent=s}function Vd(){return st.lFrame.isParent}function sa(){return st.lFrame.bindingIndex++}function Rs(i){const s=st.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}function xy(i,s){const a=st.lFrame;a.bindingIndex=a.bindingRootIndex=i,jd(s)}function jd(i){st.lFrame.currentDirectiveIndex=i}function Ud(){return st.lFrame.currentQueryIndex}function Mc(i){st.lFrame.currentQueryIndex=i}function xc(i){const s=i[xe];return 2===s.type?s.declTNode:1===s.type?i[Er]:null}function oa(i,s,a){if(a&bt.SkipSelf){let d=s,h=i;for(;!(d=d.parent,null!==d||a&bt.Host||(d=xc(h),null===d||(h=h[Yi],10&d.type))););if(null===d)return!1;s=d,i=h}const c=st.lFrame=qt();return c.currentTNode=s,c.lView=i,!0}function br(i){const s=qt(),a=i[xe];st.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function qt(){const i=st.lFrame,s=null===i?null:i.child;return null===s?op(i):s}function op(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function ap(){const i=st.lFrame;return st.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Nc=ap;function cu(){const i=ap();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function En(){return st.lFrame.selectedIndex}function Zn(i){st.lFrame.selectedIndex=i}function dn(){const i=st.lFrame;return Zf(i.tView,i.selectedIndex)}let Bi=!0;function aa(){return Bi}function an(i){Bi=i}function lu(i,s){for(let a=s.directiveStart,c=s.directiveEnd;a<c;a++){const h=i.data[a].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:m,ngAfterViewInit:v,ngAfterViewChecked:E,ngOnDestroy:b}=h;g&&(i.contentHooks??=[]).push(-a,g),m&&((i.contentHooks??=[]).push(a,m),(i.contentCheckHooks??=[]).push(a,m)),v&&(i.viewHooks??=[]).push(-a,v),E&&((i.viewHooks??=[]).push(a,E),(i.viewCheckHooks??=[]).push(a,E)),null!=b&&(i.destroyHooks??=[]).push(a,b)}}function Yr(i,s,a){Rc(i,s,3,a)}function ua(i,s,a,c){(3&i[ct])===a&&Rc(i,s,a,c)}function du(i,s){let a=i[ct];(3&a)===s&&(a&=8191,a+=1,i[ct]=a)}function Rc(i,s,a,c){const h=c??-1,g=s.length-1;let m=0;for(let v=void 0!==c?65535&i[Xo]:0;v<g;v++)if("number"==typeof s[v+1]){if(m=s[v],null!=c&&m>=c)break}else s[v]<0&&(i[Xo]+=65536),(m<h||-1==h)&&($d(i,a,s,v),i[Xo]=(4294901760&i[Xo])+v+2),v++}function Pc(i,s){Zr(4,i,s);const a=_i(null);try{s.call(i)}finally{_i(a),Zr(5,i,s)}}function $d(i,s,a,c){const d=a[c]<0,h=a[c+1],m=i[d?-a[c]:a[c]];d?i[ct]>>13<i[Xo]>>16&&(3&i[ct])===s&&(i[ct]+=8192,Pc(m,h)):Pc(m,h)}const Ps=-1;class uo{constructor(s,a,c){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function Cn(i){return i!==Ps}function lo(i){return 32767&i}function ho(i,s){let a=function cr(i){return i>>16}(i),c=s;for(;a>0;)c=c[Yi],a--;return c}let hu=!0;function fu(i){const s=hu;return hu=i,s}const kc=255,pu=5;let hp=0;const Ei={};function Hn(i,s){const a=zd(i,s);if(-1!==a)return a;const c=s[xe];c.firstCreatePass&&(i.injectorIndex=s.length,ji(c.data,i),ji(s,null),ji(c.blueprint,null));const d=qd(i,s),h=i.injectorIndex;if(Cn(d)){const g=lo(d),m=ho(d,s),v=m[xe].data;for(let E=0;E<8;E++)s[h+E]=m[g+E]|v[g+E]}return s[h+8]=d,h}function ji(i,s){i.push(0,0,0,0,0,0,0,0,s)}function zd(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function qd(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,c=null,d=s;for(;null!==d;){if(c=ky(d),null===c)return Ps;if(a++,d=d[Yi],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return Ps}function Wd(i,s,a){!function fp(i,s,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(ki)&&(c=a[ki]),null==c&&(c=a[ki]=hp++);const d=c&kc;s.data[i+(d>>pu)]|=1<<d}(i,s,a)}function Kd(i,s,a){if(a&bt.Optional||void 0!==i)return i;X()}function Lc(i,s,a,c){if(a&bt.Optional&&void 0===c&&(c=null),!(a&(bt.Self|bt.Host))){const d=i[Ts],h=Dn(void 0);try{return d?d.get(s,c,a&bt.Optional):Ho(s,c,a&bt.Optional)}finally{Dn(h)}}return Kd(c,0,a)}function ca(i,s,a,c=bt.Default,d){if(null!==i){if(2048&s[ct]&&!(c&bt.Self)){const g=function j0(i,s,a,c,d){let h=i,g=s;for(;null!==h&&null!==g&&2048&g[ct]&&!(512&g[ct]);){const m=gp(h,g,a,c|bt.Self,Ei);if(m!==Ei)return m;let v=h.parent;if(!v){const E=g[jf];if(E){const b=E.get(a,Ei,c);if(b!==Ei)return b}v=ky(g),g=g[Yi]}h=v}return d}(i,s,a,c,Ei);if(g!==Ei)return g}const h=gp(i,s,a,c,Ei);if(h!==Ei)return h}return Lc(s,a,c,d)}function gp(i,s,a,c,d){const h=function V0(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(ki)?i[ki]:void 0;return"number"==typeof s?s>=0?s&kc:Yd:s}(a);if("function"==typeof h){if(!oa(s,i,c))return c&bt.Host?Kd(d,0,c):Lc(s,a,c,d);try{let g;if(g=h(c),null!=g||c&bt.Optional)return g;X()}finally{Nc()}}else if("number"==typeof h){let g=null,m=zd(i,s),v=Ps,E=c&bt.Host?s[Mn][Er]:null;for((-1===m||c&bt.SkipSelf)&&(v=-1===m?qd(i,s):s[m+8],v!==Ps&&Fy(c,!1)?(g=s[xe],m=lo(v),s=ho(v,s)):m=-1);-1!==m;){const b=s[xe];if(Py(h,m,b.data)){const A=Zd(m,s,a,g,c,E);if(A!==Ei)return A}v=s[m+8],v!==Ps&&Fy(c,s[xe].data[m+8]===E)&&Py(h,m,s)?(g=b,m=lo(v),s=ho(v,s)):m=-1}}return d}function Zd(i,s,a,c,d,h){const g=s[xe],m=g.data[i+8],b=Vc(m,g,a,null==c?Ms(m)&&hu:c!=g&&0!=(3&m.type),d&bt.Host&&h===m);return null!==b?Fs(s,g,b,m):Ei}function Vc(i,s,a,c,d){const h=i.providerIndexes,g=s.data,m=1048575&h,v=i.directiveStart,b=h>>20,F=d?m+b:i.directiveEnd;for(let $=c?m:m+b;$<F;$++){const te=g[$];if($<v&&a===te||$>=v&&te.type===a)return $}if(d){const $=g[v];if($&&oi($)&&$.type===a)return v}return null}function Fs(i,s,a,c){let d=i[a];const h=s.data;if(function Hd(i){return i instanceof uo}(d)){const g=d;g.resolving&&function U(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new Te(-200,`Circular dependency in DI detected for ${i}${a}`)}(function Ae(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():he(i)}(h[a]));const m=fu(g.canSeeViewProviders);g.resolving=!0;const E=g.injectImpl?Dn(g.injectImpl):null;oa(i,c,bt.Default);try{d=i[a]=g.factory(void 0,h,i,c),s.firstCreatePass&&a>=c.directiveStart&&function ts(i,s,a){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:h}=s.type.prototype;if(c){const g=Od(s);(a.preOrderHooks??=[]).push(i,g),(a.preOrderCheckHooks??=[]).push(i,g)}d&&(a.preOrderHooks??=[]).push(0-i,d),h&&((a.preOrderHooks??=[]).push(i,h),(a.preOrderCheckHooks??=[]).push(i,h))}(a,h[a],s)}finally{null!==E&&Dn(E),fu(m),g.resolving=!1,Nc()}}return d}function Py(i,s,a){return!!(a[s+(i>>pu)]&1<<i)}function Fy(i,s){return!(i&bt.Self||i&bt.Host&&s)}class kr{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,c){return ca(this._tNode,this._lView,s,qa(c),a)}}function Yd(){return new kr(ur(),le())}function jc(i){return Pi(()=>{const s=i.prototype.constructor,a=s[Ki]||Qd(s),c=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==c;){const h=d[Ki]||Qd(d);if(h&&h!==a)return h;d=Object.getPrototypeOf(d)}return h=>new h})}function Qd(i){return Ye(i)?()=>{const s=Qd(Q(i));return s&&s()}:io(i)}function ky(i){const s=i[xe],a=s.type;return 2===a?s.declTNode:1===a?i[Er]:null}function fo(i){return function pp(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const c=a.length;let d=0;for(;d<c;){const h=a[d];if(Wa(h))break;if(0===h)d+=2;else if("number"==typeof h)for(d++;d<c&&"string"==typeof a[d];)d++;else{if(h===s)return a[d+1];d+=2}}}return null}(ur(),i)}const ci="__parameters__";function ns(i,s,a){return Pi(()=>{const c=function Uc(i){return function(...a){if(i){const c=i(...a);for(const d in c)this[d]=c[d]}}}(s);function d(...h){if(this instanceof d)return c.apply(this,h),this;const g=new d(...h);return m.annotation=g,m;function m(v,E,b){const A=v.hasOwnProperty(ci)?v[ci]:Object.defineProperty(v,ci,{value:[]})[ci];for(;A.length<=b;)A.push(null);return(A[b]=A[b]||[]).push(g),v}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}function go(i,s){i.forEach(a=>Array.isArray(a)?go(a,s):s(a))}function mu(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function mo(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function Sr(i,s,a){let c=Ls(i,s);return c>=0?i[1|c]=a:(c=~c,function yp(i,s,a,c){let d=i.length;if(d==s)i.push(a,c);else if(1===d)i.push(c,i[0]),i[0]=a;else{for(d--,i.push(i[d-1],i[d]);d>s;)i[d]=i[d-2],d--;i[s]=a,i[s+1]=c}}(i,c,s,a)),c}function Hc(i,s){const a=Ls(i,s);if(a>=0)return i[1|a]}function Ls(i,s){return function th(i,s,a){let c=0,d=i.length>>a;for(;d!==c;){const h=c+(d-c>>1),g=i[h<<a];if(s===g)return h<<a;g>s?d=h:c=h+1}return~(d<<a)}(i,s,1)}const fa=bs(ns("Optional"),8),Ii=bs(ns("SkipSelf"),4);function Wc(i){return 128==(128&i.flags)}var ih=function(i){return i[i.Important=1]="Important",i[i.DashCase=2]="DashCase",i}(ih||{});const zy=new Map;let Q0=0;const Ky="__ngContext__";function Tr(i,s){Wr(s)?(i[Ky]=s[As],function Ob(i){zy.set(i[As],i)}(s)):i[Ky]=s}let eD;function tD(i,s){return eD(i,s)}function Sp(i){const s=i[ln];return or(s)?s[ln]:s}function nD(i){return Ui(i[to])}function Je(i){return Ui(i[si])}function Ui(i){for(;null!==i&&!or(i);)i=i[si];return i}function _o(i,s,a,c,d){if(null!=c){let h,g=!1;or(c)?h=c:Wr(c)&&(g=!0,c=c[on]);const m=Zt(c);0===i&&null!==a?null==d?Eu(s,a,m):Jr(s,a,m,d||null,!0):1===i&&null!==a?Jr(s,a,m,d||null,!0):2===i?function Pp(i,s,a){const c=Cu(i,s);c&&function ma(i,s,a,c){i.removeChild(s,a,c)}(i,c,s,a)}(s,m,g):3===i&&s.destroyNode(m),null!=h&&function $b(i,s,a,c,d){const h=a[Xi];h!==Zt(a)&&_o(s,i,c,h,d);for(let m=Wn;m<a.length;m++){const v=a[m];lh(v[xe],v,i,s,c,h)}}(s,i,h,a,d)}}function oh(i,s,a){return i.createElement(s,a)}function iD(i,s){const a=i[ro],c=a.indexOf(s);Ld(s),a.splice(c,1)}function pa(i,s){if(i.length<=Wn)return;const a=Wn+s,c=i[a];if(c){const d=c[Qo];null!==d&&d!==i&&iD(d,c),s>0&&(i[a-1][si]=c[si]);const h=mo(i,Wn+s);!function jb(i,s){lh(i,s,s[ft],2,null,null),s[on]=null,s[Er]=null}(c[xe],c);const g=h[Li];null!==g&&g.detachView(h[xe]),c[ln]=null,c[si]=null,c[ct]&=-129}return c}function Vs(i,s){if(!(256&s[ct])){const a=s[ft];s[Qa]&&A0(s[Qa]),s[yc]&&A0(s[yc]),a.destroyNode&&lh(i,s,a,3,null,null),function Ub(i){let s=i[to];if(!s)return uh(i[xe],i);for(;s;){let a=null;if(Wr(s))a=s[to];else{const c=s[Wn];c&&(a=c)}if(!a){for(;s&&!s[si]&&s!==i;)Wr(s)&&uh(s[xe],s),s=s[ln];null===s&&(s=i),Wr(s)&&uh(s[xe],s),a=s&&s[si]}s=a}}(s)}}function uh(i,s){if(!(256&s[ct])){s[ct]&=-129,s[ct]|=256,function Jy(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let c=0;c<a.length;c+=2){const d=s[a[c]];if(!(d instanceof uo)){const h=a[c+1];if(Array.isArray(h))for(let g=0;g<h.length;g+=2){const m=d[h[g]],v=h[g+1];Zr(4,m,v);try{v.call(m)}finally{Zr(5,m,v)}}else{Zr(4,d,h);try{h.call(d)}finally{Zr(5,d,h)}}}}}(i,s),function $i(i,s){const a=i.cleanup,c=s[Zo];if(null!==a)for(let h=0;h<a.length-1;h+=2)if("string"==typeof a[h]){const g=a[h+3];g>=0?c[g]():c[-g].unsubscribe(),h+=2}else a[h].call(c[a[h+1]]);null!==c&&(s[Zo]=null);const d=s[no];if(null!==d){s[no]=null;for(let h=0;h<d.length;h++)(0,d[h])()}}(i,s),1===s[xe].type&&s[ft].destroy();const a=s[Qo];if(null!==a&&or(s[ln])){a!==s[ln]&&iD(a,s);const c=s[Li];null!==c&&c.detachView(i)}!function X0(i){zy.delete(i[As])}(s)}}function Np(i,s,a){return function ga(i,s,a){let c=s;for(;null!==c&&40&c.type;)c=(s=c).parent;if(null===c)return a[on];{const{componentOffset:d}=c;if(d>-1){const{encapsulation:h}=i.data[c.directiveStart+d];if(h===Fi.None||h===Fi.Emulated)return null}return Cr(c,a)}}(i,s.parent,a)}function Jr(i,s,a,c,d){i.insertBefore(s,a,c,d)}function Eu(i,s,a){i.appendChild(s,a)}function sD(i,s,a,c,d){null!==c?Jr(i,s,a,c,d):Eu(i,s,a)}function Cu(i,s){return i.parentNode(s)}let dr,Lp,hh,Kc=function ya(i,s,a){return 40&i.type?Cr(i,a):null};function Op(i,s,a,c){const d=Np(i,c,s),h=s[ft],m=function aD(i,s,a){return Kc(i,s,a)}(c.parent||s[Er],c,s);if(null!=d)if(Array.isArray(a))for(let v=0;v<a.length;v++)sD(h,d,a[v],m,!1);else sD(h,d,a,m,!1);void 0!==dr&&dr(h,c,s,a,d)}function ch(i,s){if(null!==s){const a=s.type;if(3&a)return Cr(s,i);if(4&a)return ev(-1,i[s.index]);if(8&a){const c=s.child;if(null!==c)return ch(i,c);{const d=i[s.index];return or(d)?ev(-1,d):Zt(d)}}if(32&a)return tD(s,i)()||Zt(i[s.index]);{const c=Rp(i,s);return null!==c?Array.isArray(c)?c[0]:ch(Sp(i[Mn]),c):ch(i,s.next)}}return null}function Rp(i,s){return null!==s?i[Mn][Er].projection[s.projection]:null}function ev(i,s){const a=Wn+i+1;if(a<s.length){const c=s[a],d=c[xe].firstChild;if(null!==d)return ch(c,d)}return s[Xi]}function tv(i,s,a,c,d,h,g){for(;null!=a;){const m=c[a.index],v=a.type;if(g&&0===s&&(m&&Tr(Zt(m),c),a.flags|=2),32!=(32&a.flags))if(8&v)tv(i,s,a.child,c,d,h,!1),_o(s,i,d,m,h);else if(32&v){const E=tD(a,c);let b;for(;b=E();)_o(s,i,d,b,h);_o(s,i,d,m,h)}else 16&v?Zc(i,s,c,a,d,h):_o(s,i,d,m,h);a=g?a.projectionNext:a.next}}function lh(i,s,a,c,d,h){tv(a,c,i.firstChild,s,d,h,!1)}function Zc(i,s,a,c,d,h){const g=a[Mn],v=g[Er].projection[c.projection];if(Array.isArray(v))for(let E=0;E<v.length;E++)_o(s,i,d,v[E],h);else{let E=v;const b=g[ln];Wc(c)&&(E.flags|=128),tv(i,s,E,b,d,h,!0)}}function uD(i,s,a){""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a)}function os(i,s,a){const{mergedAttrs:c,classes:d,styles:h}=a;null!==c&&Wo(i,s,c),null!==d&&uD(i,s,d),null!==h&&function Hb(i,s,a){i.setAttribute(s,"style",a)}(i,s,h)}function Wb(i){Lp=i}function Xc(i){return function Qc(){if(void 0===hh&&(hh=null,Re.trustedTypes))try{hh=Re.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return hh}()?.createScriptURL(i)||i}class lD{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${mn})`}}function as(i){return i instanceof lD?i.changingThisBreaksApplicationSecurity:i}function wo(i,s){const a=function dD(i){return i instanceof lD&&i.getTypeName()||null}(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see ${mn})`)}return a===s}const ov=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Jc=function(i){return i[i.NONE=0]="NONE",i[i.HTML=1]="HTML",i[i.STYLE=2]="STYLE",i[i.SCRIPT=3]="SCRIPT",i[i.URL=4]="URL",i[i.RESOURCE_URL=5]="RESOURCE_URL",i}(Jc||{});function fv(i){const s=Co();return s?s.sanitize(Jc.URL,i)||"":wo(i,"URL")?as(i):function av(i){return(i=String(i)).match(ov)?i:"unsafe:"+i}(he(i))}function Up(i){const s=Co();if(s)return Xc(s.sanitize(Jc.RESOURCE_URL,i)||"");if(wo(i,"ResourceURL"))return Xc(as(i));throw new Te(904,!1)}function us(i,s,a){return function yh(i,s){return"src"===s&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===s&&("base"===i||"link"===i)?Up:fv}(s,a)(i)}function Co(){const i=le();return i&&i[Yo].sanitizer}class Rt{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=tn({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const _a=new Rt("ENVIRONMENT_INITIALIZER"),gv=new Rt("INJECTOR",-1),wD=new Rt("INJECTOR_DEF_TYPES");class mv{get(s,a=Ut){if(a===Ut){const c=new Error(`NullInjectorError: No provider for ${de(s)}!`);throw c.name="NullInjectorError",c}return a}}function sS(...i){return{\u0275providers:ED(0,i),\u0275fromNgModule:!0}}function ED(i,...s){const a=[],c=new Set;let d;const h=g=>{a.push(g)};return go(s,g=>{const m=g;$p(m,h,[],c)&&(d||=[],d.push(m))}),void 0!==d&&CD(d,h),a}function CD(i,s){for(let a=0;a<i.length;a++){const{ngModule:c,providers:d}=i[a];yv(d,h=>{s(h,c)})}}function $p(i,s,a,c){if(!(i=Q(i)))return!1;let d=null,h=jn(i);const g=!h&&Ot(i);if(h||g){if(g&&!g.standalone)return!1;d=i}else{const v=i.ngModule;if(h=jn(v),!h)return!1;d=v}const m=c.has(d);if(g){if(m)return!1;if(c.add(d),g.dependencies){const v="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const E of v)$p(E,s,a,c)}}else{if(!h)return!1;{if(null!=h.imports&&!m){let E;c.add(d);try{go(h.imports,b=>{$p(b,s,a,c)&&(E||=[],E.push(b))})}finally{}void 0!==E&&CD(E,s)}if(!m){const E=io(d)||(()=>new d);s({provide:d,useFactory:E,deps:kt},d),s({provide:wD,useValue:d,multi:!0},d),s({provide:_a,useValue:()=>kn(d),multi:!0},d)}const v=h.providers;if(null!=v&&!m){const E=i;yv(v,b=>{s(b,E)})}}}return d!==i&&void 0!==i.providers}function yv(i,s){for(let a of i)tt(a)&&(a=a.\u0275providers),Array.isArray(a)?yv(a,s):s(a)}const oS=we({provide:String,useValue:we});function Hp(i){return null!==i&&"object"==typeof i&&oS in i}function el(i){return"function"==typeof i}const Au=new Rt("Set Injector scope."),vh={},vv={};let _h;function Hi(){return void 0===_h&&(_h=new mv),_h}class ei{}class wh extends ei{get destroyed(){return this._destroyed}constructor(s,a,c,d){super(),this.parent=a,this.source=c,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Kp(s,g=>this.processProvider(g)),this.records.set(gv,tl(void 0,this)),d.has("environment")&&this.records.set(ei,tl(void 0,this));const h=this.records.get(Au);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(wD.multi,kt,bt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of s)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const a=Is(this),c=Dn(void 0);try{return s()}finally{Is(a),Dn(c)}}get(s,a=Ut,c=bt.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(hc))return s[hc](this);c=qa(c);const h=Is(this),g=Dn(void 0);try{if(!(c&bt.SkipSelf)){let v=this.records.get(s);if(void 0===v){const E=function wv(i){return"function"==typeof i||"object"==typeof i&&i instanceof Rt}(s)&&Mt(s);v=E&&this.injectableDefInScope(E)?tl(qp(s),vh):null,this.records.set(s,v)}if(null!=v)return this.hydrate(s,v)}return(c&bt.Self?Hi():this.parent).get(s,a=c&bt.Optional&&a===Ut?null:a)}catch(m){if("NullInjectorError"===m.name){if((m[$n]=m[$n]||[]).unshift(de(s)),h)throw m;return function Nf(i,s,a,c){const d=i[$n];throw s[Qs]&&d.unshift(s[Qs]),i.message=function ey(i,s,a,c=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let d=de(s);if(Array.isArray(s))d=s.map(de).join(" -> ");else if("object"==typeof s){let h=[];for(let g in s)if(s.hasOwnProperty(g)){let m=s[g];h.push(g+":"+("string"==typeof m?JSON.stringify(m):de(m)))}d=`{${h.join(", ")}}`}return`${a}${c?"("+c+")":""}[${d}]: ${i.replace(St,"\n  ")}`}("\n"+i.message,d,a,c),i.ngTokenPath=d,i[$n]=null,i}(m,s,"R3InjectorError",this.source)}throw m}finally{Dn(g),Is(h)}}resolveInjectorInitializers(){const s=Is(this),a=Dn(void 0);try{const d=this.get(_a.multi,kt,bt.Self);for(const h of d)h()}finally{Is(s),Dn(a)}}toString(){const s=[],a=this.records;for(const c of a.keys())s.push(de(c));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Te(205,!1)}processProvider(s){let a=el(s=Q(s))?s:Q(s&&s.provide);const c=function Mu(i){return Hp(i)?tl(void 0,i.useValue):tl(_v(i),vh)}(s);if(el(s)||!0!==s.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=tl(void 0,vh,!0),d.factory=()=>Go(d.multi),this.records.set(a,d)),a=s,d.multi.push(s)}this.records.set(a,c)}hydrate(s,a){return a.value===vh&&(a.value=vv,a.value=a.factory()),"object"==typeof a.value&&a.value&&function ID(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=Q(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(s){const a=this._onDestroyHooks.indexOf(s);-1!==a&&this._onDestroyHooks.splice(a,1)}}function qp(i){const s=Mt(i),a=null!==s?s.factory:io(i);if(null!==a)return a;if(i instanceof Rt)throw new Te(204,!1);if(i instanceof Function)return function uS(i){const s=i.length;if(s>0)throw function ha(i,s){const a=[];for(let c=0;c<i;c++)a.push(s);return a}(s,"?"),new Te(204,!1);const a=function ii(i){return i&&(i[wr]||i[qi])||null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Te(204,!1)}function _v(i,s,a){let c;if(el(i)){const d=Q(i);return io(d)||qp(d)}if(Hp(i))c=()=>Q(i.useValue);else if(function zp(i){return!(!i||!i.useFactory)}(i))c=()=>i.useFactory(...Go(i.deps||[]));else if(function Gp(i){return!(!i||!i.useExisting)}(i))c=()=>kn(Q(i.useExisting));else{const d=Q(i&&(i.useClass||i.provide));if(!function Wp(i){return!!i.deps}(i))return io(d)||qp(d);c=()=>new d(...Go(i.deps))}return c}function tl(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function Kp(i,s){for(const a of i)Array.isArray(a)?Kp(a,s):a&&tt(a)?Kp(a.\u0275providers,s):s(a)}const Zp=new Rt("AppId",{providedIn:"root",factory:()=>Dv}),Dv="ng",Dh=new Rt("Platform Initializer"),Ev=new Rt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),lS=new Rt("CSP nonce",{providedIn:"root",factory:()=>function Iu(){if(void 0!==Lp)return Lp;if(typeof document<"u")return document;throw new Te(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let TD=(i,s,a)=>null;function xv(i,s,a=!1){return TD(i,s,a)}class fS{}class ND{}class gS{resolveComponentFactory(s){throw function pS(i){const s=Error(`No component factory found for ${de(i)}.`);return s.ngComponent=i,s}(s)}}let Nv=(()=>{class s{}return s.NULL=new gS,s})();function mS(){return Pu(ur(),le())}function Pu(i,s){return new Da(Cr(i,s))}let Da=(()=>{class s{constructor(c){this.nativeElement=c}}return s.__NG_ELEMENT_ID__=mS,s})();function rl(i){return i instanceof Da?i.nativeElement:i}class RD{}let yS=(()=>{class s{constructor(){this.destroyNode=null}}return s.__NG_ELEMENT_ID__=()=>function vS(){const i=le(),a=ai(ur().index,i);return(Wr(a)?a:i)[ft]}(),s})(),_S=(()=>{var i;class s{}return(i=s).\u0275prov=tn({token:i,providedIn:"root",factory:()=>null}),s})();class PD{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const FD=new PD("16.2.4"),Ov={};function tg(i,s=null,a=null,c){const d=kD(i,s,a,c);return d.resolveInjectorInitializers(),d}function kD(i,s=null,a=null,c,d=new Set){const h=[a||kt,sS(i)];return c=c||("object"==typeof i?void 0:de(i)),new wh(h,s||Hi(),c||null,d)}let Si=(()=>{var i;class s{static create(c,d){if(Array.isArray(c))return tg({name:""},d,c,"");{const h=c.name??"";return tg({name:h},c.parent,c.providers,h)}}}return(i=s).THROW_IF_NOT_FOUND=Ut,i.NULL=new mv,i.\u0275prov=tn({token:i,providedIn:"any",factory:()=>kn(gv)}),i.__NG_ELEMENT_ID__=-1,s})();function Lv(i){return s=>{setTimeout(i,void 0,s)}}const Ti=class IS extends B.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,c){let d=s,h=a||(()=>null),g=c;if(s&&"object"==typeof s){const v=s;d=v.next?.bind(v),h=v.error?.bind(v),g=v.complete?.bind(v)}this.__isAsync&&(h=Lv(h),d&&(d=Lv(d)),g&&(g=Lv(g)));const m=super.subscribe({next:d,error:h,complete:g});return s instanceof p.w0&&s.add(m),m}};function LD(...i){}class hr{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ti(!1),this.onMicrotaskEmpty=new Ti(!1),this.onStable=new Ti(!1),this.onError=new Ti(!1),typeof Zone>"u")throw new Te(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&a,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function bS(){const i="function"==typeof Re.requestAnimationFrame;let s=Re[i?"requestAnimationFrame":"setTimeout"],a=Re[i?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&s&&a){const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function JM(i){const s=()=>{!function VD(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Re,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,rg(i),i.isCheckStableRunning=!0,Vv(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),rg(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,d,h,g,m)=>{if(function AS(i){return!(!Array.isArray(i)||1!==i.length)&&!0===i[0].data?.__ignore_ng_zone__}(m))return a.invokeTask(d,h,g,m);try{return Bv(i),a.invokeTask(d,h,g,m)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||i.shouldCoalesceRunChangeDetection)&&s(),BD(i)}},onInvoke:(a,c,d,h,g,m,v)=>{try{return Bv(i),a.invoke(d,h,g,m,v)}finally{i.shouldCoalesceRunChangeDetection&&s(),BD(i)}},onHasTask:(a,c,d,h)=>{a.hasTask(d,h),c===d&&("microTask"==h.change?(i._hasPendingMicrotasks=h.microTask,rg(i),Vv(i)):"macroTask"==h.change&&(i.hasPendingMacrotasks=h.macroTask))},onHandleError:(a,c,d,h)=>(a.handleError(d,h),i.runOutsideAngular(()=>i.onError.emit(h)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!hr.isInAngularZone())throw new Te(909,!1)}static assertNotInAngularZone(){if(hr.isInAngularZone())throw new Te(909,!1)}run(s,a,c){return this._inner.run(s,a,c)}runTask(s,a,c,d){const h=this._inner,g=h.scheduleEventTask("NgZoneEvent: "+d,s,SS,LD,LD);try{return h.runTask(g,a,c)}finally{h.cancelTask(g)}}runGuarded(s,a,c){return this._inner.runGuarded(s,a,c)}runOutsideAngular(s){return this._outer.run(s)}}const SS={};function Vv(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function rg(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Bv(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function BD(i){i._nesting--,Vv(i)}class TS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ti,this.onMicrotaskEmpty=new Ti,this.onStable=new Ti,this.onError=new Ti}run(s,a,c){return s.apply(a,c)}runGuarded(s,a,c){return s.apply(a,c)}runOutsideAngular(s){return s()}runTask(s,a,c,d){return s.apply(a,c)}}const jD=new Rt("",{providedIn:"root",factory:UD});function UD(){const i=Kt(hr);let s=!0;return function ye(...i){const s=(0,be.yG)(i),a=(0,be._6)(i,1/0),c=i;return c.length?1===c.length?(0,se.Xf)(c[0]):(0,z.J)(a)((0,ke.D)(c,s)):ae.E}(new H.y(d=>{s=i.isStable&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks,i.runOutsideAngular(()=>{d.next(s),d.complete()})}),new H.y(d=>{let h;i.runOutsideAngular(()=>{h=i.onStable.subscribe(()=>{hr.assertNotInAngularZone(),queueMicrotask(()=>{!s&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks&&(s=!0,d.next(!0))})})});const g=i.onUnstable.subscribe(()=>{hr.assertInAngularZone(),s&&(s=!1,i.runOutsideAngular(()=>{d.next(!1)}))});return()=>{h.unsubscribe(),g.unsubscribe()}}).pipe(pe()))}function ds(i){return i instanceof Function?i():i}let og=(()=>{var i;class s{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new Te(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const c of this.callbacks)c.invoke()}finally{this.runningCallbacks=!1;for(const c of this.deferredCallbacks)this.callbacks.add(c);this.deferredCallbacks.clear()}}register(c){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(c)}unregister(c){this.callbacks.delete(c),this.deferredCallbacks.delete(c)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(i=s).\u0275prov=tn({token:i,providedIn:"root",factory:()=>new i}),s})();function bh(i){for(;i;){i[ct]|=64;const s=Sp(i);if(nn(i)&&!s)return i;i=s}return null}function Uv(i){return i.ngOriginalError}class bo{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&Uv(s);for(;a&&Uv(a);)a=Uv(a);return a||null}}const ol=new Rt("",{providedIn:"root",factory:()=>!1});let $v=null;function QD(i,s){return i[s]??Hv()}function ug(i,s){const a=Hv();a.producerNode?.length&&(i[s]=$v,a.lView=i,$v=kS())}const XD={...Ed,consumerIsAlwaysLive:!0,consumerMarkedDirty:i=>{bh(i.lView)},lView:null};function kS(){return Object.create(XD)}function Hv(){return $v??=kS(),$v}const ot={};function JD(i){LS(Lt(),le(),En()+i,!1)}function LS(i,s,a,c){if(!c)if(3==(3&s[ct])){const h=i.preOrderCheckHooks;null!==h&&Yr(s,h,a)}else{const h=i.preOrderHooks;null!==h&&ua(s,h,0,a)}Zn(a)}function Sh(i,s=bt.Default){const a=le();return null===a?kn(i,s):ca(ur(),a,Q(i),s)}function VS(){throw new Error("invalid")}function Th(i,s,a,c,d,h,g,m,v,E,b){const A=s.blueprint.slice();return A[on]=d,A[ct]=140|c,(null!==E||i&&2048&i[ct])&&(A[ct]|=2048),Xf(A),A[ln]=A[Yi]=i,A[vn]=a,A[Yo]=g||i&&i[Yo],A[ft]=m||i&&i[ft],A[Ts]=v||i&&i[Ts]||null,A[Er]=h,A[As]=function Nb(){return Q0++}(),A[Qi]=b,A[jf]=E,A[Mn]=2==s.type?i[Mn]:A,A}function Ea(i,s,a,c,d){let h=i.data[s];if(null===h)h=function Gv(i,s,a,c,d){const h=rp(),g=Vd(),v=i.data[s]=function GS(i,s,a,c,d,h){let g=s?s.injectorIndex:-1,m=0;return function ui(){return null!==st.skipHydrationRootTNode}()&&(m|=128),{type:a,index:c,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:m,providerIndexes:0,value:d,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?h:h&&h.parent,a,s,c,d);return null===i.firstChild&&(i.firstChild=v),null!==h&&(g?null==h.child&&null!==v.parent&&(h.child=v):null===h.next&&(h.next=v,v.prev=h)),v}(i,s,a,c,d),function Ln(){return st.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=a,h.value=c,h.attrs=d;const g=function ia(){const i=st.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();h.injectorIndex=null===g?-1:g.injectorIndex}return Di(h,!0),h}function Ah(i,s,a,c){if(0===a)return-1;const d=s.length;for(let h=0;h<a;h++)s.push(c),i.blueprint.push(c),i.data.push(null);return d}function BS(i,s,a,c,d){const h=QD(s,Qa),g=En(),m=2&c;try{Zn(-1),m&&s.length>xt&&LS(i,s,xt,!1),Zr(m?2:0,d);const E=m?h:null,b=Dc(E);try{null!==E&&(E.dirty=!1),a(c,d)}finally{Cd(E,b)}}finally{m&&null===s[Qa]&&ug(s,Qa),Zn(g),Zr(m?3:1,d)}}function cg(i,s,a){if(vc(s)){const c=_i(null);try{const h=s.directiveEnd;for(let g=s.directiveStart;g<h;g++){const m=i.data[g];m.contentQueries&&m.contentQueries(1,a[g],g)}}finally{_i(c)}}}function zv(i,s,a){tp()&&(function WS(i,s,a,c){const d=a.directiveStart,h=a.directiveEnd;Ms(a)&&function XS(i,s,a){const c=Cr(s,i),d=jS(a);let g=16;a.signals?g=4096:a.onPush&&(g=64);const m=lg(i,Th(i,d,null,g,c,s,null,i[Yo].rendererFactory.createRenderer(c,a),null,null,null));i[s.index]=m}(s,a,i.data[d+a.componentOffset]),i.firstCreatePass||Hn(a,s),Tr(c,s);const g=a.initialInputs;for(let m=d;m<h;m++){const v=i.data[m],E=Fs(s,i,m,a);Tr(E,s),null!==g&&JS(0,m-d,E,v,0,g),oi(v)&&(ai(a.index,s)[vn]=Fs(s,i,m,a))}}(i,s,a,Cr(a,s)),64==(64&a.flags)&&lE(i,s,a))}function tE(i,s,a=Cr){const c=s.localNames;if(null!==c){let d=s.index+1;for(let h=0;h<c.length;h+=2){const g=c[h+1],m=-1===g?a(s,i):i[g];i[d++]=m}}}function jS(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=nE(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):s}function nE(i,s,a,c,d,h,g,m,v,E,b){const A=xt+c,F=A+d,$=function US(i,s){const a=[];for(let c=0;c<s;c++)a.push(c<i?null:ot);return a}(A,F),te="function"==typeof E?E():E;return $[xe]={type:i,blueprint:$,template:a,queries:null,viewQuery:m,declTNode:s,data:$.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:v,consts:te,incompleteFirstPass:!1,ssrId:b}}let iE=i=>null;function oE(i,s,a,c){for(let d in i)if(i.hasOwnProperty(d)){a=null===a?{}:a;const h=i[d];null===c?aE(a,s,d,h):c.hasOwnProperty(d)&&aE(a,s,c[d],h)}return a}function aE(i,s,a,c){i.hasOwnProperty(a)?i[a].push(s,c):i[a]=[s,c]}function Ai(i,s,a,c,d,h,g,m){const v=Cr(s,a);let b,E=s.inputs;!m&&null!=E&&(b=E[c])?(Qv(i,a,b,c,d),Ms(s)&&function nx(i,s){const a=ai(s,i);16&a[ct]||(a[ct]|=64)}(a,s.index)):3&s.type&&(c=function uE(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(c),d=null!=g?g(d,s.value||"",c):d,h.setProperty(v,c,d))}function cE(i,s,a,c){if(tp()){const d=null===c?null:{"":-1},h=function KS(i,s){const a=i.directiveRegistry;let c=null,d=null;if(a)for(let h=0;h<a.length;h++){const g=a[h];if(gd(s,g.selectors,!1))if(c||(c=[]),oi(g))if(null!==g.findHostDirectiveDefs){const m=[];d=d||new Map,g.findHostDirectiveDefs(g,m,d),c.unshift(...m,g),Wv(i,s,m.length)}else c.unshift(g),Wv(i,s,0);else d=d||new Map,g.findHostDirectiveDefs?.(g,c,d),c.push(g)}return null===c?null:[c,d]}(i,a);let g,m;null===h?g=m=null:[g,m]=h,null!==g&&qS(i,s,a,g,d,m),d&&function Kv(i,s,a){if(s){const c=i.localNames=[];for(let d=0;d<s.length;d+=2){const h=a[s[d+1]];if(null==h)throw new Te(-301,!1);c.push(s[d],h)}}}(a,c,d)}a.mergedAttrs=Ka(a.mergedAttrs,a.attrs)}function qS(i,s,a,c,d,h){for(let E=0;E<c.length;E++)Wd(Hn(a,s),i,c[E].type);!function YS(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}(a,i.data.length,c.length);for(let E=0;E<c.length;E++){const b=c[E];b.providersResolver&&b.providersResolver(b)}let g=!1,m=!1,v=Ah(i,s,c.length,null);for(let E=0;E<c.length;E++){const b=c[E];a.mergedAttrs=Ka(a.mergedAttrs,b.hostAttrs),QS(i,a,s,v,b),ZS(v,b,d),null!==b.contentQueries&&(a.flags|=4),(null!==b.hostBindings||null!==b.hostAttrs||0!==b.hostVars)&&(a.flags|=64);const A=b.type.prototype;!g&&(A.ngOnChanges||A.ngOnInit||A.ngDoCheck)&&((i.preOrderHooks??=[]).push(a.index),g=!0),!m&&(A.ngOnChanges||A.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(a.index),m=!0),v++}!function zS(i,s,a){const d=s.directiveEnd,h=i.data,g=s.attrs,m=[];let v=null,E=null;for(let b=s.directiveStart;b<d;b++){const A=h[b],F=a?a.get(A):null,te=F?F.outputs:null;v=oE(A.inputs,b,v,F?F.inputs:null),E=oE(A.outputs,b,E,te);const ge=null===v||null===g||Zi(s)?null:eT(v,b,g);m.push(ge)}null!==v&&(v.hasOwnProperty("class")&&(s.flags|=8),v.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=m,s.inputs=v,s.outputs=E}(i,a,h)}function lE(i,s,a){const c=a.directiveStart,d=a.directiveEnd,h=a.index,g=function sp(){return st.lFrame.currentDirectiveIndex}();try{Zn(h);for(let m=c;m<d;m++){const v=i.data[m],E=s[m];jd(m),(null!==v.hostBindings||0!==v.hostVars||null!==v.hostAttrs)&&dE(v,E)}}finally{Zn(-1),jd(g)}}function dE(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function Wv(i,s,a){s.componentOffset=a,(i.components??=[]).push(s.index)}function ZS(i,s,a){if(a){if(s.exportAs)for(let c=0;c<s.exportAs.length;c++)a[s.exportAs[c]]=i;oi(s)&&(a[""]=i)}}function QS(i,s,a,c,d){i.data[c]=d;const h=d.factory||(d.factory=io(d.type)),g=new uo(h,oi(d),Sh);i.blueprint[c]=g,a[c]=g,function ix(i,s,a,c,d){const h=d.hostBindings;if(h){let g=i.hostBindingOpCodes;null===g&&(g=i.hostBindingOpCodes=[]);const m=~s.index;(function qv(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(g)!=m&&g.push(m),g.push(a,c,h)}}(i,s,c,Ah(i,a,d.hostVars,ot),d)}function Bs(i,s,a,c,d,h){const g=Cr(i,s);!function Zv(i,s,a,c,d,h,g){if(null==h)i.removeAttribute(s,d,a);else{const m=null==g?he(h):g(h,c||"",d);i.setAttribute(s,d,m,a)}}(s[ft],g,h,i.value,a,c,d)}function JS(i,s,a,c,d,h){const g=h[s];if(null!==g)for(let m=0;m<g.length;)hE(c,a,g[m++],g[m++],g[m++])}function hE(i,s,a,c,d){const h=_i(null);try{const g=i.inputTransforms;null!==g&&g.hasOwnProperty(c)&&(d=g[c].call(s,d)),null!==i.setInput?i.setInput(s,d,a,c):s[c]=d}finally{_i(h)}}function eT(i,s,a){let c=null,d=0;for(;d<a.length;){const h=a[d];if(0!==h)if(5!==h){if("number"==typeof h)break;if(i.hasOwnProperty(h)){null===c&&(c=[]);const g=i[h];for(let m=0;m<g.length;m+=2)if(g[m]===s){c.push(h,g[m+1],a[d+1]);break}}d+=2}else d+=2;else d+=4}return c}function fE(i,s,a,c){return[i,!0,!1,s,null,0,c,a,null,null,null]}function pE(i,s){const a=i.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const h=a[c+1];if(-1!==h){const g=i.data[h];Mc(a[c]),g.contentQueries(2,s[h],h)}}}function lg(i,s){return i[to]?i[uy][si]=s:i[to]=s,i[uy]=s,s}function Yv(i,s,a){Mc(0);const c=_i(null);try{s(i,a)}finally{_i(c)}}function gE(i){return i[Zo]||(i[Zo]=[])}function mE(i){return i.cleanup||(i.cleanup=[])}function nT(i,s){const a=i[Ts],c=a?a.get(bo,null):null;c&&c.handleError(s)}function Qv(i,s,a,c,d){for(let h=0;h<a.length;){const g=a[h++],m=a[h++];hE(i.data[g],s[g],c,m,d)}}function So(i,s,a){const c=ou(s,i);!function Mp(i,s,a){i.setValue(s,a)}(i[ft],c,a)}function rT(i,s){const a=ai(s,i),c=a[xe];!function al(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])}(c,a);const d=a[on];null!==d&&null===a[Qi]&&(a[Qi]=xv(d,a[Ts])),dg(c,a,a[vn])}function dg(i,s,a){br(s);try{const c=i.viewQuery;null!==c&&Yv(1,c,a);const d=i.template;null!==d&&BS(i,s,d,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&pE(i,s),i.staticViewQueries&&Yv(2,i.viewQuery,a);const h=i.components;null!==h&&function hg(i,s){for(let a=0;a<s.length;a++)rT(i,s[a])}(s,h)}catch(c){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),c}finally{s[ct]&=-5,cu()}}let yE=(()=>{var i;class s{constructor(){this.all=new Set,this.queue=new Map}create(c,d,h){const g=typeof Zone>"u"?null:Zone.current,m=function xd(i,s,a){const c=Object.create(qf);a&&(c.consumerAllowSignalWrites=!0),c.fn=i,c.schedule=s;const d=g=>{c.cleanupFn=g};return c.ref={notify:()=>Gf(c),run:()=>{if(c.dirty=!1,c.hasRun&&!my(c))return;c.hasRun=!0;const g=Dc(c);try{c.cleanupFn(),c.cleanupFn=Nd,c.fn(d)}finally{Cd(c,g)}},cleanup:()=>c.cleanupFn()},c.ref}(c,b=>{this.all.has(b)&&this.queue.set(b,g)},h);let v;this.all.add(m),m.notify();const E=()=>{m.cleanup(),v?.(),this.all.delete(m),this.queue.delete(m)};return v=d?.onDestroy(E),{destroy:E}}flush(){if(0!==this.queue.size)for(const[c,d]of this.queue)this.queue.delete(c),d?d.run(()=>c.run()):c.run()}get isQueueEmpty(){return 0===this.queue.size}}return(i=s).\u0275prov=tn({token:i,providedIn:"root",factory:()=>new i}),s})();function fg(i,s,a){let c=a?i.styles:null,d=a?i.classes:null,h=0;if(null!==s)for(let g=0;g<s.length;g++){const m=s[g];"number"==typeof m?h=m:1==h?d=Be(d,m):2==h&&(c=Be(c,m+": "+s[++g]+";"))}a?i.styles=c:i.stylesWithoutHost=c,a?i.classes=d:i.classesWithoutHost=d}function Fu(i,s,a,c,d=!1){for(;null!==a;){const h=s[a.index];null!==h&&c.push(Zt(h)),or(h)&&iT(h,c);const g=a.type;if(8&g)Fu(i,s,a.child,c);else if(32&g){const m=tD(a,s);let v;for(;v=m();)c.push(v)}else if(16&g){const m=Rp(s,a);if(Array.isArray(m))c.push(...m);else{const v=Sp(s[Mn]);Fu(v[xe],v,m,c,!0)}}a=d?a.projectionNext:a.next}return c}function iT(i,s){for(let a=Wn;a<i.length;a++){const c=i[a],d=c[xe].firstChild;null!==d&&Fu(c[xe],c,d,s)}i[Xi]!==i[on]&&s.push(i[Xi])}function Xv(i,s,a,c=!0){const d=s[Yo],h=d.rendererFactory,g=d.afterRenderEventManager;h.begin?.(),g?.begin();try{oT(i,s,i.template,a)}catch(v){throw c&&nT(s,v),v}finally{h.end?.(),d.effectManager?.flush(),g?.end()}}function oT(i,s,a,c){const d=s[ct];if(256!=(256&d)){s[Yo].effectManager?.flush(),br(s);try{Xf(s),function My(i){return st.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&BS(i,s,a,2,c);const g=3==(3&d);if(g){const E=i.preOrderCheckHooks;null!==E&&Yr(s,E,null)}else{const E=i.preOrderHooks;null!==E&&ua(s,E,0,null),du(s,0)}if(function ux(i){for(let s=nD(i);null!==s;s=Je(s)){if(!s[cy])continue;const a=s[ro];for(let c=0;c<a.length;c++){Cy(a[c])}}}(s),aT(s,2),null!==i.contentQueries&&pE(i,s),g){const E=i.contentCheckHooks;null!==E&&Yr(s,E)}else{const E=i.contentHooks;null!==E&&ua(s,E,1),du(s,1)}!function eE(i,s){const a=i.hostBindingOpCodes;if(null===a)return;const c=QD(s,yc);try{for(let d=0;d<a.length;d++){const h=a[d];if(h<0)Zn(~h);else{const g=h,m=a[++d],v=a[++d];xy(m,g),c.dirty=!1;const E=Dc(c);try{v(2,s[g])}finally{Cd(c,E)}}}}finally{null===s[yc]&&ug(s,yc),Zn(-1)}}(i,s);const m=i.components;null!==m&&cT(s,m,0);const v=i.viewQuery;if(null!==v&&Yv(2,v,c),g){const E=i.viewCheckHooks;null!==E&&Yr(s,E)}else{const E=i.viewHooks;null!==E&&ua(s,E,2),du(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[ct]&=-73,Ld(s)}finally{cu()}}}function aT(i,s){for(let a=nD(i);null!==a;a=Je(a))for(let c=Wn;c<a.length;c++)uT(a[c],s)}function cx(i,s,a){uT(ai(s,i),a)}function uT(i,s){if(!function Ey(i){return 128==(128&i[ct])}(i))return;const a=i[xe],c=i[ct];if(80&c&&0===s||1024&c||2===s)oT(a,i,a.template,i[vn]);else if(i[mc]>0){aT(i,1);const d=a.components;null!==d&&cT(i,d,1)}}function cT(i,s,a){for(let c=0;c<s.length;c++)cx(i,s[c],a)}class pg{get rootNodes(){const s=this._lView,a=s[xe];return Fu(a,s,a.firstChild,[])}constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[vn]}set context(s){this._lView[vn]=s}get destroyed(){return 256==(256&this._lView[ct])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[ln];if(or(s)){const a=s[8],c=a?a.indexOf(this):-1;c>-1&&(pa(s,c),mo(a,c))}this._attachedToViewContainer=!1}Vs(this._lView[xe],this._lView)}onDestroy(s){!function Vi(i,s){if(256==(256&i[ct]))throw new Te(911,!1);null===i[no]&&(i[no]=[]),i[no].push(s)}(this._lView,s)}markForCheck(){bh(this._cdRefInjectingView||this._lView)}detach(){this._lView[ct]&=-129}reattach(){this._lView[ct]|=128}detectChanges(){Xv(this._lView[xe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Te(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ah(i,s){lh(i,s,s[ft],2,null,null)}(this._lView[xe],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Te(902,!1);this._appRef=s}}class lx extends pg{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;Xv(s[xe],s,s[vn],!1)}checkNoChanges(){}get context(){return null}}class Mh extends Nv{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=Ot(s);return new xh(a,this.ngModule)}}function vE(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class Jv{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,c){c=qa(c);const d=this.injector.get(s,Ov,c);return d!==Ov||a===Ov?d:this.parentInjector.get(s,a,c)}}class xh extends ND{get inputs(){const s=this.componentDef,a=s.inputTransforms,c=vE(s.inputs);if(null!==a)for(const d of c)a.hasOwnProperty(d.propName)&&(d.transform=a[d.propName]);return c}get outputs(){return vE(this.componentDef.outputs)}constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function iy(i){return i.map(kf).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}create(s,a,c,d){let h=(d=d||this.ngModule)instanceof ei?d:d?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const g=h?new Jv(s,h):s,m=g.get(RD,null);if(null===m)throw new Te(407,!1);const A={rendererFactory:m,sanitizer:g.get(_S,null),effectManager:g.get(yE,null),afterRenderEventManager:g.get(og,null)},F=m.createRenderer(null,this.componentDef),$=this.componentDef.selectors[0][0]||"div",te=c?function tx(i,s,a,c){const h=c.get(ol,!1)||a===Fi.ShadowDom,g=i.selectRootElement(s,h);return function rE(i){iE(i)}(g),g}(F,c,this.componentDef.encapsulation,g):oh(F,$,function ul(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}($)),qe=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let oe=null;null!==te&&(oe=xv(te,g,!0));const dt=nE(0,null,null,1,0,null,null,null,null,null,null),Tt=Th(null,dt,null,qe,null,null,A,F,g,null,oe);let en,nr;br(Tt);try{const mi=this.componentDef;let Uo,Vm=null;mi.findHostDirectiveDefs?(Uo=[],Vm=new Map,mi.findHostDirectiveDefs(mi,Uo,Vm),Uo.push(mi)):Uo=[mi];const HI=function Le(i,s){const a=i[xe],c=xt;return i[c]=s,Ea(a,c,2,"#host",null)}(Tt,te),GI=function e_(i,s,a,c,d,h,g){const m=d[xe];!function yt(i,s,a,c){for(const d of i)s.mergedAttrs=Ka(s.mergedAttrs,d.hostAttrs);null!==s.mergedAttrs&&(fg(s,s.mergedAttrs,!0),null!==a&&os(c,a,s))}(c,i,s,g);let v=null;null!==s&&(v=xv(s,d[Ts]));const E=h.rendererFactory.createRenderer(s,a);let b=16;a.signals?b=4096:a.onPush&&(b=64);const A=Th(d,jS(a),null,b,d[i.index],i,h,E,null,null,v);return m.firstCreatePass&&Wv(m,i,c.length-1),lg(d,A),d[i.index]=A}(HI,te,mi,Uo,Tt,A,F);nr=Zf(dt,xt),te&&function Nh(i,s,a,c){if(c)Wo(i,a,["ng-version",FD.full]);else{const{attrs:d,classes:h}=function sy(i){const s=[],a=[];let c=1,d=2;for(;c<i.length;){let h=i[c];if("string"==typeof h)2===d?""!==h&&s.push(h,i[++c]):8===d&&a.push(h);else{if(!yn(d))break;d=h}c++}return{attrs:s,classes:a}}(s.selectors[0]);d&&Wo(i,a,d),h&&h.length>0&&uD(i,a,h.join(" "))}}(F,mi,te,c),void 0!==a&&function lT(i,s,a){const c=i.projection=[];for(let d=0;d<s.length;d++){const h=a[d];c.push(null!=h?Array.from(h):null)}}(nr,this.ngContentSelectors,a),en=function gg(i,s,a,c,d,h){const g=ur(),m=d[xe],v=Cr(g,d);qS(m,d,g,a,null,c);for(let b=0;b<a.length;b++)Tr(Fs(d,m,g.directiveStart+b,g),d);lE(m,d,g),v&&Tr(v,d);const E=Fs(d,m,g.directiveStart+g.componentOffset,g);if(i[vn]=d[vn]=E,null!==h)for(const b of h)b(E,s);return cg(m,g,i),E}(GI,mi,Uo,Vm,Tt,[t_]),dg(dt,Tt,null)}finally{cu()}return new hs(this.componentType,en,Pu(nr,Tt),Tt,nr)}}class hs extends fS{constructor(s,a,c,d,h){super(),this.location=c,this._rootLView=d,this._tNode=h,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new lx(d),this.componentType=s}setInput(s,a){const c=this._tNode.inputs;let d;if(null!==c&&(d=c[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),a))return;const h=this._rootLView;Qv(h[xe],h,d,s,a),this.previousInputValues.set(s,a),bh(ai(this._tNode.index,h))}}get injector(){return new kr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function t_(){const i=ur();lu(le()[xe],i)}function n_(i){let s=function _E(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const c=[i];for(;s;){let d;if(oi(i))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Te(903,!1);d=s.\u0275dir}if(d){if(a){c.push(d);const g=i;g.inputs=Yn(i.inputs),g.inputTransforms=Yn(i.inputTransforms),g.declaredInputs=Yn(i.declaredInputs),g.outputs=Yn(i.outputs);const m=d.hostBindings;m&&Ca(i,m);const v=d.viewQuery,E=d.contentQueries;if(v&&mg(i,v),E&&fr(i,E),Se(i.inputs,d.inputs),Se(i.declaredInputs,d.declaredInputs),Se(i.outputs,d.outputs),null!==d.inputTransforms&&(null===g.inputTransforms&&(g.inputTransforms={}),Se(g.inputTransforms,d.inputTransforms)),oi(d)&&d.data.animation){const b=i.data;b.animation=(b.animation||[]).concat(d.data.animation)}}const h=d.features;if(h)for(let g=0;g<h.length;g++){const m=h[g];m&&m.ngInherit&&m(i),m===n_&&(a=!1)}}s=Object.getPrototypeOf(s)}!function dT(i){let s=0,a=null;for(let c=i.length-1;c>=0;c--){const d=i[c];d.hostVars=s+=d.hostVars,d.hostAttrs=Ka(d.hostAttrs,a=Ka(a,d.hostAttrs))}}(c)}function Yn(i){return i===vi?{}:i===kt?[]:i}function mg(i,s){const a=i.viewQuery;i.viewQuery=a?(c,d)=>{s(c,d),a(c,d)}:s}function fr(i,s){const a=i.contentQueries;i.contentQueries=a?(c,d,h)=>{s(c,d,h),a(c,d,h)}:s}function Ca(i,s){const a=i.hostBindings;i.hostBindings=a?(c,d)=>{s(c,d),a(c,d)}:s}function yg(i){const s=i.inputConfig,a={};for(const c in s)if(s.hasOwnProperty(c)){const d=s[c];Array.isArray(d)&&d[2]&&(a[c]=d[2])}i.inputTransforms=a}function vg(i){return!!Rh(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function Rh(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function pr(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function Ph(i,s,a,c){const d=le();return pr(d,sa(),s)&&(Lt(),Bs(dn(),d,i,s,a,c)),Ph}function hl(i,s,a,c){return pr(i,sa(),a)?s+he(a)+c:ot}function Us(i,s,a,c,d,h){const m=function To(i,s,a,c){const d=pr(i,s,a);return pr(i,s+1,c)||d}(i,function Os(){return st.lFrame.bindingIndex}(),a,d);return Rs(2),m?s+he(a)+c+he(d)+h:ot}function $h(i,s,a,c,d,h,g,m){const v=le(),E=Lt(),b=i+xt,A=E.firstCreatePass?function RE(i,s,a,c,d,h,g,m,v){const E=s.consts,b=Ea(s,i,4,g||null,es(E,m));cE(s,a,b,es(E,v)),lu(s,b);const A=b.tView=nE(2,b,c,d,h,s.directiveRegistry,s.pipeRegistry,null,s.schemas,E,null);return null!==s.queries&&(s.queries.template(s,b),A.queries=s.queries.embeddedTView(b)),b}(b,E,v,s,a,c,d,h,g):E.data[b];Di(A,!1);const F=PE(E,v,A,i);aa()&&Op(E,v,F,A),Tr(F,v),lg(v,v[b]=fE(F,v,F,A)),_c(A)&&zv(E,v,A),null!=g&&tE(v,A,m)}let PE=function FE(i,s,a,c){return an(!0),s[ft].createComment("")};function Tg(i,s,a){const c=le();return pr(c,sa(),s)&&Ai(Lt(),dn(),c,i,s,c[ft],a,!1),Tg}function yl(i,s,a,c,d){const g=d?"class":"style";Qv(i,a,s.inputs[g],g,c)}function Sa(i,s,a,c){const d=le(),h=Lt(),g=xt+i,m=d[ft],v=h.firstCreatePass?function kE(i,s,a,c,d,h){const g=s.consts,v=Ea(s,i,2,c,es(g,d));return cE(s,a,v,es(g,h)),null!==v.attrs&&fg(v,v.attrs,!1),null!==v.mergedAttrs&&fg(v,v.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,v),v}(g,h,d,s,a,c):h.data[g],E=m_(h,d,v,m,s,i);d[g]=E;const b=_c(v);return Di(v,!0),os(m,E,v),32!=(32&v.flags)&&aa()&&Op(h,d,E,v),0===function Jf(){return st.lFrame.elementDepthCount}()&&Tr(E,d),function ep(){st.lFrame.elementDepthCount++}(),b&&(zv(h,d,v),cg(h,v,d)),null!==c&&tE(d,v),Sa}function Hh(){let i=ur();Vd()?function Bd(){st.lFrame.isParent=!1}():(i=i.parent,Di(i,!1));const s=i;(function au(i){return st.skipHydrationRootTNode===i})(s)&&function O0(){st.skipHydrationRootTNode=null}(),function Ns(){st.lFrame.elementDepthCount--}();const a=Lt();return a.firstCreatePass&&(lu(a,i),vc(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function lp(i){return 0!=(8&i.flags)}(s)&&yl(a,s,le(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function dp(i){return 0!=(16&i.flags)}(s)&&yl(a,s,le(),s.stylesWithoutHost,!1),Hh}function Mr(i,s,a,c){return Sa(i,s,a,c),Hh(),Mr}let m_=(i,s,a,c,d,h)=>(an(!0),oh(c,d,function Oc(){return st.lFrame.currentNamespace}()));function xg(){return le()}function _l(i){return!!i&&"function"==typeof i.then}function wl(i){return!!i&&"function"==typeof i.subscribe}function Ng(i,s,a,c){const d=le(),h=Lt(),g=ur();return function qh(i,s,a,c,d,h,g){const m=_c(c),E=i.firstCreatePass&&mE(i),b=s[vn],A=gE(s);let F=!0;if(3&c.type||g){const ge=Cr(c,s),Me=g?g(ge):ge,qe=A.length,oe=g?Tt=>g(Zt(Tt[c.index])):c.index;let dt=null;if(!g&&m&&(dt=function w_(i,s,a,c){const d=i.cleanup;if(null!=d)for(let h=0;h<d.length-1;h+=2){const g=d[h];if(g===a&&d[h+1]===c){const m=s[Zo],v=d[h+2];return m.length>v?m[v]:null}"string"==typeof g&&(h+=2)}return null}(i,s,d,c.index)),null!==dt)(dt.__ngLastListenerFn__||dt).__ngNextListenerFn__=h,dt.__ngLastListenerFn__=h,F=!1;else{h=D_(c,s,b,h,!1);const Tt=a.listen(Me,d,h);A.push(h,Tt),E&&E.push(d,oe,qe,qe+1)}}else h=D_(c,s,b,h,!1);const $=c.outputs;let te;if(F&&null!==$&&(te=$[d])){const ge=te.length;if(ge)for(let Me=0;Me<ge;Me+=2){const en=s[te[Me]][te[Me+1]].subscribe(h),nr=A.length;A.push(h,en),E&&E.push(d,c.index,nr,-(nr+1))}}}(h,d,d[ft],g,i,s,c),Ng}function Og(i,s,a,c){try{return Zr(6,s,a),!1!==a(c)}catch(d){return nT(i,d),!1}finally{Zr(7,s,a)}}function D_(i,s,a,c,d){return function h(g){if(g===Function)return c;bh(i.componentOffset>-1?ai(i.index,s):s);let v=Og(s,a,c,g),E=h.__ngNextListenerFn__;for(;E;)v=Og(s,a,E,g)&&v,E=E.__ngNextListenerFn__;return d&&!1===v&&g.preventDefault(),v}}function E_(i=1){return function Ny(i){return(st.lFrame.contextLView=function up(i,s){for(;i>0;)s=s[Yi],i--;return s}(i,st.lFrame.contextLView))[vn]}(i)}function Rg(i,s,a){return Dl(i,"",s,"",a),Rg}function Dl(i,s,a,c,d){const h=le(),g=hl(h,s,a,c);return g!==ot&&Ai(Lt(),dn(),h,i,g,h[ft],d,!1),Dl}function Hs(i,s){return i<<17|s<<2}function Br(i){return i>>17&32767}function Lg(i){return 2|i}function Wt(i){return(131068&i)>>2}function Cl(i,s){return-131069&i|s<<2}function Bu(i){return 1|i}function HE(i,s,a,c,d){const h=i[a+1],g=null===s;let m=c?Br(h):Wt(h),v=!1;for(;0!==m&&(!1===v||g);){const b=i[m+1];IT(i[m],s)&&(v=!0,i[m+1]=c?Bu(b):Lg(b)),m=c?Br(b):Wt(b)}v&&(i[a+1]=c?Lg(h):Bu(h))}function IT(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&Ls(i,s)>=0}function M_(i,s){return function ti(i,s,a,c){const d=le(),h=Lt(),g=Rs(2);h.firstUpdatePass&&function x_(i,s,a,c){const d=i.data;if(null===d[a+1]){const h=d[En()],g=function Bg(i,s){return s>=i.expandoStartIndex}(i,a);(function O_(i,s){return 0!=(i.flags&(s?8:16))})(h,c)&&null===s&&!g&&(s=!1),s=function Zh(i,s,a,c){const d=function uu(i){const s=st.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let h=c?s.residualClasses:s.residualStyles;if(null===d)0===(c?s.classBindings:s.styleBindings)&&(a=Qh(a=jg(null,i,s,a,c),s.attrs,c),h=null);else{const g=s.directiveStylingLast;if(-1===g||i[g]!==d)if(a=jg(d,i,s,a,c),null===h){let v=function Yh(i,s,a){const c=a?s.classBindings:s.styleBindings;if(0!==Wt(c))return i[Br(c)]}(i,s,c);void 0!==v&&Array.isArray(v)&&(v=jg(null,i,s,v[1],c),v=Qh(v,s.attrs,c),function MT(i,s,a,c){i[Br(a?s.classBindings:s.styleBindings)]=c}(i,s,c,v))}else h=function xn(i,s,a){let c;const d=s.directiveEnd;for(let h=1+s.directiveStylingLast;h<d;h++)c=Qh(c,i[h].hostAttrs,a);return Qh(c,s.attrs,a)}(i,s,c)}return void 0!==h&&(c?s.residualClasses=h:s.residualStyles=h),a}(d,h,s,c),function ET(i,s,a,c,d,h){let g=h?s.classBindings:s.styleBindings,m=Br(g),v=Wt(g);i[c]=a;let b,E=!1;if(Array.isArray(a)?(b=a[1],(null===b||Ls(a,b)>0)&&(E=!0)):b=a,d)if(0!==v){const F=Br(i[m+1]);i[c+1]=Hs(F,m),0!==F&&(i[F+1]=Cl(i[F+1],c)),i[m+1]=function kg(i,s){return 131071&i|s<<17}(i[m+1],c)}else i[c+1]=Hs(m,0),0!==m&&(i[m+1]=Cl(i[m+1],c)),m=c;else i[c+1]=Hs(v,0),0===m?m=c:i[v+1]=Cl(i[v+1],c),v=c;E&&(i[c+1]=Lg(i[c+1])),HE(i,b,c,!0),HE(i,b,c,!1),function CT(i,s,a,c,d){const h=d?i.residualClasses:i.residualStyles;null!=h&&"string"==typeof s&&Ls(h,s)>=0&&(a[c+1]=Bu(a[c+1]))}(s,b,i,c,h),g=Hs(m,v),h?s.classBindings=g:s.styleBindings=g}(d,h,s,a,g,c)}}(h,i,g,c),s!==ot&&pr(d,g,s)&&function N_(i,s,a,c,d,h,g,m){if(!(3&s.type))return;const v=i.data,E=v[m+1],b=function Kh(i){return 1==(1&i)}(E)?Xh(v,s,a,d,Wt(E),g):void 0;Jh(b)||(Jh(h)||function Fg(i){return 2==(2&i)}(E)&&(h=Xh(v,null,a,d,m,g)),function Yc(i,s,a,c,d){if(s)d?i.addClass(a,c):i.removeClass(a,c);else{let h=-1===c.indexOf("-")?void 0:ih.DashCase;null==d?i.removeStyle(a,c,h):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),h|=ih.Important),i.setStyle(a,c,d,h))}}(c,g,ou(En(),a),d,h))}(h,h.data[En()],d,d[ft],i,d[g+1]=function zs(i,s){return null==i||""===i||("string"==typeof s?i+=s:"object"==typeof i&&(i=de(as(i)))),i}(s,a),c,g)}(i,s,null,!0),M_}function jg(i,s,a,c,d){let h=null;const g=a.directiveEnd;let m=a.directiveStylingLast;for(-1===m?m=a.directiveStart:m++;m<g&&(h=s[m],c=Qh(c,h.hostAttrs,d),h!==i);)m++;return null!==i&&(a.directiveStylingLast=m),c}function Qh(i,s,a){const c=a?1:2;let d=-1;if(null!==s)for(let h=0;h<s.length;h++){const g=s[h];"number"==typeof g?d=g:d===c&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Sr(i,g,!!a||s[++h]))}return void 0===i?null:i}function Xh(i,s,a,c,d,h){const g=null===s;let m;for(;d>0;){const v=i[d],E=Array.isArray(v),b=E?v[1]:v,A=null===b;let F=a[d+1];F===ot&&(F=A?kt:void 0);let $=A?Hc(F,c):b===c?F:void 0;if(E&&!Jh($)&&($=Hc(v,c)),Jh($)&&(m=$,g))return m;const te=i[d+1];d=g?Br(te):Wt(te)}if(null!==s){let v=h?s.residualClasses:s.residualStyles;null!=v&&(m=Hc(v,c))}return m}function Jh(i){return void 0!==i}function XE(i,s=""){const a=le(),c=Lt(),d=i+xt,h=c.firstCreatePass?Ea(c,d,1,s,null):c.data[d],g=R_(c,a,h,s,i);a[d]=g,aa()&&Op(c,a,g,h),Di(h,!1)}let R_=(i,s,a,c,d)=>(an(!0),function Ap(i,s){return i.createText(s)}(s[ft],c));function Ug(i){return bl("",i,""),Ug}function bl(i,s,a){const c=le(),d=hl(c,i,s,a);return d!==ot&&So(c,En(),d),bl}function Sl(i,s,a,c,d){const h=le(),g=Us(h,i,s,a,c,d);return g!==ot&&So(h,En(),g),Sl}const mr=void 0;var Kg=["en",[["a","p"],["AM","PM"],mr],[["AM","PM"],mr,mr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],mr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],mr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",mr,"{1} 'at' {0}",mr],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function xr(i){const a=Math.floor(Math.abs(i)),c=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let xo={};function Ml(i){const s=function RT(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=lC(s);if(a)return a;const c=s.split("-")[0];if(a=lC(c),a)return a;if("en"===c)return Kg;throw new Te(701,!1)}function Hu(i){return Ml(i)[Aa.PluralCase]}function lC(i){return i in xo||(xo[i]=Re.ng&&Re.ng.common&&Re.ng.common.locales&&Re.ng.common.locales[i]),xo[i]}var Aa=function(i){return i[i.LocaleId=0]="LocaleId",i[i.DayPeriodsFormat=1]="DayPeriodsFormat",i[i.DayPeriodsStandalone=2]="DayPeriodsStandalone",i[i.DaysFormat=3]="DaysFormat",i[i.DaysStandalone=4]="DaysStandalone",i[i.MonthsFormat=5]="MonthsFormat",i[i.MonthsStandalone=6]="MonthsStandalone",i[i.Eras=7]="Eras",i[i.FirstDayOfWeek=8]="FirstDayOfWeek",i[i.WeekendRange=9]="WeekendRange",i[i.DateFormat=10]="DateFormat",i[i.TimeFormat=11]="TimeFormat",i[i.DateTimeFormat=12]="DateTimeFormat",i[i.NumberSymbols=13]="NumberSymbols",i[i.NumberFormats=14]="NumberFormats",i[i.CurrencyCode=15]="CurrencyCode",i[i.CurrencySymbol=16]="CurrencySymbol",i[i.CurrencyName=17]="CurrencyName",i[i.Currencies=18]="Currencies",i[i.Directionality=19]="Directionality",i[i.PluralCase=20]="PluralCase",i[i.ExtraData=21]="ExtraData",i}(Aa||{});const xl="en-US";let H_=xl;function Ll(i,s,a,c,d){if(i=Q(i),Array.isArray(i))for(let h=0;h<i.length;h++)Ll(i[h],s,a,c,d);else{const h=Lt(),g=le(),m=ur();let v=el(i)?i:Q(i.provide);const E=_v(i),b=1048575&m.providerIndexes,A=m.directiveStart,F=m.providerIndexes>>20;if(el(i)||!i.multi){const $=new uo(E,d,Sh),te=nm(v,s,d?b:b+F,A);-1===te?(Wd(Hn(m,g),h,v),aw(h,i,s.length),s.push(v),m.directiveStart++,m.directiveEnd++,d&&(m.providerIndexes+=1048576),a.push($),g.push($)):(a[te]=$,g[te]=$)}else{const $=nm(v,s,b+F,A),te=nm(v,s,b,b+F),Me=te>=0&&a[te];if(d&&!Me||!d&&!($>=0&&a[$])){Wd(Hn(m,g),h,v);const qe=function LC(i,s,a,c,d){const h=new uo(i,a,Sh);return h.multi=[],h.index=s,h.componentProviders=0,Vl(h,d,c&&!a),h}(d?Ni:kC,a.length,d,c,E);!d&&Me&&(a[te].providerFactory=qe),aw(h,i,s.length,0),s.push(v),m.directiveStart++,m.directiveEnd++,d&&(m.providerIndexes+=1048576),a.push(qe),g.push(qe)}else aw(h,i,$>-1?$:te,Vl(a[d?te:$],E,!d&&c));!d&&c&&Me&&a[te].componentProviders++}}}function aw(i,s,a,c){const d=el(s),h=function aS(i){return!!i.useClass}(s);if(d||h){const v=(h?Q(s.useClass):s).prototype.ngOnDestroy;if(v){const E=i.destroyHooks||(i.destroyHooks=[]);if(!d&&s.multi){const b=E.indexOf(a);-1===b?E.push(a,[c,v]):E[b+1].push(c,v)}else E.push(a,v)}}}function Vl(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function nm(i,s,a,c){for(let d=a;d<c;d++)if(s[d]===i)return d;return-1}function kC(i,s,a,c){return af(this.multi,[])}function Ni(i,s,a,c){const d=this.multi;let h;if(this.providerFactory){const g=this.providerFactory.componentProviders,m=Fs(a,a[xe],this.providerFactory.index,c);h=m.slice(0,g),af(d,h);for(let v=g;v<m.length;v++)h.push(m[v])}else h=[],af(d,h);return h}function af(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function VC(i,s=[]){return a=>{a.providersResolver=(c,d)=>function zT(i,s,a){const c=Lt();if(c.firstCreatePass){const d=oi(i);Ll(a,c.data,c.blueprint,d,!0),Ll(s,c.data,c.blueprint,d,!1)}}(c,d?d(i):i,s)}}class fi{}class q{}function rm(i,s){return new uw(i,s??null,[])}class uw extends fi{constructor(s,a,c){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Mh(this);const d=Dr(s);this._bootstrapComponents=ds(d.bootstrap),this._r3Injector=kD(s,a,[{provide:fi,useValue:this},{provide:Nv,useValue:this.componentFactoryResolver},...c],de(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class zu extends q{constructor(s){super(),this.moduleType=s}create(s){return new uw(this.moduleType,s,[])}}class BC extends fi{constructor(s){super(),this.componentFactoryResolver=new Mh(this),this.instance=null;const a=new wh([...s.providers,{provide:fi,useValue:this},{provide:Nv,useValue:this.componentFactoryResolver}],s.parent||Hi(),s.debugName,new Set(["environment"]));this.injector=a,s.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function Na(i,s,a=null){return new BC({providers:i,parent:s,debugName:a,runEnvironmentInitializers:!0}).injector}let jC=(()=>{var i;class s{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c)){const d=ED(0,c.type),h=d.length>0?Na([d],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c,h)}return this.cachedInjectors.get(c)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return(i=s).\u0275prov=tn({token:i,providedIn:"environment",factory:()=>new i(kn(ei))}),s})();function im(i){i.getStandaloneInjector=s=>s.get(jC).getOrCreateStandaloneInjector(i)}function lw(i,s,a,c,d,h){const g=s+a;return pr(i,g,d)?function js(i,s,a){return i[s]=a}(i,g+1,h?c.call(h,d):c(d)):function cf(i,s){const a=i[s];return a===ot?void 0:a}(i,g+1)}function sm(i,s){const a=Lt();let c;const d=i+xt;a.firstCreatePass?(c=function vr(i,s){if(s)for(let a=s.length-1;a>=0;a--){const c=s[a];if(i===c.name)return c}}(s,a.pipeRegistry),a.data[d]=c,c.onDestroy&&(a.destroyHooks??=[]).push(d,c.onDestroy)):c=a.data[d];const h=c.factory||(c.factory=io(c.type)),m=Dn(Sh);try{const v=fu(!1),E=h();return fu(v),function _T(i,s,a,c){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),s[a]=c}(a,le(),d,E),E}finally{Dn(m)}}function fw(i,s,a){const c=i+xt,d=le(),h=function oo(i,s){return i[s]}(d,c);return function Ul(i,s){return i[xe].data[s].pure}(d,c)?lw(d,function Ir(){const i=st.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}(),s,h.transform,a,h):h.transform(a)}function $l(){return this._results[Symbol.iterator]()}class Ur{get changes(){return this._changes||(this._changes=new Ti)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Ur.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=$l)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const c=this;c.dirty=!1;const d=function Lr(i){return i.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function $c(i,s,a){if(i.length!==s.length)return!1;for(let c=0;c<i.length;c++){let d=i[c],h=s[c];if(a&&(d=a(d),h=a(h)),h!==d)return!1}return!0}(c._results,d,a))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function er(i,s,a,c=!0){const d=s[xe];if(function Xy(i,s,a,c){const d=Wn+c,h=a.length;c>0&&(a[d-1][si]=s),c<h-Wn?(s[si]=a[d],mu(a,Wn+c,s)):(a.push(s),s[si]=null),s[ln]=a;const g=s[Qo];null!==g&&a!==g&&function rD(i,s){const a=i[ro];s[Mn]!==s[ln][ln][Mn]&&(i[cy]=!0),null===a?i[ro]=[s]:a.push(s)}(g,s);const m=s[Li];null!==m&&m.insertView(i),s[ct]|=128}(d,s,i,a),c){const h=ev(a,i),g=s[ft],m=Cu(g,i[Xi]);null!==m&&function xp(i,s,a,c,d,h){c[on]=d,c[Er]=s,lh(i,c,a,1,d,h)}(d,i[Er],g,s,m,h)}}let zi=(()=>{class s{}return s.__NG_ELEMENT_ID__=am,s})();const Nn=zi,No=class extends Nn{constructor(s,a,c){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,a){return this.createEmbeddedViewImpl(s,a)}createEmbeddedViewImpl(s,a,c){const d=function WC(i,s,a,c){const d=s.tView,m=Th(i,d,a,4096&i[ct]?4096:16,null,s,null,null,null,c?.injector??null,c?.hydrationInfo??null);m[Qo]=i[s.index];const E=i[Li];return null!==E&&(m[Li]=E.createEmbeddedView(d)),dg(d,m,a),m}(this._declarationLView,this._declarationTContainer,s,{injector:a,hydrationInfo:c});return new pg(d)}};function am(){return Wu(ur(),le())}function Wu(i,s){return 4&i.type?new No(s,i,Pu(i,s)):null}let Oo=(()=>{class s{}return s.__NG_ELEMENT_ID__=gw,s})();function gw(){return mw(ur(),le())}const cm=Oo,Fa=class extends cm{constructor(s,a,c){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=c}get element(){return Pu(this._hostTNode,this._hostLView)}get injector(){return new kr(this._hostTNode,this._hostLView)}get parentInjector(){const s=qd(this._hostTNode,this._hostLView);if(Cn(s)){const a=ho(s,this._hostLView),c=lo(s);return new kr(a[xe].data[c+8],a)}return new kr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=lm(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-Wn}createEmbeddedView(s,a,c){let d,h;"number"==typeof c?d=c:null!=c&&(d=c.index,h=c.injector);const m=s.createEmbeddedViewImpl(a||{},h,null);return this.insertImpl(m,d,false),m}createComponent(s,a,c,d,h){const g=s&&!function ks(i){return"function"==typeof i}(s);let m;if(g)m=a;else{const ge=a||{};m=ge.index,c=ge.injector,d=ge.projectableNodes,h=ge.environmentInjector||ge.ngModuleRef}const v=g?s:new xh(Ot(s)),E=c||this.parentInjector;if(!h&&null==v.ngModule){const Me=(g?E:this.parentInjector).get(ei,null);Me&&(h=Me)}Ot(v.componentType??{});const $=v.create(E,d,null,h);return this.insertImpl($.hostView,m,false),$}insert(s,a){return this.insertImpl(s,a,!1)}insertImpl(s,a,c){const d=s._lView;if(function Qf(i){return or(i[ln])}(d)){const v=this.indexOf(s);if(-1!==v)this.detach(v);else{const E=d[ln],b=new Fa(E,E[Er],E[ln]);b.detach(b.indexOf(s))}}const g=this._adjustIndex(a),m=this._lContainer;return er(m,d,g,!c),s.attachToViewContainerRef(),mu(Ku(m),g,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=lm(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),c=pa(this._lContainer,a);c&&(mo(Ku(this._lContainer),a),Vs(c[xe],c))}detach(s){const a=this._adjustIndex(s,-1),c=pa(this._lContainer,a);return c&&null!=mo(Ku(this._lContainer),a)?new pg(c):null}_adjustIndex(s,a=0){return s??this.length+a}};function lm(i){return i[8]}function Ku(i){return i[8]||(i[8]=[])}function mw(i,s){let a;const c=s[i.index];return or(c)?a=c:(a=fE(c,s,null,i),s[i.index]=a,lg(s,a)),df(a,s,i,c),new Fa(a,i,s)}let df=function Gl(i,s,a,c){if(i[Xi])return;let d;d=8&a.type?Zt(c):function KC(i,s){const a=i[ft],c=a.createComment(""),d=Cr(s,i);return Jr(a,Cu(a,d),c,function oD(i,s){return i.nextSibling(s)}(a,d),!1),c}(s,a),i[Xi]=d};class yw{constructor(s){this.queryList=s,this.matches=null}clone(){return new yw(this.queryList)}setDirty(){this.queryList.setDirty()}}class dm{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const c=null!==s.contentQueries?s.contentQueries[0]:a.length,d=[];for(let h=0;h<c;h++){const g=a.getByIndex(h);d.push(this.queries[g.indexInDeclarationView].clone())}return new dm(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==Iw(s,a).matches&&this.queries[a].setDirty()}}class vw{constructor(s,a,c=null){this.predicate=s,this.flags=a,this.read=c}}class tr{constructor(s=[]){this.queries=s}elementStart(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let c=0;c<this.length;c++){const d=null!==a?a.length:0,h=this.getByIndex(c).embeddedTView(s,d);h&&(h.indexInDeclarationView=c,null!==a?a.push(h):a=[h])}return null!==a?new tr(a):null}template(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class hm{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new hm(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=s.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const h=c[d];this.matchTNodeWithReadOption(s,a,gn(a,h)),this.matchTNodeWithReadOption(s,a,Vc(a,s,h,!1,!1))}else c===zi?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Vc(a,s,c,!1,!1))}matchTNodeWithReadOption(s,a,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===Da||d===Oo||d===zi&&4&a.type)this.addMatch(a.index,-2);else{const h=Vc(a,s,d,!1,!1);null!==h&&this.addMatch(a.index,h)}else this.addMatch(a.index,c)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function gn(i,s){const a=i.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===s)return a[c+1];return null}function YC(i,s,a,c){return-1===a?function ka(i,s){return 11&i.type?Pu(i,s):4&i.type?Wu(i,s):null}(s,i):-2===a?function QC(i,s,a){return a===Da?Pu(s,i):a===zi?Wu(s,i):a===Oo?mw(s,i):void 0}(i,s,c):Fs(i,i[xe],a,s)}function Zu(i,s,a,c){const d=s[Li].queries[c];if(null===d.matches){const h=i.data,g=a.matches,m=[];for(let v=0;v<g.length;v+=2){const E=g[v];m.push(E<0?null:YC(s,h[E],g[v+1],a.metadata.read))}d.matches=m}return d.matches}function _w(i,s,a,c){const d=i.queries.getByIndex(a),h=d.matches;if(null!==h){const g=Zu(i,s,d,a);for(let m=0;m<h.length;m+=2){const v=h[m];if(v>0)c.push(g[m/2]);else{const E=h[m+1],b=s[-v];for(let A=Wn;A<b.length;A++){const F=b[A];F[Qo]===F[ln]&&_w(F[xe],F,E,c)}if(null!==b[ro]){const A=b[ro];for(let F=0;F<A.length;F++){const $=A[F];_w($[xe],$,E,c)}}}}}return c}function ww(i){const s=le(),a=Lt(),c=Ud();Mc(c+1);const d=Iw(a,c);if(i.dirty&&function Yf(i){return 4==(4&i[ct])}(s)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const h=d.crossesNgTemplate?_w(a,s,c,[]):Zu(a,s,d,c);i.reset(h,rl),i.notifyOnChanges()}return!0}return!1}function Xt(i,s,a,c){const d=Lt();if(d.firstCreatePass){const h=ur();(function Ew(i,s,a){null===i.queries&&(i.queries=new tr),i.queries.track(new hm(s,a))})(d,new vw(s,a,c),h.index),function Cw(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(d,i),2==(2&a)&&(d.staticContentQueries=!0)}!function fm(i,s,a){const c=new Ur(4==(4&a));(function HS(i,s,a,c){const d=gE(s);d.push(a),i.firstCreatePass&&mE(i).push(c,d.length-1)})(i,s,c,c.destroy),null===s[Li]&&(s[Li]=new dm),s[Li].queries.push(new yw(c))}(d,le(),a)}function Yu(){return function Dw(i,s){return i[Li].queries[s].queryList}(le(),Ud())}function Iw(i,s){return i.queries.getByIndex(s)}function Sw(i){return!!Dr(i)}const Ql=new Rt("Application Initializer");let Fw=(()=>{var i;class s{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d}),this.appInits=Kt(Ql,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const c=[];for(const h of this.appInits){const g=h();if(_l(g))c.push(g);else if(wl(g)){const m=new Promise((v,E)=>{g.subscribe({complete:v,error:E})});c.push(m)}}const d=()=>{this.done=!0,this.resolve()};Promise.all(c).then(()=>{d()}).catch(h=>{this.reject(h)}),0===c.length&&d(),this.initialized=!0}}return(i=s).\u0275fac=function(c){return new(c||i)},i.\u0275prov=tn({token:i,factory:i.\u0275fac,providedIn:"root"}),s})(),cI=(()=>{var i;class s{log(c){console.log(c)}warn(c){console.warn(c)}}return(i=s).\u0275fac=function(c){return new(c||i)},i.\u0275prov=tn({token:i,factory:i.\u0275fac,providedIn:"platform"}),s})();const Ju=new Rt("LocaleId",{providedIn:"root",factory:()=>Kt(Ju,bt.Optional|bt.SkipSelf)||function _n(){return typeof $localize<"u"&&$localize.locale||xl}()}),kw=new Rt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let lI=(()=>{var i;class s{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new V.X(!1)}add(){this.hasPendingTasks.next(!0);const c=this.taskId++;return this.pendingTasks.add(c),c}remove(c){this.pendingTasks.delete(c),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(i=s).\u0275fac=function(c){return new(c||i)},i.\u0275prov=tn({token:i,factory:i.\u0275fac,providedIn:"root"}),s})();class dI{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let Xl=(()=>{var i;class s{compileModuleSync(c){return new zu(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),g=ds(Dr(c).declarations).reduce((m,v)=>{const E=Ot(v);return E&&m.push(new xh(E)),m},[]);return new dI(d,g)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return(i=s).\u0275fac=function(c){return new(c||i)},i.\u0275prov=tn({token:i,factory:i.\u0275fac,providedIn:"root"}),s})();const vI=new Rt(""),Hw=new Rt("");let Gw,_I=(()=>{var i;class s{constructor(c,d,h){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Gw||(function TA(i){Gw=i}(h),h.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{hr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,h){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==g),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:g,updateCb:h})}whenStable(c,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,h){return[]}}return(i=s).\u0275fac=function(c){return new(c||i)(kn(hr),kn(wI),kn(Hw))},i.\u0275prov=tn({token:i,factory:i.\u0275fac}),s})(),wI=(()=>{var i;class s{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return Gw?.findTestabilityInTree(this,c,d)??null}}return(i=s).\u0275fac=function(c){return new(c||i)},i.\u0275prov=tn({token:i,factory:i.\u0275fac,providedIn:"platform"}),s})(),Va=null;const wm=new Rt("AllowMultipleToken"),Ba=new Rt("PlatformDestroyListeners"),Dm=new Rt("appBootstrapListener");class Ef{constructor(s,a){this.name=s,this.token=a}}function Ww(i,s,a=[]){const c=`Platform: ${s}`,d=new Rt(c);return(h=[])=>{let g=Zw();if(!g||g.injector.get(wm,!1)){const m=[...a,...h,{provide:d,useValue:!0}];i?i(m):function Zs(i){if(Va&&!Va.get(wm,!1))throw new Te(400,!1);(function Em(){!function na(i){ta=i}(()=>{throw new Te(600,!1)})})(),Va=i;const s=i.get(ed);(function qw(i){i.get(Dh,null)?.forEach(a=>a())})(i)}(function Kw(i=[],s){return Si.create({name:s,providers:[{provide:Au,useValue:"platform"},{provide:Ba,useValue:new Set([()=>Va=null])},...i]})}(m,c))}return function EI(i){const s=Zw();if(!s)throw new Te(401,!1);return s}()}}function Zw(){return Va?.get(ed)??null}let ed=(()=>{var i;class s{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const h=function MA(i="zone.js",s){return"noop"===i?new TS:"zone.js"===i?new hr(s):i}(d?.ngZone,function Im(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}({eventCoalescing:d?.ngZoneEventCoalescing,runCoalescing:d?.ngZoneRunCoalescing}));return h.run(()=>{const g=function xa(i,s,a){return new uw(i,s,a)}(c.moduleType,this.injector,function rc(i){return[{provide:hr,useFactory:i},{provide:_a,multi:!0,useFactory:()=>{const s=Kt(NA,{optional:!0});return()=>s.initialize()}},{provide:CI,useFactory:xA},{provide:jD,useFactory:UD}]}(()=>h)),m=g.injector.get(bo,null);return h.runOutsideAngular(()=>{const v=h.onError.subscribe({next:E=>{m.handleError(E)}});g.onDestroy(()=>{Sm(this._modules,g),v.unsubscribe()})}),function Yw(i,s,a){try{const c=a();return _l(c)?c.catch(d=>{throw s.runOutsideAngular(()=>i.handleError(d)),d}):c}catch(c){throw s.runOutsideAngular(()=>i.handleError(c)),c}}(m,h,()=>{const v=g.injector.get(Fw);return v.runInitializers(),v.donePromise.then(()=>(function G_(i){rn(i,"Expected localeId to be defined"),"string"==typeof i&&(H_=i.toLowerCase().replace(/_/g,"-"))}(g.injector.get(Ju,xl)||xl),this._moduleDoBootstrap(g),g))})})}bootstrapModule(c,d=[]){const h=bm({},d);return function AA(i,s,a){const c=new zu(a);return Promise.resolve(c)}(0,0,c).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(c){const d=c.injector.get(tc);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!c.instance.ngDoBootstrap)throw new Te(-403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Te(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(Ba,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(i=s).\u0275fac=function(c){return new(c||i)(kn(Si))},i.\u0275prov=tn({token:i,factory:i.\u0275fac,providedIn:"platform"}),s})();function bm(i,s){return Array.isArray(s)?s.reduce(bm,i):{...i,...s}}let tc=(()=>{var i;class s{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Kt(CI),this.zoneIsStable=Kt(jD),this.componentTypes=[],this.components=[],this.isStable=Kt(lI).hasPendingTasks.pipe((0,ht.w)(c=>c?(0,k.of)(!1):this.zoneIsStable),function Ht(i,s=_t.y){return i=i??wn,(0,Ce.e)((a,c)=>{let d,h=!0;a.subscribe((0,Ze.x)(c,g=>{const m=s(g);(h||!i(d,m))&&(h=!1,d=m,c.next(g))}))})}(),pe()),this._injector=Kt(ei)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,d){const h=c instanceof ND;if(!this._injector.get(Fw).done)throw!h&&Js(c),new Te(405,!1);let m;m=h?c:this._injector.get(Nv).resolveComponentFactory(c),this.componentTypes.push(m.componentType);const v=function DI(i){return i.isBoundToModule}(m)?void 0:this._injector.get(fi),b=m.create(Si.NULL,[],d||m.selector,v),A=b.location.nativeElement,F=b.injector.get(vI,null);return F?.registerApplication(A),b.onDestroy(()=>{this.detachView(b.hostView),Sm(this.components,b),F?.unregisterApplication(A)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new Te(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this.internalErrorHandler(c)}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;Sm(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const d=this._injector.get(Dm,[]);d.push(...this._bootstrapListeners),d.forEach(h=>h(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>Sm(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new Te(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(i=s).\u0275fac=function(c){return new(c||i)},i.\u0275prov=tn({token:i,factory:i.\u0275fac,providedIn:"root"}),s})();function Sm(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}const CI=new Rt("",{providedIn:"root",factory:()=>Kt(bo).handleError.bind(void 0)});function xA(){const i=Kt(hr),s=Kt(bo);return a=>i.runOutsideAngular(()=>s.handleError(a))}let NA=(()=>{var i;class s{constructor(){this.zone=Kt(hr),this.applicationRef=Kt(tc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(i=s).\u0275fac=function(c){return new(c||i)},i.\u0275prov=tn({token:i,factory:i.\u0275fac,providedIn:"root"}),s})();function OA(){return!1}function bI(){}let TI=(()=>{class s{}return s.__NG_ELEMENT_ID__=Tm,s})();function Tm(i){return function ic(i,s,a){if(Ms(i)&&!a){const c=ai(i.index,s);return new pg(c,c)}return 47&i.type?new pg(s[Mn],s):null}(ur(),le(),16==(16&i))}class Vo{constructor(){}supports(s){return vg(s)}create(s){return new LA(s)}}const xI=(i,s)=>s;class LA{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||xI}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,c=this._removalsHead,d=0,h=null;for(;a||c;){const g=!c||a&&a.currentIndex<Rm(c,d,h)?a:c,m=Rm(g,d,h),v=g.currentIndex;if(g===c)d--,c=c._nextRemoved;else if(a=a._next,null==g.previousIndex)d++;else{h||(h=[]);const E=m-d,b=v-d;if(E!=b){for(let F=0;F<E;F++){const $=F<h.length?h[F]:h[F]=0,te=$+F;b<=te&&te<E&&(h[F]=$+1)}h[g.previousIndex]=b-E}}m!==v&&s(g,m,v)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!vg(s))throw new Te(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,h,g,a=this._itHead,c=!1;if(Array.isArray(s)){this.length=s.length;for(let m=0;m<this.length;m++)h=s[m],g=this._trackByFn(m,h),null!==a&&Object.is(a.trackById,g)?(c&&(a=this._verifyReinsertion(a,h,g,m)),Object.is(a.item,h)||this._addIdentityChange(a,h)):(a=this._mismatch(a,h,g,m),c=!0),a=a._next}else d=0,function CE(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[Symbol.iterator]();let c;for(;!(c=a.next()).done;)s(c.value)}}(s,m=>{g=this._trackByFn(d,m),null!==a&&Object.is(a.trackById,g)?(c&&(a=this._verifyReinsertion(a,m,g,d)),Object.is(a.item,m)||this._addIdentityChange(a,m)):(a=this._mismatch(a,m,g,d),c=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,c,d){let h;return null===s?h=this._itTail:(h=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,h,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,h,d)):s=this._addAfter(new NI(a,c),h,d),s}_verifyReinsertion(s,a,c,d){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==h?s=this._reinsertAfter(h,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,h=s._nextRemoved;return null===d?this._removalsHead=h:d._nextRemoved=h,null===h?this._removalsTail=d:h._prevRemoved=d,this._insertAfter(s,a,c),this._addToMoves(s,c),s}_moveAfter(s,a,c){return this._unlink(s),this._insertAfter(s,a,c),this._addToMoves(s,c),s}_addAfter(s,a,c){return this._insertAfter(s,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,c){const d=null===a?this._itHead:a._next;return s._next=d,s._prev=a,null===d?this._itTail=s:d._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new Om),this._linkedRecords.put(s),s.currentIndex=c,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,c=s._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Om),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class NI{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class VA{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,s))return c;return null}remove(s){const a=s._prevDup,c=s._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class Om{constructor(){this.map=new Map}put(s){const a=s.trackById;let c=this.map.get(a);c||(c=new VA,this.map.set(a,c)),c.add(s)}get(s,a){const d=this.map.get(s);return d?d.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Rm(i,s,a){const c=i.previousIndex;if(null===c)return c;let d=0;return a&&c<a.length&&(d=a[c]),c+s+d}class t0{constructor(){}supports(s){return s instanceof Map||Rh(s)}create(){return new n0}}class n0{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||Rh(s)))throw new Te(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(c,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const h=this._getOrCreateRecordForKey(d,c);a=this._insertBeforeOrAppend(a,h)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const c=s._prev;return a._next=s,a._prev=c,s._prev=a,c&&(c._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,a);const h=d._prev,g=d._next;return h&&(h._next=g),g&&(g._prev=h),d._next=null,d._prev=null,d}const c=new r0(s);return this._records.set(s,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(c=>a(s[c],c))}}class r0{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function s0(){return new id([new Vo])}let id=(()=>{var i;class s{constructor(c){this.factories=c}static create(c,d){if(null!=d){const h=d.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||s0()),deps:[[s,new Ii,new fa]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(null!=d)return d;throw new Te(901,!1)}}return(i=s).\u0275prov=tn({token:i,providedIn:"root",factory:s0}),s})();function Pm(){return new sd([new t0])}let sd=(()=>{var i;class s{constructor(c){this.factories=c}static create(c,d){if(d){const h=d.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||Pm()),deps:[[s,new Ii,new fa]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(d)return d;throw new Te(901,!1)}}return(i=s).\u0275prov=tn({token:i,providedIn:"root",factory:Pm}),s})();const bf=Ww(null,"core",[]);let RI=(()=>{var i;class s{constructor(c){}}return(i=s).\u0275fac=function(c){return new(c||i)(kn(tc))},i.\u0275mod=Ss({type:i}),i.\u0275inj=Pr({}),s})();function jI(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}function KA(i){const s=Ot(i);if(!s)return null;const a=new xh(s);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return s.standalone},get isSignal(){return s.signals}}}},7592:(rt,ve,x)=>{x.r(ve),x.d(ve,{FirebaseError:()=>z.ZR,SDK_VERSION:()=>zt,_DEFAULT_ENTRY_NAME:()=>X,_addComponent:()=>Ve,_addOrOverwriteComponent:()=>vt,_apps:()=>ne,_clearComponents:()=>Jt,_components:()=>$e,_getProvider:()=>Ct,_registerComponent:()=>Ge,_removeServiceInstance:()=>At,deleteApp:()=>cc,getApp:()=>it,getApps:()=>Ha,initializeApp:()=>rn,onLog:()=>tn,registerVersion:()=>Ga,setLogLevel:()=>qr});var ae,be,ke,B=x(5861),p=x(4537),H=x(7879),z=x(9058),se=x(1878);class ye{constructor(_e){this.container=_e}getPlatformInfoString(){return this.container.getProviders().map(He=>{if(function V(Re){const _e=Re.getComponent();return"VERSION"===_e?.type}(He)){const at=He.getImmediate();return`${at.library}/${at.version}`}return null}).filter(He=>He).join(" ")}}const k="@firebase/app",Ce=new H.Yd("@firebase/app"),X="[DEFAULT]",ce={[k]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ne=new Map,$e=new Map;function Ve(Re,_e){try{Re.container.addComponent(_e)}catch(He){Ce.debug(`Component ${_e.name} failed to register with FirebaseApp ${Re.name}`,He)}}function vt(Re,_e){Re.container.addOrOverwriteComponent(_e)}function Ge(Re){const _e=Re.name;if($e.has(_e))return Ce.debug(`There were multiple attempts to register component ${_e}.`),!1;$e.set(_e,Re);for(const He of ne.values())Ve(He,Re);return!0}function Ct(Re,_e){const He=Re.container.getProvider("heartbeat").getImmediate({optional:!0});return He&&He.triggerHeartbeat(),Re.container.getProvider(_e)}function At(Re,_e,He=X){Ct(Re,_e).clearInstance(He)}function Jt(){$e.clear()}const Pn=new z.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class zr{constructor(_e,He,at){this._isDeleted=!1,this._options=Object.assign({},_e),this._config=Object.assign({},He),this._name=He.name,this._automaticDataCollectionEnabled=He.automaticDataCollectionEnabled,this._container=at,this.container.addComponent(new p.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_e){this.checkDestroyed(),this._automaticDataCollectionEnabled=_e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(_e){this._isDeleted=_e}checkDestroyed(){if(this.isDeleted)throw Pn.create("app-deleted",{appName:this._name})}}const zt="9.23.0";function rn(Re,_e={}){let He=Re;"object"!=typeof _e&&(_e={name:_e});const at=Object.assign({name:X,automaticDataCollectionEnabled:!1},_e),mt=at.name;if("string"!=typeof mt||!mt)throw Pn.create("bad-app-name",{appName:String(mt)});if(He||(He=(0,z.aH)()),!He)throw Pn.create("no-options");const Ft=ne.get(mt);if(Ft){if((0,z.vZ)(He,Ft.options)&&(0,z.vZ)(at,Ft.config))return Ft;throw Pn.create("duplicate-app",{appName:mt})}const Un=new p.H0(mt);for(const O of $e.values())Un.addComponent(O);const P=new zr(He,at,Un);return ne.set(mt,P),P}function it(Re=X){const _e=ne.get(Re);if(!_e&&Re===X&&(0,z.aH)())return rn();if(!_e)throw Pn.create("no-app",{appName:Re});return _e}function Ha(){return Array.from(ne.values())}function cc(Re){return(ae=ae||(0,B.Z)(function*(_e){const He=_e.name;ne.has(He)&&(ne.delete(He),yield Promise.all(_e.container.getProviders().map(at=>at.delete())),_e.isDeleted=!0)})).apply(this,arguments)}function Ga(Re,_e,He){var at;let mt=null!==(at=ce[Re])&&void 0!==at?at:Re;He&&(mt+=`-${He}`);const Ft=mt.match(/\s|\//),Un=_e.match(/\s|\//);if(Ft||Un){const P=[`Unable to register library "${mt}" with version "${_e}":`];return Ft&&P.push(`library name "${mt}" contains illegal characters (whitespace or "/")`),Ft&&Un&&P.push("and"),Un&&P.push(`version name "${_e}" contains illegal characters (whitespace or "/")`),void Ce.warn(P.join(" "))}Ge(new p.wA(`${mt}-version`,()=>({library:mt,version:_e}),"VERSION"))}function tn(Re,_e){if(null!==Re&&"function"!=typeof Re)throw Pn.create("invalid-log-argument");(0,H.Am)(Re,_e)}function qr(Re){(0,H.Ub)(Re)}const Pr="firebase-heartbeat-database",Mt=1,It="firebase-heartbeat-store";let Cs=null;function ii(){return Cs||(Cs=(0,se.X3)(Pr,Mt,{upgrade:(Re,_e)=>{0===_e&&Re.createObjectStore(It)}}).catch(Re=>{throw Pn.create("idb-open",{originalErrorMessage:Re.message})})),Cs}function wr(Re,_e){return(ke=ke||(0,B.Z)(function*(He,at){try{const Ft=(yield ii()).transaction(It,"readwrite");yield Ft.objectStore(It).put(at,qn(He)),yield Ft.done}catch(mt){if(mt instanceof z.ZR)Ce.warn(mt.message);else{const Ft=Pn.create("idb-set",{originalErrorMessage:mt?.message});Ce.warn(Ft.message)}}})).apply(this,arguments)}function qn(Re){return`${Re.name}!${Re.options.appId}`}class bt{constructor(_e){this.container=_e,this._heartbeatsCache=null;const He=this.container.getProvider("app").getImmediate();this._storage=new Dn(He),this._heartbeatsCachePromise=this._storage.read().then(at=>(this._heartbeatsCache=at,at))}triggerHeartbeat(){var _e=this;return(0,B.Z)(function*(){const at=_e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),mt=jt();if(null===_e._heartbeatsCache&&(_e._heartbeatsCache=yield _e._heartbeatsCachePromise),_e._heartbeatsCache.lastSentHeartbeatDate!==mt&&!_e._heartbeatsCache.heartbeats.some(Ft=>Ft.date===mt))return _e._heartbeatsCache.heartbeats.push({date:mt,agent:at}),_e._heartbeatsCache.heartbeats=_e._heartbeatsCache.heartbeats.filter(Ft=>{const Un=new Date(Ft.date).valueOf();return Date.now()-Un<=2592e6}),_e._storage.overwrite(_e._heartbeatsCache)})()}getHeartbeatsHeader(){var _e=this;return(0,B.Z)(function*(){if(null===_e._heartbeatsCache&&(yield _e._heartbeatsCachePromise),null===_e._heartbeatsCache||0===_e._heartbeatsCache.heartbeats.length)return"";const He=jt(),{heartbeatsToSend:at,unsentEntries:mt}=function za(Re,_e=1024){const He=[];let at=Re.slice();for(const mt of Re){const Ft=He.find(Un=>Un.agent===mt.agent);if(Ft){if(Ft.dates.push(mt.date),Ho(He)>_e){Ft.dates.pop();break}}else if(He.push({agent:mt.agent,dates:[mt.date]}),Ho(He)>_e){He.pop();break}at=at.slice(1)}return{heartbeatsToSend:He,unsentEntries:at}}(_e._heartbeatsCache.heartbeats),Ft=(0,z.L)(JSON.stringify({version:2,heartbeats:at}));return _e._heartbeatsCache.lastSentHeartbeatDate=He,mt.length>0?(_e._heartbeatsCache.heartbeats=mt,yield _e._storage.overwrite(_e._heartbeatsCache)):(_e._heartbeatsCache.heartbeats=[],_e._storage.overwrite(_e._heartbeatsCache)),Ft})()}}function jt(){return(new Date).toISOString().substring(0,10)}class Dn{constructor(_e){this.app=_e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,B.Z)(function*(){return!!(0,z.hl)()&&(0,z.eu)().then(()=>!0).catch(()=>!1)})()}read(){var _e=this;return(0,B.Z)(function*(){return(yield _e._canUseIndexedDBPromise)&&(yield function jn(Re){return(be=be||(0,B.Z)(function*(_e){try{return yield(yield ii()).transaction(It).objectStore(It).get(qn(_e))}catch(He){if(He instanceof z.ZR)Ce.warn(He.message);else{const at=Pn.create("idb-get",{originalErrorMessage:He?.message});Ce.warn(at.message)}}})).apply(this,arguments)}(_e.app))||{heartbeats:[]}})()}overwrite(_e){var He=this;return(0,B.Z)(function*(){var at;if(yield He._canUseIndexedDBPromise){const Ft=yield He.read();return wr(He.app,{lastSentHeartbeatDate:null!==(at=_e.lastSentHeartbeatDate)&&void 0!==at?at:Ft.lastSentHeartbeatDate,heartbeats:_e.heartbeats})}})()}add(_e){var He=this;return(0,B.Z)(function*(){var at;if(yield He._canUseIndexedDBPromise){const Ft=yield He.read();return wr(He.app,{lastSentHeartbeatDate:null!==(at=_e.lastSentHeartbeatDate)&&void 0!==at?at:Ft.lastSentHeartbeatDate,heartbeats:[...Ft.heartbeats,..._e.heartbeats]})}})()}}function Ho(Re){return(0,z.L)(JSON.stringify({version:2,heartbeats:Re})).length}!function Ys(Re){Ge(new p.wA("platform-logger",_e=>new ye(_e),"PRIVATE")),Ge(new p.wA("heartbeat",_e=>new bt(_e),"PRIVATE")),Ga(k,"0.9.13",Re),Ga(k,"0.9.13","esm2017"),Ga("fire-js","")}("")},4097:(rt,ve,x)=>{x.d(ve,{C6:()=>B.getApps,Mq:()=>B.getApp});var B=x(7592);(0,B.registerVersion)("firebase","9.23.0","app")},4537:(rt,ve,x)=>{x.d(ve,{H0:()=>ke,wA:()=>H});var B=x(5861),p=x(9058);class H{constructor(V,k,ee){this.name=V,this.instanceFactory=k,this.type=ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(V){return this.instantiationMode=V,this}setMultipleInstances(V){return this.multipleInstances=V,this}setServiceProps(V){return this.serviceProps=V,this}setInstanceCreatedCallback(V){return this.onInstanceCreated=V,this}}const z="[DEFAULT]";class se{constructor(V,k){this.name=V,this.container=k,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(V){const k=this.normalizeInstanceIdentifier(V);if(!this.instancesDeferred.has(k)){const ee=new p.BH;if(this.instancesDeferred.set(k,ee),this.isInitialized(k)||this.shouldAutoInitialize())try{const Ce=this.getOrInitializeService({instanceIdentifier:k});Ce&&ee.resolve(Ce)}catch{}}return this.instancesDeferred.get(k).promise}getImmediate(V){var k;const ee=this.normalizeInstanceIdentifier(V?.identifier),Ce=null!==(k=V?.optional)&&void 0!==k&&k;if(!this.isInitialized(ee)&&!this.shouldAutoInitialize()){if(Ce)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ee})}catch(pe){if(Ce)return null;throw pe}}getComponent(){return this.component}setComponent(V){if(V.name!==this.name)throw Error(`Mismatching Component ${V.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=V,this.shouldAutoInitialize()){if(function be(ye){return"EAGER"===ye.instantiationMode}(V))try{this.getOrInitializeService({instanceIdentifier:z})}catch{}for(const[k,ee]of this.instancesDeferred.entries()){const Ce=this.normalizeInstanceIdentifier(k);try{const pe=this.getOrInitializeService({instanceIdentifier:Ce});ee.resolve(pe)}catch{}}}}clearInstance(V=z){this.instancesDeferred.delete(V),this.instancesOptions.delete(V),this.instances.delete(V)}delete(){var V=this;return(0,B.Z)(function*(){const k=Array.from(V.instances.values());yield Promise.all([...k.filter(ee=>"INTERNAL"in ee).map(ee=>ee.INTERNAL.delete()),...k.filter(ee=>"_delete"in ee).map(ee=>ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(V=z){return this.instances.has(V)}getOptions(V=z){return this.instancesOptions.get(V)||{}}initialize(V={}){const{options:k={}}=V,ee=this.normalizeInstanceIdentifier(V.instanceIdentifier);if(this.isInitialized(ee))throw Error(`${this.name}(${ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ce=this.getOrInitializeService({instanceIdentifier:ee,options:k});for(const[pe,Oe]of this.instancesDeferred.entries())ee===this.normalizeInstanceIdentifier(pe)&&Oe.resolve(Ce);return Ce}onInit(V,k){var ee;const Ce=this.normalizeInstanceIdentifier(k),pe=null!==(ee=this.onInitCallbacks.get(Ce))&&void 0!==ee?ee:new Set;pe.add(V),this.onInitCallbacks.set(Ce,pe);const Oe=this.instances.get(Ce);return Oe&&V(Oe,Ce),()=>{pe.delete(V)}}invokeOnInitCallbacks(V,k){const ee=this.onInitCallbacks.get(k);if(ee)for(const Ce of ee)try{Ce(V,k)}catch{}}getOrInitializeService({instanceIdentifier:V,options:k={}}){let ee=this.instances.get(V);if(!ee&&this.component&&(ee=this.component.instanceFactory(this.container,{instanceIdentifier:(ye=V,ye===z?void 0:ye),options:k}),this.instances.set(V,ee),this.instancesOptions.set(V,k),this.invokeOnInitCallbacks(ee,V),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,V,ee)}catch{}var ye;return ee||null}normalizeInstanceIdentifier(V=z){return this.component?this.component.multipleInstances?V:z:V}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ke{constructor(V){this.name=V,this.providers=new Map}addComponent(V){const k=this.getProvider(V.name);if(k.isComponentSet())throw new Error(`Component ${V.name} has already been registered with ${this.name}`);k.setComponent(V)}addOrOverwriteComponent(V){this.getProvider(V.name).isComponentSet()&&this.providers.delete(V.name),this.addComponent(V)}getProvider(V){if(this.providers.has(V))return this.providers.get(V);const k=new se(V,this);return this.providers.set(V,k),k}getProviders(){return Array.from(this.providers.values())}}},7879:(rt,ve,x)=>{x.d(ve,{Am:()=>ye,Ub:()=>ke,Yd:()=>be,in:()=>p});const B=[];var p=function(V){return V[V.DEBUG=0]="DEBUG",V[V.VERBOSE=1]="VERBOSE",V[V.INFO=2]="INFO",V[V.WARN=3]="WARN",V[V.ERROR=4]="ERROR",V[V.SILENT=5]="SILENT",V}(p||{});const H={debug:p.DEBUG,verbose:p.VERBOSE,info:p.INFO,warn:p.WARN,error:p.ERROR,silent:p.SILENT},z=p.INFO,se={[p.DEBUG]:"log",[p.VERBOSE]:"log",[p.INFO]:"info",[p.WARN]:"warn",[p.ERROR]:"error"},ae=(V,k,...ee)=>{if(k<V.logLevel)return;const Ce=(new Date).toISOString(),pe=se[k];if(!pe)throw new Error(`Attempted to log a message with an invalid logType (value: ${k})`);console[pe](`[${Ce}]  ${V.name}:`,...ee)};class be{constructor(k){this.name=k,this._logLevel=z,this._logHandler=ae,this._userLogHandler=null,B.push(this)}get logLevel(){return this._logLevel}set logLevel(k){if(!(k in p))throw new TypeError(`Invalid value "${k}" assigned to \`logLevel\``);this._logLevel=k}setLogLevel(k){this._logLevel="string"==typeof k?H[k]:k}get logHandler(){return this._logHandler}set logHandler(k){if("function"!=typeof k)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=k}get userLogHandler(){return this._userLogHandler}set userLogHandler(k){this._userLogHandler=k}debug(...k){this._userLogHandler&&this._userLogHandler(this,p.DEBUG,...k),this._logHandler(this,p.DEBUG,...k)}log(...k){this._userLogHandler&&this._userLogHandler(this,p.VERBOSE,...k),this._logHandler(this,p.VERBOSE,...k)}info(...k){this._userLogHandler&&this._userLogHandler(this,p.INFO,...k),this._logHandler(this,p.INFO,...k)}warn(...k){this._userLogHandler&&this._userLogHandler(this,p.WARN,...k),this._logHandler(this,p.WARN,...k)}error(...k){this._userLogHandler&&this._userLogHandler(this,p.ERROR,...k),this._logHandler(this,p.ERROR,...k)}}function ke(V){B.forEach(k=>{k.setLogLevel(V)})}function ye(V,k){for(const ee of B){let Ce=null;k&&k.level&&(Ce=H[k.level]),ee.userLogHandler=null===V?null:(pe,Oe,...ht)=>{const _t=ht.map(Ze=>{if(null==Ze)return null;if("string"==typeof Ze)return Ze;if("number"==typeof Ze||"boolean"==typeof Ze)return Ze.toString();if(Ze instanceof Error)return Ze.message;try{return JSON.stringify(Ze)}catch{return null}}).filter(Ze=>Ze).join(" ");Oe>=(Ce??pe.logLevel)&&V({level:p[Oe].toLowerCase(),message:_t,args:ht,type:pe.name})}}}},1878:(rt,ve,x)=>{x.d(ve,{X3:()=>wn});var B=x(5861);const p=(re,Q)=>Q.some(Ye=>re instanceof Ye);let H,z;const be=new WeakMap,ke=new WeakMap,ye=new WeakMap,V=new WeakMap,k=new WeakMap;let pe={get(re,Q,Ye){if(re instanceof IDBTransaction){if("done"===Q)return ke.get(re);if("objectStoreNames"===Q)return re.objectStoreNames||ye.get(re);if("store"===Q)return Ye.objectStoreNames[1]?void 0:Ye.objectStore(Ye.objectStoreNames[0])}return Ze(re[Q])},set:(re,Q,Ye)=>(re[Q]=Ye,!0),has:(re,Q)=>re instanceof IDBTransaction&&("done"===Q||"store"===Q)||Q in re};function _t(re){return"function"==typeof re?function ht(re){return re!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ae(){return z||(z=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(re)?function(...Q){return re.apply(Ht(this),Q),Ze(be.get(this))}:function(...Q){return Ze(re.apply(Ht(this),Q))}:function(Q,...Ye){const tt=re.call(Ht(this),Q,...Ye);return ye.set(tt,Q.sort?Q.sort():[Q]),Ze(tt)}}(re):(re instanceof IDBTransaction&&function Ce(re){if(ke.has(re))return;const Q=new Promise((Ye,tt)=>{const Bn=()=>{re.removeEventListener("complete",mn),re.removeEventListener("error",Te),re.removeEventListener("abort",Te)},mn=()=>{Ye(),Bn()},Te=()=>{tt(re.error||new DOMException("AbortError","AbortError")),Bn()};re.addEventListener("complete",mn),re.addEventListener("error",Te),re.addEventListener("abort",Te)});ke.set(re,Q)}(re),p(re,function se(){return H||(H=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(re,pe):re)}function Ze(re){if(re instanceof IDBRequest)return function ee(re){const Q=new Promise((Ye,tt)=>{const Bn=()=>{re.removeEventListener("success",mn),re.removeEventListener("error",Te)},mn=()=>{Ye(Ze(re.result)),Bn()},Te=()=>{tt(re.error),Bn()};re.addEventListener("success",mn),re.addEventListener("error",Te)});return Q.then(Ye=>{Ye instanceof IDBCursor&&be.set(Ye,re)}).catch(()=>{}),k.set(Q,re),Q}(re);if(V.has(re))return V.get(re);const Q=_t(re);return Q!==re&&(V.set(re,Q),k.set(Q,re)),Q}const Ht=re=>k.get(re);function wn(re,Q,{blocked:Ye,upgrade:tt,blocking:Bn,terminated:mn}={}){const Te=indexedDB.open(re,Q),ir=Ze(Te);return tt&&Te.addEventListener("upgradeneeded",he=>{tt(Ze(Te.result),he.oldVersion,he.newVersion,Ze(Te.transaction),he)}),Ye&&Te.addEventListener("blocked",he=>Ye(he.oldVersion,he.newVersion,he)),ir.then(he=>{mn&&he.addEventListener("close",()=>mn()),Bn&&he.addEventListener("versionchange",Ae=>Bn(Ae.oldVersion,Ae.newVersion,Ae))}).catch(()=>{}),ir}const Se=["get","getKey","getAll","getAllKeys","count"],de=["put","add","delete","clear"],Be=new Map;function ut(re,Q){var Ye;if(!(re instanceof IDBDatabase)||Q in re||"string"!=typeof Q)return;if(Be.get(Q))return Be.get(Q);const tt=Q.replace(/FromIndex$/,""),Bn=Q!==tt,mn=de.includes(tt);if(!(tt in(Bn?IDBIndex:IDBObjectStore).prototype)||!mn&&!Se.includes(tt))return;const Te=function(he){return(Ye=Ye||(0,B.Z)(function*(Ae,...U){const G=this.transaction(Ae,mn?"readwrite":"readonly");let Z=G.store;return Bn&&(Z=Z.index(U.shift())),(yield Promise.all([Z[tt](...U),mn&&G.done]))[0]})).apply(this,arguments)};return Be.set(Q,Te),Te}!function Oe(re){pe=re(pe)}(re=>({...re,get:(Q,Ye,tt)=>ut(Q,Ye)||re.get(Q,Ye,tt),has:(Q,Ye)=>!!ut(Q,Ye)||re.has(Q,Ye)}))},5861:(rt,ve,x)=>{function B(H,z,se,ae,be,ke,ye){try{var V=H[ke](ye),k=V.value}catch(ee){return void se(ee)}V.done?z(k):Promise.resolve(k).then(ae,be)}function p(H){return function(){var z=this,se=arguments;return new Promise(function(ae,be){var ke=H.apply(z,se);function ye(k){B(ke,ae,be,ye,V,"next",k)}function V(k){B(ke,ae,be,ye,V,"throw",k)}ye(void 0)})}}x.d(ve,{Z:()=>p})},7582:(rt,ve,x)=>{function ee(U,G,Z,X){return new(Z||(Z=Promise))(function(ne,$e){function Ve(Ct){try{Ge(X.next(Ct))}catch(At){$e(At)}}function vt(Ct){try{Ge(X.throw(Ct))}catch(At){$e(At)}}function Ge(Ct){Ct.done?ne(Ct.value):function ce(ne){return ne instanceof Z?ne:new Z(function($e){$e(ne)})}(Ct.value).then(Ve,vt)}Ge((X=X.apply(U,G||[])).next())})}function we(U){return this instanceof we?(this.v=U,this):new we(U)}function Se(U,G,Z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ce,X=Z.apply(U,G||[]),ne=[];return ce={},$e("next"),$e("throw"),$e("return"),ce[Symbol.asyncIterator]=function(){return this},ce;function $e(Jt){X[Jt]&&(ce[Jt]=function(Rr){return new Promise(function(Pn,zr){ne.push([Jt,Rr,Pn,zr])>1||Ve(Jt,Rr)})})}function Ve(Jt,Rr){try{!function vt(Jt){Jt.value instanceof we?Promise.resolve(Jt.value.v).then(Ge,Ct):At(ne[0][2],Jt)}(X[Jt](Rr))}catch(Pn){At(ne[0][3],Pn)}}function Ge(Jt){Ve("next",Jt)}function Ct(Jt){Ve("throw",Jt)}function At(Jt,Rr){Jt(Rr),ne.shift(),ne.length&&Ve(ne[0][0],ne[0][1])}}function Be(U){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Z,G=U[Symbol.asyncIterator];return G?G.call(U):(U=function ht(U){var G="function"==typeof Symbol&&Symbol.iterator,Z=G&&U[G],X=0;if(Z)return Z.call(U);if(U&&"number"==typeof U.length)return{next:function(){return U&&X>=U.length&&(U=void 0),{value:U&&U[X++],done:!U}}};throw new TypeError(G?"Object is not iterable.":"Symbol.iterator is not defined.")}(U),Z={},X("next"),X("throw"),X("return"),Z[Symbol.asyncIterator]=function(){return this},Z);function X(ne){Z[ne]=U[ne]&&function($e){return new Promise(function(Ve,vt){!function ce(ne,$e,Ve,vt){Promise.resolve(vt).then(function(Ge){ne({value:Ge,done:Ve})},$e)}(Ve,vt,($e=U[ne]($e)).done,$e.value)})}}}x.d(ve,{FC:()=>Se,KL:()=>Be,mG:()=>ee,qq:()=>we}),"function"==typeof SuppressedError&&SuppressedError}},rt=>{rt(rt.s=7870)}]);